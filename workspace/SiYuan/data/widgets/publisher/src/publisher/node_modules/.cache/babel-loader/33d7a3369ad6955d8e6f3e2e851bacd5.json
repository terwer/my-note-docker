{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/*\n * file.js: Simple file storage engine for nconf files\n *\n * (C) 2011, Charlie Robbins and the Contributors.\n *\n */\nvar fs = require('fs'),\n    path = require('path'),\n    util = require('util'),\n    Secure = require('secure-keys'),\n    formats = require('../formats'),\n    Memory = require('./memory').Memory;\n\nvar exists = fs.exists || path.exists,\n    existsSync = fs.existsSync || path.existsSync; //\n// ### function File (options)\n// #### @options {Object} Options for this instance\n// Constructor function for the File nconf store, a simple abstraction\n// around the Memory store that can persist configuration to disk.\n//\n\nvar File = exports.File = function (options) {\n  if (!options || !options.file) {\n    throw new Error('Missing required option `file`');\n  }\n\n  Memory.call(this, options);\n  this.type = 'file';\n  this.file = options.file;\n  this.dir = options.dir || process.cwd();\n  this.format = options.format || formats.json;\n  this.secure = options.secure;\n  this.spacing = options.json_spacing || options.spacing || 2;\n\n  if (this.secure) {\n    this.secure = Buffer.isBuffer(this.secure) || typeof this.secure === 'string' ? {\n      secret: this.secure.toString()\n    } : this.secure;\n    this.secure.alg = this.secure.alg || 'aes-256-ctr';\n\n    if (this.secure.secretPath) {\n      this.secure.secret = fs.readFileSync(this.secure.secretPath, 'utf8');\n    }\n\n    if (!this.secure.secret) {\n      throw new Error('secure.secret option is required');\n    }\n\n    this.keys = new Secure({\n      secret: this.secure.secret,\n      alg: this.secure.alg,\n      format: this.format\n    });\n  }\n\n  if (options.search) {\n    this.search(this.dir);\n  }\n}; // Inherit from the Memory store\n\n\nutil.inherits(File, Memory); //\n// ### function save (value, callback)\n// #### @value {Object} _Ignored_ Left here for consistency\n// #### @callback {function} Continuation to respond to when complete.\n// Saves the current configuration object to disk at `this.file`\n// using the format specified by `this.format`.\n//\n\nFile.prototype.save = function (value, callback) {\n  this.saveToFile(this.file, value, callback);\n}; //\n// ### function saveToFile (path, value, callback)\n// #### @path {string} The path to the file where we save the configuration to  \n// #### @format {Object} Optional formatter, default behing the one of the store\n// #### @callback {function} Continuation to respond to when complete.\n// Saves the current configuration object to disk at `this.file`\n// using the format specified by `this.format`.\n//\n\n\nFile.prototype.saveToFile = function (path, format, callback) {\n  if (!callback) {\n    callback = format;\n    format = this.format;\n  }\n\n  fs.writeFile(path, this.stringify(format), callback);\n}; //\n// ### function saveSync (value, callback)\n// Saves the current configuration object to disk at `this.file`\n// using the format specified by `this.format` synchronously.\n//\n\n\nFile.prototype.saveSync = function () {\n  fs.writeFileSync(this.file, this.stringify());\n  return this.store;\n}; //\n// ### function load (callback)\n// #### @callback {function} Continuation to respond to when complete.\n// Responds with an Object representing all keys associated in this instance.\n//\n\n\nFile.prototype.load = function (callback) {\n  var self = this;\n  exists(self.file, function (exists) {\n    if (!exists) {\n      return callback(null, {});\n    } //\n    // Else, the path exists, read it from disk\n    //\n\n\n    fs.readFile(self.file, function (err, data) {\n      if (err) {\n        return callback(err);\n      }\n\n      try {\n        // Deals with string that include BOM\n        var stringData = data.toString();\n\n        if (stringData.charAt(0) === '\\uFEFF') {\n          stringData = stringData.substr(1);\n        }\n\n        self.store = self.parse(stringData);\n      } catch (ex) {\n        return callback(new Error(\"Error parsing your configuration file: [\" + self.file + ']: ' + ex.message));\n      }\n\n      callback(null, self.store);\n    });\n  });\n}; //\n// ### function loadSync (callback)\n// Attempts to load the data stored in `this.file` synchronously\n// and responds appropriately.\n//\n\n\nFile.prototype.loadSync = function () {\n  if (!existsSync(this.file)) {\n    this.store = {};\n    return this.store;\n  } //\n  // Else, the path exists, read it from disk\n  //\n\n\n  try {\n    // Deals with file that include BOM\n    var fileData = fs.readFileSync(this.file, 'utf8');\n\n    if (fileData.charAt(0) === '\\uFEFF') {\n      fileData = fileData.substr(1);\n    }\n\n    this.store = this.parse(fileData);\n  } catch (ex) {\n    throw new Error(\"Error parsing your configuration file: [\" + this.file + ']: ' + ex.message);\n  }\n\n  return this.store;\n}; //\n// ### function stringify ()\n// Returns an encrypted version of the contents IIF\n// `this.secure` is enabled\n//\n\n\nFile.prototype.stringify = function (format) {\n  var data = this.store;\n\n  if (!format) {\n    format = this.format;\n  }\n\n  if (this.secure) {\n    data = this.keys.encrypt(data);\n  }\n\n  return format.stringify(data, null, this.spacing);\n}; //\n// ### function parse (contents)\n// Returns a decrypted version of the contents IFF\n// `this.secure` is enabled.\n//\n\n\nFile.prototype.parse = function (contents) {\n  var parsed = this.format.parse(contents);\n\n  if (!this.secure) {\n    return parsed;\n  }\n\n  return this.keys.decrypt(parsed);\n}; //\n// ### function search (base)\n// #### @base {string} Base directory (or file) to begin searching for the target file.\n// Attempts to find `this.file` by iteratively searching up the\n// directory structure\n//\n\n\nFile.prototype.search = function (base) {\n  var looking = true,\n      fullpath,\n      previous,\n      stats;\n  base = base || process.cwd();\n\n  if (this.file[0] === '/') {\n    //\n    // If filename for this instance is a fully qualified path\n    // (i.e. it starts with a `'/'`) then check if it exists\n    //\n    try {\n      stats = fs.statSync(fs.realpathSync(this.file));\n\n      if (stats.isFile()) {\n        fullpath = this.file;\n        looking = false;\n      }\n    } catch (ex) {//\n      // Ignore errors\n      //\n    }\n  }\n\n  if (looking && base) {\n    //\n    // Attempt to stat the realpath located at `base`\n    // if the directory does not exist then return false.\n    //\n    try {\n      var stat = fs.statSync(fs.realpathSync(base));\n      looking = stat.isDirectory();\n    } catch (ex) {\n      return false;\n    }\n  }\n\n  while (looking) {\n    //\n    // Iteratively look up the directory structure from `base`\n    //\n    try {\n      stats = fs.statSync(fs.realpathSync(fullpath = path.join(base, this.file)));\n      looking = stats.isDirectory();\n    } catch (ex) {\n      previous = base;\n      base = path.dirname(base);\n\n      if (previous === base) {\n        //\n        // If we've reached the top of the directory structure then simply use\n        // the default file path.\n        //\n        try {\n          stats = fs.statSync(fs.realpathSync(fullpath = path.join(this.dir, this.file)));\n\n          if (stats.isDirectory()) {\n            fullpath = undefined;\n          }\n        } catch (ex) {//\n          // Ignore errors\n          //\n        }\n\n        looking = false;\n      }\n    }\n  } //\n  // Set the file for this instance to the fullpath\n  // that we have found during the search. In the event that\n  // the search was unsuccessful use the original value for `this.file`.\n  //\n\n\n  this.file = fullpath || this.file;\n  return fullpath;\n};","map":{"version":3,"names":["fs","require","path","util","Secure","formats","Memory","exists","existsSync","File","exports","options","file","Error","call","type","dir","process","cwd","format","json","secure","spacing","json_spacing","Buffer","isBuffer","secret","toString","alg","secretPath","readFileSync","keys","search","inherits","prototype","save","value","callback","saveToFile","writeFile","stringify","saveSync","writeFileSync","store","load","self","readFile","err","data","stringData","charAt","substr","parse","ex","message","loadSync","fileData","encrypt","contents","parsed","decrypt","base","looking","fullpath","previous","stats","statSync","realpathSync","isFile","stat","isDirectory","join","dirname","undefined"],"sources":["/Users/terwer/Documents/mydocs/my-note-docker/workspace/SiYuan/data/widgets/publisher/src/publisher/node_modules/nconf/lib/nconf/stores/file.js"],"sourcesContent":["/*\n * file.js: Simple file storage engine for nconf files\n *\n * (C) 2011, Charlie Robbins and the Contributors.\n *\n */\n\nvar fs = require('fs'),\n    path = require('path'),\n    util = require('util'),\n    Secure = require('secure-keys'),\n    formats = require('../formats'),\n    Memory = require('./memory').Memory;\n\nvar exists = fs.exists || path.exists,\n    existsSync = fs.existsSync || path.existsSync;\n\n//\n// ### function File (options)\n// #### @options {Object} Options for this instance\n// Constructor function for the File nconf store, a simple abstraction\n// around the Memory store that can persist configuration to disk.\n//\nvar File = exports.File = function (options) {\n  if (!options || !options.file) {\n    throw new Error('Missing required option `file`');\n  }\n\n  Memory.call(this, options);\n\n  this.type    = 'file';\n  this.file    = options.file;\n  this.dir     = options.dir    || process.cwd();\n  this.format  = options.format || formats.json;\n  this.secure  = options.secure;\n  this.spacing = options.json_spacing\n    || options.spacing\n    || 2;\n\n  if (this.secure) {\n    this.secure = Buffer.isBuffer(this.secure) || typeof this.secure === 'string'\n      ? { secret: this.secure.toString() }\n      : this.secure;\n\n    this.secure.alg = this.secure.alg || 'aes-256-ctr';\n    if (this.secure.secretPath) {\n      this.secure.secret = fs.readFileSync(this.secure.secretPath, 'utf8');\n    }\n\n    if (!this.secure.secret) {\n      throw new Error('secure.secret option is required');\n    }\n\n    this.keys = new Secure({\n      secret: this.secure.secret,\n      alg: this.secure.alg,\n      format: this.format\n    });\n  }\n\n  if (options.search) {\n    this.search(this.dir);\n  }\n};\n\n// Inherit from the Memory store\nutil.inherits(File, Memory);\n\n//\n// ### function save (value, callback)\n// #### @value {Object} _Ignored_ Left here for consistency\n// #### @callback {function} Continuation to respond to when complete.\n// Saves the current configuration object to disk at `this.file`\n// using the format specified by `this.format`.\n//\nFile.prototype.save = function (value, callback) {\n  this.saveToFile(this.file, value, callback);\n};\n\n//\n// ### function saveToFile (path, value, callback)\n// #### @path {string} The path to the file where we save the configuration to  \n// #### @format {Object} Optional formatter, default behing the one of the store\n// #### @callback {function} Continuation to respond to when complete.\n// Saves the current configuration object to disk at `this.file`\n// using the format specified by `this.format`.\n//\nFile.prototype.saveToFile = function (path, format, callback) {\n  if (!callback) {\n    callback = format;\n    format = this.format;\n  }\n\n  fs.writeFile(path, this.stringify(format), callback);\n};\n\n//\n// ### function saveSync (value, callback)\n// Saves the current configuration object to disk at `this.file`\n// using the format specified by `this.format` synchronously.\n//\nFile.prototype.saveSync = function () {\n  fs.writeFileSync(this.file, this.stringify());\n  return this.store;\n};\n\n//\n// ### function load (callback)\n// #### @callback {function} Continuation to respond to when complete.\n// Responds with an Object representing all keys associated in this instance.\n//\nFile.prototype.load = function (callback) {\n  var self = this;\n\n  exists(self.file, function (exists) {\n    if (!exists) {\n      return callback(null, {});\n    }\n\n    //\n    // Else, the path exists, read it from disk\n    //\n    fs.readFile(self.file, function (err, data) {\n      if (err) {\n        return callback(err);\n      }\n\n      try {\n        // Deals with string that include BOM\n        var stringData = data.toString();\n        if (stringData.charAt(0) === '\\uFEFF') {\n          stringData = stringData.substr(1);\n        }\n\n        self.store = self.parse(stringData);\n      }\n      catch (ex) {\n        return callback(new Error(\"Error parsing your configuration file: [\" + self.file + ']: ' + ex.message));\n      }\n\n      callback(null, self.store);\n    });\n  });\n};\n\n//\n// ### function loadSync (callback)\n// Attempts to load the data stored in `this.file` synchronously\n// and responds appropriately.\n//\nFile.prototype.loadSync = function () {\n  if (!existsSync(this.file)) {\n    this.store = {};\n    return this.store;\n  }\n\n  //\n  // Else, the path exists, read it from disk\n  //\n  try {\n    // Deals with file that include BOM\n    var fileData = fs.readFileSync(this.file, 'utf8');\n    if (fileData.charAt(0) === '\\uFEFF') {\n      fileData = fileData.substr(1);\n    }\n\n    this.store = this.parse(fileData);\n  }\n  catch (ex) {\n    throw new Error(\"Error parsing your configuration file: [\" + this.file + ']: ' + ex.message);\n  }\n\n  return this.store;\n};\n\n//\n// ### function stringify ()\n// Returns an encrypted version of the contents IIF\n// `this.secure` is enabled\n//\nFile.prototype.stringify = function (format) {\n  var data = this.store;\n  if (!format) {\n      format = this.format\n  }\n\n  if (this.secure) {\n    data = this.keys.encrypt(data);\n  }\n\n  return format.stringify(data, null, this.spacing);\n};\n\n//\n// ### function parse (contents)\n// Returns a decrypted version of the contents IFF\n// `this.secure` is enabled.\n//\nFile.prototype.parse = function (contents) {\n  var parsed = this.format.parse(contents);\n\n  if (!this.secure) {\n    return parsed;\n  }\n\n  return this.keys.decrypt(parsed);\n\n};\n\n\n//\n// ### function search (base)\n// #### @base {string} Base directory (or file) to begin searching for the target file.\n// Attempts to find `this.file` by iteratively searching up the\n// directory structure\n//\nFile.prototype.search = function (base) {\n  var looking = true,\n      fullpath,\n      previous,\n      stats;\n\n  base = base || process.cwd();\n\n  if (this.file[0] === '/') {\n    //\n    // If filename for this instance is a fully qualified path\n    // (i.e. it starts with a `'/'`) then check if it exists\n    //\n    try {\n      stats = fs.statSync(fs.realpathSync(this.file));\n      if (stats.isFile()) {\n        fullpath = this.file;\n        looking = false;\n      }\n    }\n    catch (ex) {\n      //\n      // Ignore errors\n      //\n    }\n  }\n\n  if (looking && base) {\n    //\n    // Attempt to stat the realpath located at `base`\n    // if the directory does not exist then return false.\n    //\n    try {\n      var stat = fs.statSync(fs.realpathSync(base));\n      looking = stat.isDirectory();\n    }\n    catch (ex) {\n      return false;\n    }\n  }\n\n  while (looking) {\n    //\n    // Iteratively look up the directory structure from `base`\n    //\n    try {\n      stats = fs.statSync(fs.realpathSync(fullpath = path.join(base, this.file)));\n      looking = stats.isDirectory();\n    }\n    catch (ex) {\n      previous = base;\n      base = path.dirname(base);\n\n      if (previous === base) {\n        //\n        // If we've reached the top of the directory structure then simply use\n        // the default file path.\n        //\n        try {\n          stats = fs.statSync(fs.realpathSync(fullpath = path.join(this.dir, this.file)));\n          if (stats.isDirectory()) {\n            fullpath = undefined;\n          }\n        }\n        catch (ex) {\n          //\n          // Ignore errors\n          //\n        }\n\n        looking = false;\n      }\n    }\n  }\n\n  //\n  // Set the file for this instance to the fullpath\n  // that we have found during the search. In the event that\n  // the search was unsuccessful use the original value for `this.file`.\n  //\n  this.file = fullpath || this.file;\n\n  return fullpath;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}