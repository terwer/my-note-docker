{"ast":null,"code":"// https://github.com/lmaccherone/node-localstorage\nif (typeof localStorage === \"undefined\" || localStorage === null) {\n  const LocalStorage = require('node-localstorage').LocalStorage;\n\n  global.localStorage = new LocalStorage('./scratch');\n}\n\nexport function getConf(key) {\n  console.log(\"尝试从localStorage获取数据key=>\", key);\n  const value = localStorage.getItem(key);\n\n  if (!value) {\n    return null;\n  }\n\n  const valueObj = JSON.parse(value);\n  console.log(\"从localStorage获取数据=>\", valueObj);\n  return valueObj;\n}\nexport async function setConf(key, value) {\n  console.log(\"尝试保存数据到localStorage里key=>\", key);\n  const valueString = JSON.stringify(value);\n  localStorage.setItem(key, valueString);\n  console.log(\"保存数据到localStorage=>\", value);\n}","map":{"version":3,"names":["localStorage","LocalStorage","require","global","getConf","key","console","log","value","getItem","valueObj","JSON","parse","setConf","valueString","stringify","setItem"],"sources":["/Users/terwer/Documents/mydocs/my-note-docker/workspace/SiYuan/data/widgets/publisher/src/publisher/src/lib/config.js"],"sourcesContent":["// https://github.com/lmaccherone/node-localstorage\nif (typeof localStorage === \"undefined\" || localStorage === null) {\n    const LocalStorage = require('node-localstorage').LocalStorage;\n    global.localStorage = new LocalStorage('./scratch');\n}\n\nexport function getConf(key) {\n    console.log(\"尝试从localStorage获取数据key=>\", key)\n\n    const value = localStorage.getItem(key)\n    if (!value) {\n        return null;\n    }\n    const valueObj = JSON.parse(value);\n    console.log(\"从localStorage获取数据=>\", valueObj)\n    return valueObj;\n}\n\nexport async function setConf(key, value) {\n    console.log(\"尝试保存数据到localStorage里key=>\", key)\n    const valueString = JSON.stringify(value)\n    localStorage.setItem(key, valueString)\n    console.log(\"保存数据到localStorage=>\", value)\n}"],"mappings":"AAAA;AACA,IAAI,OAAOA,YAAP,KAAwB,WAAxB,IAAuCA,YAAY,KAAK,IAA5D,EAAkE;EAC9D,MAAMC,YAAY,GAAGC,OAAO,CAAC,mBAAD,CAAP,CAA6BD,YAAlD;;EACAE,MAAM,CAACH,YAAP,GAAsB,IAAIC,YAAJ,CAAiB,WAAjB,CAAtB;AACH;;AAED,OAAO,SAASG,OAAT,CAAiBC,GAAjB,EAAsB;EACzBC,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCF,GAAxC;EAEA,MAAMG,KAAK,GAAGR,YAAY,CAACS,OAAb,CAAqBJ,GAArB,CAAd;;EACA,IAAI,CAACG,KAAL,EAAY;IACR,OAAO,IAAP;EACH;;EACD,MAAME,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAjB;EACAF,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCG,QAAnC;EACA,OAAOA,QAAP;AACH;AAED,OAAO,eAAeG,OAAf,CAAuBR,GAAvB,EAA4BG,KAA5B,EAAmC;EACtCF,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCF,GAAzC;EACA,MAAMS,WAAW,GAAGH,IAAI,CAACI,SAAL,CAAeP,KAAf,CAApB;EACAR,YAAY,CAACgB,OAAb,CAAqBX,GAArB,EAA0BS,WAA1B;EACAR,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCC,KAAnC;AACH"},"metadata":{},"sourceType":"module"}