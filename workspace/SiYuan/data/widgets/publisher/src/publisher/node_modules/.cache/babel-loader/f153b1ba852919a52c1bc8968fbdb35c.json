{"ast":null,"code":"// https://github.com/lmaccherone/node-localstorage\nif (typeof localStorage === \"undefined\" || localStorage === null) {\n  const LocalStorage = require('node-localstorage').LocalStorage;\n\n  global.localStorage = new LocalStorage('./scratch');\n}\n\nexport function getConf(key) {\n  console.warn(\"尝试从localStorage获取数据，key=>\", key);\n  const value = localStorage.getItem(key);\n\n  if (!value) {\n    console.log(\"未找到对应值，key=>\", key);\n    return null;\n  }\n\n  const valueObj = JSON.parse(value);\n  console.log(\"从localStorage获取数据=>\", valueObj);\n  return valueObj;\n}\nexport async function setConf(key, value) {\n  console.warn(\"尝试保存数据到localStorage里key=>\", key);\n  const valueString = JSON.stringify(value);\n  localStorage.setItem(key, valueString);\n  console.log(\"保存数据到localStorage=>\", value);\n}","map":{"version":3,"names":["localStorage","LocalStorage","require","global","getConf","key","console","warn","value","getItem","log","valueObj","JSON","parse","setConf","valueString","stringify","setItem"],"sources":["/Users/terwer/Documents/mydocs/my-note-docker/workspace/SiYuan/data/widgets/publisher/src/publisher/src/lib/config.js"],"sourcesContent":["// https://github.com/lmaccherone/node-localstorage\nif (typeof localStorage === \"undefined\" || localStorage === null) {\n    const LocalStorage = require('node-localstorage').LocalStorage;\n    global.localStorage = new LocalStorage('./scratch');\n}\n\nexport function getConf(key) {\n    console.warn(\"尝试从localStorage获取数据，key=>\", key)\n\n    const value = localStorage.getItem(key)\n    if (!value) {\n        console.log(\"未找到对应值，key=>\", key)\n        return null;\n    }\n    const valueObj = JSON.parse(value);\n    console.log(\"从localStorage获取数据=>\", valueObj)\n    return valueObj;\n}\n\nexport async function setConf(key, value) {\n    console.warn(\"尝试保存数据到localStorage里key=>\", key)\n    const valueString = JSON.stringify(value)\n    localStorage.setItem(key, valueString)\n    console.log(\"保存数据到localStorage=>\", value)\n}"],"mappings":"AAAA;AACA,IAAI,OAAOA,YAAP,KAAwB,WAAxB,IAAuCA,YAAY,KAAK,IAA5D,EAAkE;EAC9D,MAAMC,YAAY,GAAGC,OAAO,CAAC,mBAAD,CAAP,CAA6BD,YAAlD;;EACAE,MAAM,CAACH,YAAP,GAAsB,IAAIC,YAAJ,CAAiB,WAAjB,CAAtB;AACH;;AAED,OAAO,SAASG,OAAT,CAAiBC,GAAjB,EAAsB;EACzBC,OAAO,CAACC,IAAR,CAAa,2BAAb,EAA0CF,GAA1C;EAEA,MAAMG,KAAK,GAAGR,YAAY,CAACS,OAAb,CAAqBJ,GAArB,CAAd;;EACA,IAAI,CAACG,KAAL,EAAY;IACRF,OAAO,CAACI,GAAR,CAAY,cAAZ,EAA4BL,GAA5B;IACA,OAAO,IAAP;EACH;;EACD,MAAMM,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWL,KAAX,CAAjB;EACAF,OAAO,CAACI,GAAR,CAAY,qBAAZ,EAAmCC,QAAnC;EACA,OAAOA,QAAP;AACH;AAED,OAAO,eAAeG,OAAf,CAAuBT,GAAvB,EAA4BG,KAA5B,EAAmC;EACtCF,OAAO,CAACC,IAAR,CAAa,2BAAb,EAA0CF,GAA1C;EACA,MAAMU,WAAW,GAAGH,IAAI,CAACI,SAAL,CAAeR,KAAf,CAApB;EACAR,YAAY,CAACiB,OAAb,CAAqBZ,GAArB,EAA0BU,WAA1B;EACAT,OAAO,CAACI,GAAR,CAAY,qBAAZ,EAAmCF,KAAnC;AACH"},"metadata":{},"sourceType":"module"}