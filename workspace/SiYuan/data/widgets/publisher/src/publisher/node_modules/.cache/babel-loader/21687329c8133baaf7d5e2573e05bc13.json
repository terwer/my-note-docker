{"ast":null,"code":"// https://github.com/lmaccherone/node-localstorage\nconst JSONStorage = require('node-localstorage').JSONStorage;\n\nconst myStorage = new JSONStorage('./terwer');\nexport function getConf(key) {\n  console.warn(\"尝试从jsonStorage获取数据key=>\", key);\n  const value = myStorage.getItem(key);\n\n  if (!value) {\n    return null;\n  }\n\n  const valueObj = JSON.parse(value);\n  console.log(\"从jsonStorage获取数据=>\", valueObj);\n  return valueObj;\n}\nexport async function setConf(key, value) {\n  console.warn(\"尝试保存数据到jsonStorage里key=>\", key);\n  const valueString = JSON.stringify(value);\n  myStorage.setItem(key, valueString);\n  console.log(\"保存数据到jsonStorage=>\", value);\n} // if (typeof localStorage === \"undefined\" || localStorage === null) {\n//     const LocalStorage = require('node-localstorage').LocalStorage;\n//     global.localStorage = new LocalStorage('./scratch');\n// }\n//\n// export function getConf(key) {\n//     console.warn(\"尝试从localStorage获取数据key=>\", key)\n//\n//     const value = localStorage.getItem(key)\n//     if (!value) {\n//         return null;\n//     }\n//     const valueObj = JSON.parse(value);\n//     console.log(\"从localStorage获取数据=>\", valueObj)\n//     return valueObj;\n// }\n//\n// export async function setConf(key, value) {\n//     console.warn(\"尝试保存数据到localStorage里key=>\", key)\n//     const valueString = JSON.stringify(value)\n//     localStorage.setItem(key, valueString)\n//     console.log(\"保存数据到localStorage=>\", value)\n// }","map":{"version":3,"names":["JSONStorage","require","myStorage","getConf","key","console","warn","value","getItem","valueObj","JSON","parse","log","setConf","valueString","stringify","setItem"],"sources":["/Users/terwer/Documents/mydocs/my-note-docker/workspace/SiYuan/data/widgets/publisher/src/publisher/src/lib/config.js"],"sourcesContent":["// https://github.com/lmaccherone/node-localstorage\nconst JSONStorage = require('node-localstorage').JSONStorage;\nconst myStorage = new JSONStorage('./terwer');\n\nexport function getConf(key) {\n    console.warn(\"尝试从jsonStorage获取数据key=>\", key)\n\n    const value = myStorage.getItem(key)\n    if (!value) {\n        return null;\n    }\n    const valueObj = JSON.parse(value);\n    console.log(\"从jsonStorage获取数据=>\", valueObj)\n    return valueObj;\n}\n\nexport async function setConf(key, value) {\n    console.warn(\"尝试保存数据到jsonStorage里key=>\", key)\n    const valueString = JSON.stringify(value)\n    myStorage.setItem(key, valueString)\n    console.log(\"保存数据到jsonStorage=>\", value)\n}\n\n// if (typeof localStorage === \"undefined\" || localStorage === null) {\n//     const LocalStorage = require('node-localstorage').LocalStorage;\n//     global.localStorage = new LocalStorage('./scratch');\n// }\n//\n// export function getConf(key) {\n//     console.warn(\"尝试从localStorage获取数据key=>\", key)\n//\n//     const value = localStorage.getItem(key)\n//     if (!value) {\n//         return null;\n//     }\n//     const valueObj = JSON.parse(value);\n//     console.log(\"从localStorage获取数据=>\", valueObj)\n//     return valueObj;\n// }\n//\n// export async function setConf(key, value) {\n//     console.warn(\"尝试保存数据到localStorage里key=>\", key)\n//     const valueString = JSON.stringify(value)\n//     localStorage.setItem(key, valueString)\n//     console.log(\"保存数据到localStorage=>\", value)\n// }"],"mappings":"AAAA;AACA,MAAMA,WAAW,GAAGC,OAAO,CAAC,mBAAD,CAAP,CAA6BD,WAAjD;;AACA,MAAME,SAAS,GAAG,IAAIF,WAAJ,CAAgB,UAAhB,CAAlB;AAEA,OAAO,SAASG,OAAT,CAAiBC,GAAjB,EAAsB;EACzBC,OAAO,CAACC,IAAR,CAAa,yBAAb,EAAwCF,GAAxC;EAEA,MAAMG,KAAK,GAAGL,SAAS,CAACM,OAAV,CAAkBJ,GAAlB,CAAd;;EACA,IAAI,CAACG,KAAL,EAAY;IACR,OAAO,IAAP;EACH;;EACD,MAAME,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAjB;EACAF,OAAO,CAACO,GAAR,CAAY,oBAAZ,EAAkCH,QAAlC;EACA,OAAOA,QAAP;AACH;AAED,OAAO,eAAeI,OAAf,CAAuBT,GAAvB,EAA4BG,KAA5B,EAAmC;EACtCF,OAAO,CAACC,IAAR,CAAa,0BAAb,EAAyCF,GAAzC;EACA,MAAMU,WAAW,GAAGJ,IAAI,CAACK,SAAL,CAAeR,KAAf,CAApB;EACAL,SAAS,CAACc,OAAV,CAAkBZ,GAAlB,EAAuBU,WAAvB;EACAT,OAAO,CAACO,GAAR,CAAY,oBAAZ,EAAkCL,KAAlC;AACH,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}