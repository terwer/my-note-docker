{"ast":null,"code":"// https://github.com/lmaccherone/node-localstorage\nif (typeof localStorage === \"undefined\" || localStorage === null) {\n  var LocalStorage = require('node-localstorage').LocalStorage;\n\n  global.localStorage = new LocalStorage('./scratch');\n}\n\nexport function getConf(key) {\n  const value = localStorage.getItem(key);\n\n  if (!value) {\n    return null;\n  }\n\n  const valueObj = JSON.parse(value);\n  console.log(\"从localStorage获取数据=>\", valueObj);\n  return valueObj;\n}\nexport async function setConf(key, value) {\n  console.log(\"保存数据到localStorage=>\", value);\n  const valueString = JSON.stringify(value);\n  localStorage.setItem(key, valueString);\n}","map":{"version":3,"names":["localStorage","LocalStorage","require","global","getConf","key","value","getItem","valueObj","JSON","parse","console","log","setConf","valueString","stringify","setItem"],"sources":["/Users/terwer/Documents/mydocs/my-note-docker/workspace/SiYuan/data/widgets/publisher/src/publisher/src/lib/config.js"],"sourcesContent":["// https://github.com/lmaccherone/node-localstorage\nif (typeof localStorage === \"undefined\" || localStorage === null) {\n    var LocalStorage = require('node-localstorage').LocalStorage;\n    global.localStorage = new LocalStorage('./scratch');\n}\n\nexport function getConf(key) {\n    const value = localStorage.getItem(key)\n    if (!value) {\n        return null;\n    }\n    const valueObj = JSON.parse(value);\n    console.log(\"从localStorage获取数据=>\", valueObj)\n    return valueObj;\n}\n\nexport async function setConf(key, value) {\n    console.log(\"保存数据到localStorage=>\", value)\n    const valueString = JSON.stringify(value)\n    localStorage.setItem(key, valueString)\n}"],"mappings":"AAAA;AACA,IAAI,OAAOA,YAAP,KAAwB,WAAxB,IAAuCA,YAAY,KAAK,IAA5D,EAAkE;EAC9D,IAAIC,YAAY,GAAGC,OAAO,CAAC,mBAAD,CAAP,CAA6BD,YAAhD;;EACAE,MAAM,CAACH,YAAP,GAAsB,IAAIC,YAAJ,CAAiB,WAAjB,CAAtB;AACH;;AAED,OAAO,SAASG,OAAT,CAAiBC,GAAjB,EAAsB;EACzB,MAAMC,KAAK,GAAGN,YAAY,CAACO,OAAb,CAAqBF,GAArB,CAAd;;EACA,IAAI,CAACC,KAAL,EAAY;IACR,OAAO,IAAP;EACH;;EACD,MAAME,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAjB;EACAK,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCJ,QAAnC;EACA,OAAOA,QAAP;AACH;AAED,OAAO,eAAeK,OAAf,CAAuBR,GAAvB,EAA4BC,KAA5B,EAAmC;EACtCK,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCN,KAAnC;EACA,MAAMQ,WAAW,GAAGL,IAAI,CAACM,SAAL,CAAeT,KAAf,CAApB;EACAN,YAAY,CAACgB,OAAb,CAAqBX,GAArB,EAA0BS,WAA1B;AACH"},"metadata":{},"sourceType":"module"}