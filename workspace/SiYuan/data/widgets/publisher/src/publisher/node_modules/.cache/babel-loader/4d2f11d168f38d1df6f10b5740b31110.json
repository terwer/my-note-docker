{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*!\n  * vue-i18n v9.1.10\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { getGlobalThis, format, makeSymbol, isPlainObject, isArray, hasOwn, isObject, isBoolean, isString, isRegExp, isFunction, assign, isNumber, warn, createEmitter, isEmptyObject } from '@intlify/shared';\nimport { createCompileError, handleFlatJson, createCoreContext, updateFallbackLocale, resolveValue, clearDateTimeFormat, clearNumberFormat, setAdditionalMeta, NOT_REOSLVED, isTranslateFallbackWarn, isTranslateMissingWarn, parseTranslateArgs, translate, MISSING_RESOLVE_VALUE, parseDateTimeArgs, datetime, parseNumberArgs, number, getLocaleChain, registerMessageCompiler, compileToFunction, setDevToolsHook } from '@intlify/core-base';\nimport { ref, getCurrentInstance, computed, watch, createVNode, Text, h, Fragment, inject, onMounted, onUnmounted, isRef } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\nimport { VueDevToolsLabels, VueDevToolsPlaceholders, VueDevToolsTimelineColors } from '@intlify/vue-devtools';\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\n\nconst VERSION = '9.1.10';\n/**\r\n * This is only called in esm-bundler builds.\r\n * istanbul-ignore-next\r\n */\n\nfunction initFeatureFlags() {\n  let needWarn = false;\n\n  if (typeof __VUE_I18N_FULL_INSTALL__ !== 'boolean') {\n    needWarn = true;\n    getGlobalThis().__VUE_I18N_FULL_INSTALL__ = true;\n  }\n\n  if (typeof __VUE_I18N_LEGACY_API__ !== 'boolean') {\n    needWarn = true;\n    getGlobalThis().__VUE_I18N_LEGACY_API__ = true;\n  }\n\n  if (typeof __INTLIFY_PROD_DEVTOOLS__ !== 'boolean') {\n    getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = false;\n  }\n\n  if (process.env.NODE_ENV !== 'production' && needWarn) {\n    console.warn(`You are running the esm-bundler build of vue-i18n. It is recommended to ` + `configure your bundler to explicitly replace feature flag globals ` + `with boolean literals to get proper tree-shaking in the final bundle.`);\n  }\n}\n\nconst warnMessages = {\n  [6\n  /* FALLBACK_TO_ROOT */\n  ]: `Fall back to {type} '{key}' with root locale.`,\n  [7\n  /* NOT_SUPPORTED_PRESERVE */\n  ]: `Not supported 'preserve'.`,\n  [8\n  /* NOT_SUPPORTED_FORMATTER */\n  ]: `Not supported 'formatter'.`,\n  [9\n  /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */\n  ]: `Not supported 'preserveDirectiveContent'.`,\n  [10\n  /* NOT_SUPPORTED_GET_CHOICE_INDEX */\n  ]: `Not supported 'getChoiceIndex'.`,\n  [11\n  /* COMPONENT_NAME_LEGACY_COMPATIBLE */\n  ]: `Component name legacy compatible: '{name}' -> 'i18n'`,\n  [12\n  /* NOT_FOUND_PARENT_SCOPE */\n  ]: `Not found parent scope. use the global scope.`\n};\n\nfunction getWarnMessage(code, ...args) {\n  return format(warnMessages[code], ...args);\n}\n\nfunction createI18nError(code, ...args) {\n  return createCompileError(code, null, process.env.NODE_ENV !== 'production' ? {\n    messages: errorMessages,\n    args\n  } : undefined);\n}\n\nconst errorMessages = {\n  [14\n  /* UNEXPECTED_RETURN_TYPE */\n  ]: 'Unexpected return type in composer',\n  [15\n  /* INVALID_ARGUMENT */\n  ]: 'Invalid argument',\n  [16\n  /* MUST_BE_CALL_SETUP_TOP */\n  ]: 'Must be called at the top of a `setup` function',\n  [17\n  /* NOT_INSLALLED */\n  ]: 'Need to install with `app.use` function',\n  [22\n  /* UNEXPECTED_ERROR */\n  ]: 'Unexpected error',\n  [18\n  /* NOT_AVAILABLE_IN_LEGACY_MODE */\n  ]: 'Not available in legacy mode',\n  [19\n  /* REQUIRED_VALUE */\n  ]: `Required in value: {0}`,\n  [20\n  /* INVALID_VALUE */\n  ]: `Invalid value`,\n  [21\n  /* CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN */\n  ]: `Cannot setup vue-devtools plugin`\n};\nconst DEVTOOLS_META = '__INTLIFY_META__';\nconst TransrateVNodeSymbol = makeSymbol('__transrateVNode');\nconst DatetimePartsSymbol = makeSymbol('__datetimeParts');\nconst NumberPartsSymbol = makeSymbol('__numberParts');\nconst EnableEmitter = makeSymbol('__enableEmitter');\nconst DisableEmitter = makeSymbol('__disableEmitter');\nconst SetPluralRulesSymbol = makeSymbol('__setPluralRules');\nmakeSymbol('__intlifyMeta');\nconst InejctWithOption = makeSymbol('__injectWithOption');\nlet composerID = 0;\n\nfunction defineCoreMissingHandler(missing) {\n  return (ctx, locale, key, type) => {\n    return missing(locale, key, getCurrentInstance() || undefined, type);\n  };\n}\n\nfunction getLocaleMessages(locale, options) {\n  const {\n    messages,\n    __i18n\n  } = options; // prettier-ignore\n\n  const ret = isPlainObject(messages) ? messages : isArray(__i18n) ? {} : {\n    [locale]: {}\n  }; // merge locale messages of i18n custom block\n\n  if (isArray(__i18n)) {\n    __i18n.forEach(({\n      locale,\n      resource\n    }) => {\n      if (locale) {\n        ret[locale] = ret[locale] || {};\n        deepCopy(resource, ret[locale]);\n      } else {\n        deepCopy(resource, ret);\n      }\n    });\n  } // handle messages for flat json\n\n\n  if (options.flatJson) {\n    for (const key in ret) {\n      if (hasOwn(ret, key)) {\n        handleFlatJson(ret[key]);\n      }\n    }\n  }\n\n  return ret;\n}\n\nconst isNotObjectOrIsArray = val => !isObject(val) || isArray(val); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction deepCopy(src, des) {\n  // src and des should both be objects, and non of then can be a array\n  if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\n    throw createI18nError(20\n    /* INVALID_VALUE */\n    );\n  }\n\n  for (const key in src) {\n    if (hasOwn(src, key)) {\n      if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\n        // replace with src[key] when:\n        // src[key] or des[key] is not a object, or\n        // src[key] or des[key] is a array\n        des[key] = src[key];\n      } else {\n        // src[key] and des[key] are both object, merge them\n        deepCopy(src[key], des[key]);\n      }\n    }\n  }\n} // for Intlify DevTools\n\n\nconst getMetaInfo = /* #__PURE__*/() => {\n  const instance = getCurrentInstance();\n  return instance && instance.type[DEVTOOLS_META] // eslint-disable-line @typescript-eslint/no-explicit-any\n  ? {\n    [DEVTOOLS_META]: instance.type[DEVTOOLS_META]\n  } // eslint-disable-line @typescript-eslint/no-explicit-any\n  : null;\n};\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\n\n\nfunction createComposer(options = {}) {\n  const {\n    __root\n  } = options;\n\n  const _isGlobal = __root === undefined;\n\n  let _inheritLocale = isBoolean(options.inheritLocale) ? options.inheritLocale : true;\n\n  const _locale = ref( // prettier-ignore\n  __root && _inheritLocale ? __root.locale.value : isString(options.locale) ? options.locale : 'en-US');\n\n  const _fallbackLocale = ref( // prettier-ignore\n  __root && _inheritLocale ? __root.fallbackLocale.value : isString(options.fallbackLocale) || isArray(options.fallbackLocale) || isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : _locale.value);\n\n  const _messages = ref(getLocaleMessages(_locale.value, options));\n\n  const _datetimeFormats = ref(isPlainObject(options.datetimeFormats) ? options.datetimeFormats : {\n    [_locale.value]: {}\n  });\n\n  const _numberFormats = ref(isPlainObject(options.numberFormats) ? options.numberFormats : {\n    [_locale.value]: {}\n  }); // warning suppress options\n  // prettier-ignore\n\n\n  let _missingWarn = __root ? __root.missingWarn : isBoolean(options.missingWarn) || isRegExp(options.missingWarn) ? options.missingWarn : true; // prettier-ignore\n\n\n  let _fallbackWarn = __root ? __root.fallbackWarn : isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn) ? options.fallbackWarn : true; // prettier-ignore\n\n\n  let _fallbackRoot = __root ? __root.fallbackRoot : isBoolean(options.fallbackRoot) ? options.fallbackRoot : true; // configure fall back to root\n\n\n  let _fallbackFormat = !!options.fallbackFormat; // runtime missing\n\n\n  let _missing = isFunction(options.missing) ? options.missing : null;\n\n  let _runtimeMissing = isFunction(options.missing) ? defineCoreMissingHandler(options.missing) : null; // postTranslation handler\n\n\n  let _postTranslation = isFunction(options.postTranslation) ? options.postTranslation : null;\n\n  let _warnHtmlMessage = isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;\n\n  let _escapeParameter = !!options.escapeParameter; // custom linked modifiers\n  // prettier-ignore\n\n\n  const _modifiers = __root ? __root.modifiers : isPlainObject(options.modifiers) ? options.modifiers : {}; // pluralRules\n\n\n  let _pluralRules = options.pluralRules || __root && __root.pluralRules; // runtime context\n  // eslint-disable-next-line prefer-const\n\n\n  let _context;\n\n  function getCoreContext() {\n    return createCoreContext({\n      version: VERSION,\n      locale: _locale.value,\n      fallbackLocale: _fallbackLocale.value,\n      messages: _messages.value,\n      datetimeFormats: _datetimeFormats.value,\n      numberFormats: _numberFormats.value,\n      modifiers: _modifiers,\n      pluralRules: _pluralRules,\n      missing: _runtimeMissing === null ? undefined : _runtimeMissing,\n      missingWarn: _missingWarn,\n      fallbackWarn: _fallbackWarn,\n      fallbackFormat: _fallbackFormat,\n      unresolving: true,\n      postTranslation: _postTranslation === null ? undefined : _postTranslation,\n      warnHtmlMessage: _warnHtmlMessage,\n      escapeParameter: _escapeParameter,\n      __datetimeFormatters: isPlainObject(_context) ? _context.__datetimeFormatters : undefined,\n      __numberFormatters: isPlainObject(_context) ? _context.__numberFormatters : undefined,\n      __v_emitter: isPlainObject(_context) ? _context.__v_emitter : undefined,\n      __meta: {\n        framework: 'vue'\n      }\n    });\n  }\n\n  _context = getCoreContext();\n  updateFallbackLocale(_context, _locale.value, _fallbackLocale.value); // track reactivity\n\n  function trackReactivityValues() {\n    return [_locale.value, _fallbackLocale.value, _messages.value, _datetimeFormats.value, _numberFormats.value];\n  } // locale\n\n\n  const locale = computed({\n    get: () => _locale.value,\n    set: val => {\n      _locale.value = val;\n      _context.locale = _locale.value;\n    }\n  }); // fallbackLocale\n\n  const fallbackLocale = computed({\n    get: () => _fallbackLocale.value,\n    set: val => {\n      _fallbackLocale.value = val;\n      _context.fallbackLocale = _fallbackLocale.value;\n      updateFallbackLocale(_context, _locale.value, val);\n    }\n  }); // messages\n\n  const messages = computed(() => _messages.value); // datetimeFormats\n\n  const datetimeFormats = computed(() => _datetimeFormats.value); // numberFormats\n\n  const numberFormats = computed(() => _numberFormats.value); // getPostTranslationHandler\n\n  function getPostTranslationHandler() {\n    return isFunction(_postTranslation) ? _postTranslation : null;\n  } // setPostTranslationHandler\n\n\n  function setPostTranslationHandler(handler) {\n    _postTranslation = handler;\n    _context.postTranslation = handler;\n  } // getMissingHandler\n\n\n  function getMissingHandler() {\n    return _missing;\n  } // setMissingHandler\n\n\n  function setMissingHandler(handler) {\n    if (handler !== null) {\n      _runtimeMissing = defineCoreMissingHandler(handler);\n    }\n\n    _missing = handler;\n    _context.missing = _runtimeMissing;\n  }\n\n  function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\n  ) {\n    return type !== 'translate' || !!arg.resolvedMessage === false;\n  }\n\n  function wrapWithDeps(fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) {\n    trackReactivityValues(); // track reactive dependency\n    // NOTE: experimental !!\n\n    let ret;\n\n    if (process.env.NODE_ENV !== 'production' || __INTLIFY_PROD_DEVTOOLS__) {\n      try {\n        setAdditionalMeta(getMetaInfo());\n        ret = fn(_context);\n      } finally {\n        setAdditionalMeta(null);\n      }\n    } else {\n      ret = fn(_context);\n    }\n\n    if (isNumber(ret) && ret === NOT_REOSLVED) {\n      const [key, arg2] = argumentParser();\n\n      if (process.env.NODE_ENV !== 'production' && __root && isString(key) && isResolvedTranslateMessage(warnType, arg2)) {\n        if (_fallbackRoot && (isTranslateFallbackWarn(_fallbackWarn, key) || isTranslateMissingWarn(_missingWarn, key))) {\n          warn(getWarnMessage(6\n          /* FALLBACK_TO_ROOT */\n          , {\n            key,\n            type: warnType\n          }));\n        } // for vue-devtools timeline event\n\n\n        if (process.env.NODE_ENV !== 'production') {\n          const {\n            __v_emitter: emitter\n          } = _context;\n\n          if (emitter && _fallbackRoot) {\n            emitter.emit(\"fallback\"\n            /* FALBACK */\n            , {\n              type: warnType,\n              key,\n              to: 'global',\n              groupId: `${warnType}:${key}`\n            });\n          }\n        }\n      }\n\n      return __root && _fallbackRoot ? fallbackSuccess(__root) : fallbackFail(key);\n    } else if (successCondition(ret)) {\n      return ret;\n    } else {\n      /* istanbul ignore next */\n      throw createI18nError(14\n      /* UNEXPECTED_RETURN_TYPE */\n      );\n    }\n  } // t\n\n\n  function t(...args) {\n    return wrapWithDeps(context => translate(context, ...args), () => parseTranslateArgs(...args), 'translate', root => root.t(...args), key => key, val => isString(val));\n  } // rt\n\n\n  function rt(...args) {\n    const [arg1, arg2, arg3] = args;\n\n    if (arg3 && !isObject(arg3)) {\n      throw createI18nError(15\n      /* INVALID_ARGUMENT */\n      );\n    }\n\n    return t(...[arg1, arg2, assign({\n      resolvedMessage: true\n    }, arg3 || {})]);\n  } // d\n\n\n  function d(...args) {\n    return wrapWithDeps(context => datetime(context, ...args), () => parseDateTimeArgs(...args), 'datetime format', root => root.d(...args), () => MISSING_RESOLVE_VALUE, val => isString(val));\n  } // n\n\n\n  function n(...args) {\n    return wrapWithDeps(context => number(context, ...args), () => parseNumberArgs(...args), 'number format', root => root.n(...args), () => MISSING_RESOLVE_VALUE, val => isString(val));\n  } // for custom processor\n\n\n  function normalize(values) {\n    return values.map(val => isString(val) ? createVNode(Text, null, val, 0) : val);\n  }\n\n  const interpolate = val => val;\n\n  const processor = {\n    normalize,\n    interpolate,\n    type: 'vnode'\n  }; // transrateVNode, using for `i18n-t` component\n\n  function transrateVNode(...args) {\n    return wrapWithDeps(context => {\n      let ret;\n      const _context = context;\n\n      try {\n        _context.processor = processor;\n        ret = translate(_context, ...args);\n      } finally {\n        _context.processor = null;\n      }\n\n      return ret;\n    }, () => parseTranslateArgs(...args), 'translate', // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[TransrateVNodeSymbol](...args), key => [createVNode(Text, null, key, 0)], val => isArray(val));\n  } // numberParts, using for `i18n-n` component\n\n\n  function numberParts(...args) {\n    return wrapWithDeps(context => number(context, ...args), () => parseNumberArgs(...args), 'number format', // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[NumberPartsSymbol](...args), () => [], val => isString(val) || isArray(val));\n  } // datetimeParts, using for `i18n-d` component\n\n\n  function datetimeParts(...args) {\n    return wrapWithDeps(context => datetime(context, ...args), () => parseDateTimeArgs(...args), 'datetime format', // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[DatetimePartsSymbol](...args), () => [], val => isString(val) || isArray(val));\n  }\n\n  function setPluralRules(rules) {\n    _pluralRules = rules;\n    _context.pluralRules = _pluralRules;\n  } // te\n\n\n  function te(key, locale) {\n    const targetLocale = isString(locale) ? locale : _locale.value;\n    const message = getLocaleMessage(targetLocale);\n    return resolveValue(message, key) !== null;\n  }\n\n  function resolveMessages(key) {\n    let messages = null;\n    const locales = getLocaleChain(_context, _fallbackLocale.value, _locale.value);\n\n    for (let i = 0; i < locales.length; i++) {\n      const targetLocaleMessages = _messages.value[locales[i]] || {};\n      const messageValue = resolveValue(targetLocaleMessages, key);\n\n      if (messageValue != null) {\n        messages = messageValue;\n        break;\n      }\n    }\n\n    return messages;\n  } // tm\n\n\n  function tm(key) {\n    const messages = resolveMessages(key); // prettier-ignore\n\n    return messages != null ? messages : __root ? __root.tm(key) || {} : {};\n  } // getLocaleMessage\n\n\n  function getLocaleMessage(locale) {\n    return _messages.value[locale] || {};\n  } // setLocaleMessage\n\n\n  function setLocaleMessage(locale, message) {\n    _messages.value[locale] = message;\n    _context.messages = _messages.value;\n  } // mergeLocaleMessage\n\n\n  function mergeLocaleMessage(locale, message) {\n    _messages.value[locale] = _messages.value[locale] || {};\n    deepCopy(message, _messages.value[locale]);\n    _context.messages = _messages.value;\n  } // getDateTimeFormat\n\n\n  function getDateTimeFormat(locale) {\n    return _datetimeFormats.value[locale] || {};\n  } // setDateTimeFormat\n\n\n  function setDateTimeFormat(locale, format) {\n    _datetimeFormats.value[locale] = format;\n    _context.datetimeFormats = _datetimeFormats.value;\n    clearDateTimeFormat(_context, locale, format);\n  } // mergeDateTimeFormat\n\n\n  function mergeDateTimeFormat(locale, format) {\n    _datetimeFormats.value[locale] = assign(_datetimeFormats.value[locale] || {}, format);\n    _context.datetimeFormats = _datetimeFormats.value;\n    clearDateTimeFormat(_context, locale, format);\n  } // getNumberFormat\n\n\n  function getNumberFormat(locale) {\n    return _numberFormats.value[locale] || {};\n  } // setNumberFormat\n\n\n  function setNumberFormat(locale, format) {\n    _numberFormats.value[locale] = format;\n    _context.numberFormats = _numberFormats.value;\n    clearNumberFormat(_context, locale, format);\n  } // mergeNumberFormat\n\n\n  function mergeNumberFormat(locale, format) {\n    _numberFormats.value[locale] = assign(_numberFormats.value[locale] || {}, format);\n    _context.numberFormats = _numberFormats.value;\n    clearNumberFormat(_context, locale, format);\n  } // for debug\n\n\n  composerID++; // watch root locale & fallbackLocale\n\n  if (__root) {\n    watch(__root.locale, val => {\n      if (_inheritLocale) {\n        _locale.value = val;\n        _context.locale = val;\n        updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    });\n    watch(__root.fallbackLocale, val => {\n      if (_inheritLocale) {\n        _fallbackLocale.value = val;\n        _context.fallbackLocale = val;\n        updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    });\n  } // define composition API!\n\n\n  const composer = {\n    id: composerID,\n    locale,\n    fallbackLocale,\n\n    get inheritLocale() {\n      return _inheritLocale;\n    },\n\n    set inheritLocale(val) {\n      _inheritLocale = val;\n\n      if (val && __root) {\n        _locale.value = __root.locale.value;\n        _fallbackLocale.value = __root.fallbackLocale.value;\n        updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    },\n\n    get availableLocales() {\n      return Object.keys(_messages.value).sort();\n    },\n\n    messages,\n    datetimeFormats,\n    numberFormats,\n\n    get modifiers() {\n      return _modifiers;\n    },\n\n    get pluralRules() {\n      return _pluralRules || {};\n    },\n\n    get isGlobal() {\n      return _isGlobal;\n    },\n\n    get missingWarn() {\n      return _missingWarn;\n    },\n\n    set missingWarn(val) {\n      _missingWarn = val;\n      _context.missingWarn = _missingWarn;\n    },\n\n    get fallbackWarn() {\n      return _fallbackWarn;\n    },\n\n    set fallbackWarn(val) {\n      _fallbackWarn = val;\n      _context.fallbackWarn = _fallbackWarn;\n    },\n\n    get fallbackRoot() {\n      return _fallbackRoot;\n    },\n\n    set fallbackRoot(val) {\n      _fallbackRoot = val;\n    },\n\n    get fallbackFormat() {\n      return _fallbackFormat;\n    },\n\n    set fallbackFormat(val) {\n      _fallbackFormat = val;\n      _context.fallbackFormat = _fallbackFormat;\n    },\n\n    get warnHtmlMessage() {\n      return _warnHtmlMessage;\n    },\n\n    set warnHtmlMessage(val) {\n      _warnHtmlMessage = val;\n      _context.warnHtmlMessage = val;\n    },\n\n    get escapeParameter() {\n      return _escapeParameter;\n    },\n\n    set escapeParameter(val) {\n      _escapeParameter = val;\n      _context.escapeParameter = val;\n    },\n\n    t,\n    rt,\n    d,\n    n,\n    te,\n    tm,\n    getLocaleMessage,\n    setLocaleMessage,\n    mergeLocaleMessage,\n    getDateTimeFormat,\n    setDateTimeFormat,\n    mergeDateTimeFormat,\n    getNumberFormat,\n    setNumberFormat,\n    mergeNumberFormat,\n    getPostTranslationHandler,\n    setPostTranslationHandler,\n    getMissingHandler,\n    setMissingHandler,\n    [TransrateVNodeSymbol]: transrateVNode,\n    [NumberPartsSymbol]: numberParts,\n    [DatetimePartsSymbol]: datetimeParts,\n    [SetPluralRulesSymbol]: setPluralRules,\n    [InejctWithOption]: options.__injectWithOption // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  }; // for vue-devtools timeline event\n\n  if (process.env.NODE_ENV !== 'production') {\n    composer[EnableEmitter] = emitter => {\n      _context.__v_emitter = emitter;\n    };\n\n    composer[DisableEmitter] = () => {\n      _context.__v_emitter = undefined;\n    };\n  }\n\n  return composer;\n}\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\n\n\nfunction convertComposerOptions(options) {\n  const locale = isString(options.locale) ? options.locale : 'en-US';\n  const fallbackLocale = isString(options.fallbackLocale) || isArray(options.fallbackLocale) || isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : locale;\n  const missing = isFunction(options.missing) ? options.missing : undefined;\n  const missingWarn = isBoolean(options.silentTranslationWarn) || isRegExp(options.silentTranslationWarn) ? !options.silentTranslationWarn : true;\n  const fallbackWarn = isBoolean(options.silentFallbackWarn) || isRegExp(options.silentFallbackWarn) ? !options.silentFallbackWarn : true;\n  const fallbackRoot = isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;\n  const fallbackFormat = !!options.formatFallbackMessages;\n  const modifiers = isPlainObject(options.modifiers) ? options.modifiers : {};\n  const pluralizationRules = options.pluralizationRules;\n  const postTranslation = isFunction(options.postTranslation) ? options.postTranslation : undefined;\n  const warnHtmlMessage = isString(options.warnHtmlInMessage) ? options.warnHtmlInMessage !== 'off' : true;\n  const escapeParameter = !!options.escapeParameterHtml;\n  const inheritLocale = isBoolean(options.sync) ? options.sync : true;\n\n  if (process.env.NODE_ENV !== 'production' && options.formatter) {\n    warn(getWarnMessage(8\n    /* NOT_SUPPORTED_FORMATTER */\n    ));\n  }\n\n  if (process.env.NODE_ENV !== 'production' && options.preserveDirectiveContent) {\n    warn(getWarnMessage(9\n    /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */\n    ));\n  }\n\n  let messages = options.messages;\n\n  if (isPlainObject(options.sharedMessages)) {\n    const sharedMessages = options.sharedMessages;\n    const locales = Object.keys(sharedMessages);\n    messages = locales.reduce((messages, locale) => {\n      const message = messages[locale] || (messages[locale] = {});\n      assign(message, sharedMessages[locale]);\n      return messages;\n    }, messages || {});\n  }\n\n  const {\n    __i18n,\n    __root,\n    __injectWithOption\n  } = options;\n  const datetimeFormats = options.datetimeFormats;\n  const numberFormats = options.numberFormats;\n  const flatJson = options.flatJson;\n  return {\n    locale,\n    fallbackLocale,\n    messages,\n    flatJson,\n    datetimeFormats,\n    numberFormats,\n    missing,\n    missingWarn,\n    fallbackWarn,\n    fallbackRoot,\n    fallbackFormat,\n    modifiers,\n    pluralRules: pluralizationRules,\n    postTranslation,\n    warnHtmlMessage,\n    escapeParameter,\n    inheritLocale,\n    __i18n,\n    __root,\n    __injectWithOption\n  };\n}\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\n\n\nfunction createVueI18n(options = {}) {\n  const composer = createComposer(convertComposerOptions(options)); // defines VueI18n\n\n  const vueI18n = {\n    // id\n    id: composer.id,\n\n    // locale\n    get locale() {\n      return composer.locale.value;\n    },\n\n    set locale(val) {\n      composer.locale.value = val;\n    },\n\n    // fallbackLocale\n    get fallbackLocale() {\n      return composer.fallbackLocale.value;\n    },\n\n    set fallbackLocale(val) {\n      composer.fallbackLocale.value = val;\n    },\n\n    // messages\n    get messages() {\n      return composer.messages.value;\n    },\n\n    // datetimeFormats\n    get datetimeFormats() {\n      return composer.datetimeFormats.value;\n    },\n\n    // numberFormats\n    get numberFormats() {\n      return composer.numberFormats.value;\n    },\n\n    // availableLocales\n    get availableLocales() {\n      return composer.availableLocales;\n    },\n\n    // formatter\n    get formatter() {\n      process.env.NODE_ENV !== 'production' && warn(getWarnMessage(8\n      /* NOT_SUPPORTED_FORMATTER */\n      )); // dummy\n\n      return {\n        interpolate() {\n          return [];\n        }\n\n      };\n    },\n\n    set formatter(val) {\n      process.env.NODE_ENV !== 'production' && warn(getWarnMessage(8\n      /* NOT_SUPPORTED_FORMATTER */\n      ));\n    },\n\n    // missing\n    get missing() {\n      return composer.getMissingHandler();\n    },\n\n    set missing(handler) {\n      composer.setMissingHandler(handler);\n    },\n\n    // silentTranslationWarn\n    get silentTranslationWarn() {\n      return isBoolean(composer.missingWarn) ? !composer.missingWarn : composer.missingWarn;\n    },\n\n    set silentTranslationWarn(val) {\n      composer.missingWarn = isBoolean(val) ? !val : val;\n    },\n\n    // silentFallbackWarn\n    get silentFallbackWarn() {\n      return isBoolean(composer.fallbackWarn) ? !composer.fallbackWarn : composer.fallbackWarn;\n    },\n\n    set silentFallbackWarn(val) {\n      composer.fallbackWarn = isBoolean(val) ? !val : val;\n    },\n\n    // modifiers\n    get modifiers() {\n      return composer.modifiers;\n    },\n\n    // formatFallbackMessages\n    get formatFallbackMessages() {\n      return composer.fallbackFormat;\n    },\n\n    set formatFallbackMessages(val) {\n      composer.fallbackFormat = val;\n    },\n\n    // postTranslation\n    get postTranslation() {\n      return composer.getPostTranslationHandler();\n    },\n\n    set postTranslation(handler) {\n      composer.setPostTranslationHandler(handler);\n    },\n\n    // sync\n    get sync() {\n      return composer.inheritLocale;\n    },\n\n    set sync(val) {\n      composer.inheritLocale = val;\n    },\n\n    // warnInHtmlMessage\n    get warnHtmlInMessage() {\n      return composer.warnHtmlMessage ? 'warn' : 'off';\n    },\n\n    set warnHtmlInMessage(val) {\n      composer.warnHtmlMessage = val !== 'off';\n    },\n\n    // escapeParameterHtml\n    get escapeParameterHtml() {\n      return composer.escapeParameter;\n    },\n\n    set escapeParameterHtml(val) {\n      composer.escapeParameter = val;\n    },\n\n    // preserveDirectiveContent\n    get preserveDirectiveContent() {\n      process.env.NODE_ENV !== 'production' && warn(getWarnMessage(9\n      /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */\n      ));\n      return true;\n    },\n\n    set preserveDirectiveContent(val) {\n      process.env.NODE_ENV !== 'production' && warn(getWarnMessage(9\n      /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */\n      ));\n    },\n\n    // pluralizationRules\n    get pluralizationRules() {\n      return composer.pluralRules || {};\n    },\n\n    // for internal\n    __composer: composer,\n\n    // t\n    t(...args) {\n      const [arg1, arg2, arg3] = args;\n      const options = {};\n      let list = null;\n      let named = null;\n\n      if (!isString(arg1)) {\n        throw createI18nError(15\n        /* INVALID_ARGUMENT */\n        );\n      }\n\n      const key = arg1;\n\n      if (isString(arg2)) {\n        options.locale = arg2;\n      } else if (isArray(arg2)) {\n        list = arg2;\n      } else if (isPlainObject(arg2)) {\n        named = arg2;\n      }\n\n      if (isArray(arg3)) {\n        list = arg3;\n      } else if (isPlainObject(arg3)) {\n        named = arg3;\n      }\n\n      return composer.t(key, list || named || {}, options);\n    },\n\n    rt(...args) {\n      return composer.rt(...args);\n    },\n\n    // tc\n    tc(...args) {\n      const [arg1, arg2, arg3] = args;\n      const options = {\n        plural: 1\n      };\n      let list = null;\n      let named = null;\n\n      if (!isString(arg1)) {\n        throw createI18nError(15\n        /* INVALID_ARGUMENT */\n        );\n      }\n\n      const key = arg1;\n\n      if (isString(arg2)) {\n        options.locale = arg2;\n      } else if (isNumber(arg2)) {\n        options.plural = arg2;\n      } else if (isArray(arg2)) {\n        list = arg2;\n      } else if (isPlainObject(arg2)) {\n        named = arg2;\n      }\n\n      if (isString(arg3)) {\n        options.locale = arg3;\n      } else if (isArray(arg3)) {\n        list = arg3;\n      } else if (isPlainObject(arg3)) {\n        named = arg3;\n      }\n\n      return composer.t(key, list || named || {}, options);\n    },\n\n    // te\n    te(key, locale) {\n      return composer.te(key, locale);\n    },\n\n    // tm\n    tm(key) {\n      return composer.tm(key);\n    },\n\n    // getLocaleMessage\n    getLocaleMessage(locale) {\n      return composer.getLocaleMessage(locale);\n    },\n\n    // setLocaleMessage\n    setLocaleMessage(locale, message) {\n      composer.setLocaleMessage(locale, message);\n    },\n\n    // mergeLocaleMessage\n    mergeLocaleMessage(locale, message) {\n      composer.mergeLocaleMessage(locale, message);\n    },\n\n    // d\n    d(...args) {\n      return composer.d(...args);\n    },\n\n    // getDateTimeFormat\n    getDateTimeFormat(locale) {\n      return composer.getDateTimeFormat(locale);\n    },\n\n    // setDateTimeFormat\n    setDateTimeFormat(locale, format) {\n      composer.setDateTimeFormat(locale, format);\n    },\n\n    // mergeDateTimeFormat\n    mergeDateTimeFormat(locale, format) {\n      composer.mergeDateTimeFormat(locale, format);\n    },\n\n    // n\n    n(...args) {\n      return composer.n(...args);\n    },\n\n    // getNumberFormat\n    getNumberFormat(locale) {\n      return composer.getNumberFormat(locale);\n    },\n\n    // setNumberFormat\n    setNumberFormat(locale, format) {\n      composer.setNumberFormat(locale, format);\n    },\n\n    // mergeNumberFormat\n    mergeNumberFormat(locale, format) {\n      composer.mergeNumberFormat(locale, format);\n    },\n\n    // getChoiceIndex\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getChoiceIndex(choice, choicesLength) {\n      process.env.NODE_ENV !== 'production' && warn(getWarnMessage(10\n      /* NOT_SUPPORTED_GET_CHOICE_INDEX */\n      ));\n      return -1;\n    },\n\n    // for internal\n    __onComponentInstanceCreated(target) {\n      const {\n        componentInstanceCreatedListener\n      } = options;\n\n      if (componentInstanceCreatedListener) {\n        componentInstanceCreatedListener(target, vueI18n);\n      }\n    }\n\n  }; // for vue-devtools timeline event\n\n  if (process.env.NODE_ENV !== 'production') {\n    vueI18n.__enableEmitter = emitter => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const __composer = composer;\n      __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\n    };\n\n    vueI18n.__disableEmitter = () => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const __composer = composer;\n      __composer[DisableEmitter] && __composer[DisableEmitter]();\n    };\n  }\n\n  return vueI18n;\n}\n\nconst baseFormatProps = {\n  tag: {\n    type: [String, Object]\n  },\n  locale: {\n    type: String\n  },\n  scope: {\n    type: String,\n    validator: val => val === 'parent' || val === 'global',\n    default: 'parent'\n  },\n  i18n: {\n    type: Object\n  }\n};\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: '利用規約',\r\n *     term: '私は xxx の{0}に同意します。'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\n\nconst Translation = {\n  /* eslint-disable */\n  name: 'i18n-t',\n  props: assign({\n    keypath: {\n      type: String,\n      required: true\n    },\n    plural: {\n      type: [Number, String],\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      validator: val => isNumber(val) || !isNaN(val)\n    }\n  }, baseFormatProps),\n\n  /* eslint-enable */\n  setup(props, context) {\n    const {\n      slots,\n      attrs\n    } = context;\n    const i18n = props.i18n || useI18n({\n      useScope: props.scope,\n      __useComponent: true\n    });\n    const keys = Object.keys(slots).filter(key => key !== '_');\n    return () => {\n      const options = {};\n\n      if (props.locale) {\n        options.locale = props.locale;\n      }\n\n      if (props.plural !== undefined) {\n        options.plural = isString(props.plural) ? +props.plural : props.plural;\n      }\n\n      const arg = getInterpolateArg(context, keys); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\n      const assignedAttrs = assign({}, attrs); // prettier-ignore\n\n      return isString(props.tag) ? h(props.tag, assignedAttrs, children) : isObject(props.tag) ? h(props.tag, assignedAttrs, children) : h(Fragment, assignedAttrs, children);\n    };\n  }\n\n};\n\nfunction getInterpolateArg({\n  slots\n}, keys) {\n  if (keys.length === 1 && keys[0] === 'default') {\n    // default slot only\n    return slots.default ? slots.default() : [];\n  } else {\n    // named slots\n    return keys.reduce((arg, key) => {\n      const slot = slots[key];\n\n      if (slot) {\n        arg[key] = slot();\n      }\n\n      return arg;\n    }, {});\n  }\n}\n\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\n  const {\n    slots,\n    attrs\n  } = context;\n  return () => {\n    const options = {\n      part: true\n    };\n    let overrides = {};\n\n    if (props.locale) {\n      options.locale = props.locale;\n    }\n\n    if (isString(props.format)) {\n      options.key = props.format;\n    } else if (isObject(props.format)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (isString(props.format.key)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        options.key = props.format.key;\n      } // Filter out number format options only\n\n\n      overrides = Object.keys(props.format).reduce((options, prop) => {\n        return slotKeys.includes(prop) ? assign({}, options, {\n          [prop]: props.format[prop]\n        }) // eslint-disable-line @typescript-eslint/no-explicit-any\n        : options;\n      }, {});\n    }\n\n    const parts = partFormatter(...[props.value, options, overrides]);\n    let children = [options.key];\n\n    if (isArray(parts)) {\n      children = parts.map((part, index) => {\n        const slot = slots[part.type];\n        return slot ? slot({\n          [part.type]: part.value,\n          index,\n          parts\n        }) : [part.value];\n      });\n    } else if (isString(parts)) {\n      children = [parts];\n    }\n\n    const assignedAttrs = assign({}, attrs); // prettier-ignore\n\n    return isString(props.tag) ? h(props.tag, assignedAttrs, children) : isObject(props.tag) ? h(props.tag, assignedAttrs, children) : h(Fragment, assignedAttrs, children);\n  };\n}\n\nconst NUMBER_FORMAT_KEYS = ['localeMatcher', 'style', 'unit', 'unitDisplay', 'currency', 'currencyDisplay', 'useGrouping', 'numberingSystem', 'minimumIntegerDigits', 'minimumFractionDigits', 'maximumFractionDigits', 'minimumSignificantDigits', 'maximumSignificantDigits', 'notation', 'formatMatcher'];\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\n\nconst NumberFormat = {\n  /* eslint-disable */\n  name: 'i18n-n',\n  props: assign({\n    value: {\n      type: Number,\n      required: true\n    },\n    format: {\n      type: [String, Object]\n    }\n  }, baseFormatProps),\n\n  /* eslint-enable */\n  setup(props, context) {\n    const i18n = props.i18n || useI18n({\n      useScope: 'parent',\n      __useComponent: true\n    });\n    return renderFormatter(props, context, NUMBER_FORMAT_KEYS, (...args) => // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    i18n[NumberPartsSymbol](...args));\n  }\n\n};\nconst DATETIME_FORMAT_KEYS = ['dateStyle', 'timeStyle', 'fractionalSecondDigits', 'calendar', 'dayPeriod', 'numberingSystem', 'localeMatcher', 'timeZone', 'hour12', 'hourCycle', 'formatMatcher', 'weekday', 'era', 'year', 'month', 'day', 'hour', 'minute', 'second', 'timeZoneName'];\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\n\nconst DatetimeFormat = {\n  /* eslint-disable */\n  name: 'i18n-d',\n  props: assign({\n    value: {\n      type: [Number, Date],\n      required: true\n    },\n    format: {\n      type: [String, Object]\n    }\n  }, baseFormatProps),\n\n  /* eslint-enable */\n  setup(props, context) {\n    const i18n = props.i18n || useI18n({\n      useScope: 'parent',\n      __useComponent: true\n    });\n    return renderFormatter(props, context, DATETIME_FORMAT_KEYS, (...args) => // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    i18n[DatetimePartsSymbol](...args));\n  }\n\n};\n\nfunction getComposer$2(i18n, instance) {\n  const i18nInternal = i18n;\n\n  if (i18n.mode === 'composition') {\n    return i18nInternal.__getInstance(instance) || i18n.global;\n  } else {\n    const vueI18n = i18nInternal.__getInstance(instance);\n\n    return vueI18n != null ? vueI18n.__composer : i18n.global.__composer;\n  }\n}\n\nfunction vTDirective(i18n) {\n  const bind = (el, {\n    instance,\n    value,\n    modifiers\n  }) => {\n    /* istanbul ignore if */\n    if (!instance || !instance.$) {\n      throw createI18nError(22\n      /* UNEXPECTED_ERROR */\n      );\n    }\n\n    const composer = getComposer$2(i18n, instance.$);\n\n    if (process.env.NODE_ENV !== 'production' && modifiers.preserve) {\n      warn(getWarnMessage(7\n      /* NOT_SUPPORTED_PRESERVE */\n      ));\n    }\n\n    const parsedValue = parseValue(value);\n    el.textContent = composer.t(...makeParams(parsedValue));\n  };\n\n  return {\n    beforeMount: bind,\n    beforeUpdate: bind\n  };\n}\n\nfunction parseValue(value) {\n  if (isString(value)) {\n    return {\n      path: value\n    };\n  } else if (isPlainObject(value)) {\n    if (!('path' in value)) {\n      throw createI18nError(19\n      /* REQUIRED_VALUE */\n      , 'path');\n    }\n\n    return value;\n  } else {\n    throw createI18nError(20\n    /* INVALID_VALUE */\n    );\n  }\n}\n\nfunction makeParams(value) {\n  const {\n    path,\n    locale,\n    args,\n    choice,\n    plural\n  } = value;\n  const options = {};\n  const named = args || {};\n\n  if (isString(locale)) {\n    options.locale = locale;\n  }\n\n  if (isNumber(choice)) {\n    options.plural = choice;\n  }\n\n  if (isNumber(plural)) {\n    options.plural = plural;\n  }\n\n  return [path, named, options];\n}\n\nfunction apply(app, i18n, ...options) {\n  const pluginOptions = isPlainObject(options[0]) ? options[0] : {};\n  const useI18nComponentName = !!pluginOptions.useI18nComponentName;\n  const globalInstall = isBoolean(pluginOptions.globalInstall) ? pluginOptions.globalInstall : true;\n\n  if (process.env.NODE_ENV !== 'production' && globalInstall && useI18nComponentName) {\n    warn(getWarnMessage(11\n    /* COMPONENT_NAME_LEGACY_COMPATIBLE */\n    , {\n      name: Translation.name\n    }));\n  }\n\n  if (globalInstall) {\n    // install components\n    app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\n    app.component(NumberFormat.name, NumberFormat);\n    app.component(DatetimeFormat.name, DatetimeFormat);\n  } // install directive\n\n\n  app.directive('t', vTDirective(i18n));\n}\n\nconst VUE_I18N_COMPONENT_TYPES = 'vue-i18n: composer properties';\nlet devtoolsApi;\n\nasync function enableDevTools(app, i18n) {\n  return new Promise((resolve, reject) => {\n    try {\n      setupDevtoolsPlugin({\n        id: \"vue-devtools-plugin-vue-i18n\"\n        /* PLUGIN */\n        ,\n        label: VueDevToolsLabels[\"vue-devtools-plugin-vue-i18n\"\n        /* PLUGIN */\n        ],\n        packageName: 'vue-i18n',\n        homepage: 'https://vue-i18n.intlify.dev',\n        logo: 'https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png',\n        componentStateTypes: [VUE_I18N_COMPONENT_TYPES],\n        app\n      }, api => {\n        devtoolsApi = api;\n        api.on.visitComponentTree(({\n          componentInstance,\n          treeNode\n        }) => {\n          updateComponentTreeTags(componentInstance, treeNode, i18n);\n        });\n        api.on.inspectComponent(({\n          componentInstance,\n          instanceData\n        }) => {\n          if (componentInstance.vnode.el.__VUE_I18N__ && instanceData) {\n            if (i18n.mode === 'legacy') {\n              // ignore global scope on legacy mode\n              if (componentInstance.vnode.el.__VUE_I18N__ !== i18n.global.__composer) {\n                inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\n              }\n            } else {\n              inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\n            }\n          }\n        });\n        api.addInspector({\n          id: \"vue-i18n-resource-inspector\"\n          /* CUSTOM_INSPECTOR */\n          ,\n          label: VueDevToolsLabels[\"vue-i18n-resource-inspector\"\n          /* CUSTOM_INSPECTOR */\n          ],\n          icon: 'language',\n          treeFilterPlaceholder: VueDevToolsPlaceholders[\"vue-i18n-resource-inspector\"\n          /* CUSTOM_INSPECTOR */\n          ]\n        });\n        api.on.getInspectorTree(payload => {\n          if (payload.app === app && payload.inspectorId === \"vue-i18n-resource-inspector\"\n          /* CUSTOM_INSPECTOR */\n          ) {\n            registerScope(payload, i18n);\n          }\n        });\n        api.on.getInspectorState(payload => {\n          if (payload.app === app && payload.inspectorId === \"vue-i18n-resource-inspector\"\n          /* CUSTOM_INSPECTOR */\n          ) {\n            inspectScope(payload, i18n);\n          }\n        });\n        api.on.editInspectorState(payload => {\n          if (payload.app === app && payload.inspectorId === \"vue-i18n-resource-inspector\"\n          /* CUSTOM_INSPECTOR */\n          ) {\n            editScope(payload, i18n);\n          }\n        });\n        api.addTimelineLayer({\n          id: \"vue-i18n-timeline\"\n          /* TIMELINE */\n          ,\n          label: VueDevToolsLabels[\"vue-i18n-timeline\"\n          /* TIMELINE */\n          ],\n          color: VueDevToolsTimelineColors[\"vue-i18n-timeline\"\n          /* TIMELINE */\n          ]\n        });\n        resolve(true);\n      });\n    } catch (e) {\n      console.error(e);\n      reject(false);\n    }\n  });\n}\n\nfunction updateComponentTreeTags(instance, // eslint-disable-line @typescript-eslint/no-explicit-any\ntreeNode, i18n) {\n  // prettier-ignore\n  const global = i18n.mode === 'composition' ? i18n.global : i18n.global.__composer;\n\n  if (instance && instance.vnode.el.__VUE_I18N__) {\n    // add custom tags local scope only\n    if (instance.vnode.el.__VUE_I18N__ !== global) {\n      const label = instance.type.name || instance.type.displayName || instance.type.__file;\n      const tag = {\n        label: `i18n (${label} Scope)`,\n        textColor: 0x000000,\n        backgroundColor: 0xffcd19\n      };\n      treeNode.tags.push(tag);\n    }\n  }\n}\n\nfunction inspectComposer(instanceData, composer) {\n  const type = VUE_I18N_COMPONENT_TYPES;\n  instanceData.state.push({\n    type,\n    key: 'locale',\n    editable: true,\n    value: composer.locale.value\n  });\n  instanceData.state.push({\n    type,\n    key: 'availableLocales',\n    editable: false,\n    value: composer.availableLocales\n  });\n  instanceData.state.push({\n    type,\n    key: 'fallbackLocale',\n    editable: true,\n    value: composer.fallbackLocale.value\n  });\n  instanceData.state.push({\n    type,\n    key: 'inheritLocale',\n    editable: true,\n    value: composer.inheritLocale\n  });\n  instanceData.state.push({\n    type,\n    key: 'messages',\n    editable: false,\n    value: getLocaleMessageValue(composer.messages.value)\n  });\n  instanceData.state.push({\n    type,\n    key: 'datetimeFormats',\n    editable: false,\n    value: composer.datetimeFormats.value\n  });\n  instanceData.state.push({\n    type,\n    key: 'numberFormats',\n    editable: false,\n    value: composer.numberFormats.value\n  });\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction getLocaleMessageValue(messages) {\n  const value = {};\n  Object.keys(messages).forEach(key => {\n    const v = messages[key];\n\n    if (isFunction(v) && 'source' in v) {\n      value[key] = getMessageFunctionDetails(v);\n    } else if (isObject(v)) {\n      value[key] = getLocaleMessageValue(v);\n    } else {\n      value[key] = v;\n    }\n  });\n  return value;\n}\n\nconst ESC = {\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '&': '&amp;'\n};\n\nfunction escape(s) {\n  return s.replace(/[<>\"&]/g, escapeChar);\n}\n\nfunction escapeChar(a) {\n  return ESC[a] || a;\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction getMessageFunctionDetails(func) {\n  const argString = func.source ? `(\"${escape(func.source)}\")` : `(?)`;\n  return {\n    _custom: {\n      type: 'function',\n      display: `<span>ƒ</span> ${argString}`\n    }\n  };\n}\n\nfunction registerScope(payload, i18n) {\n  payload.rootNodes.push({\n    id: 'global',\n    label: 'Global Scope'\n  }); // prettier-ignore\n\n  const global = i18n.mode === 'composition' ? i18n.global : i18n.global.__composer;\n\n  for (const [keyInstance, instance] of i18n.__instances) {\n    // prettier-ignore\n    const composer = i18n.mode === 'composition' ? instance : instance.__composer;\n\n    if (global === composer) {\n      continue;\n    }\n\n    const label = keyInstance.type.name || keyInstance.type.displayName || keyInstance.type.__file;\n    payload.rootNodes.push({\n      id: composer.id.toString(),\n      label: `${label} Scope`\n    });\n  }\n}\n\nfunction getComposer$1(nodeId, i18n) {\n  if (nodeId === 'global') {\n    return i18n.mode === 'composition' ? i18n.global : i18n.global.__composer;\n  } else {\n    const instance = Array.from(i18n.__instances.values()).find(item => item.id.toString() === nodeId);\n\n    if (instance) {\n      return i18n.mode === 'composition' ? instance : instance.__composer;\n    } else {\n      return null;\n    }\n  }\n}\n\nfunction inspectScope(payload, i18n) {\n  const composer = getComposer$1(payload.nodeId, i18n);\n\n  if (composer) {\n    payload.state = makeScopeInspectState(composer);\n  }\n}\n\nfunction makeScopeInspectState(composer) {\n  const state = {};\n  const localeType = 'Locale related info';\n  const localeStates = [{\n    type: localeType,\n    key: 'locale',\n    editable: true,\n    value: composer.locale.value\n  }, {\n    type: localeType,\n    key: 'fallbackLocale',\n    editable: true,\n    value: composer.fallbackLocale.value\n  }, {\n    type: localeType,\n    key: 'availableLocales',\n    editable: false,\n    value: composer.availableLocales\n  }, {\n    type: localeType,\n    key: 'inheritLocale',\n    editable: true,\n    value: composer.inheritLocale\n  }];\n  state[localeType] = localeStates;\n  const localeMessagesType = 'Locale messages info';\n  const localeMessagesStates = [{\n    type: localeMessagesType,\n    key: 'messages',\n    editable: false,\n    value: getLocaleMessageValue(composer.messages.value)\n  }];\n  state[localeMessagesType] = localeMessagesStates;\n  const datetimeFormatsType = 'Datetime formats info';\n  const datetimeFormatsStates = [{\n    type: datetimeFormatsType,\n    key: 'datetimeFormats',\n    editable: false,\n    value: composer.datetimeFormats.value\n  }];\n  state[datetimeFormatsType] = datetimeFormatsStates;\n  const numberFormatsType = 'Datetime formats info';\n  const numberFormatsStates = [{\n    type: numberFormatsType,\n    key: 'numberFormats',\n    editable: false,\n    value: composer.numberFormats.value\n  }];\n  state[numberFormatsType] = numberFormatsStates;\n  return state;\n}\n\nfunction addTimelineEvent(event, payload) {\n  if (devtoolsApi) {\n    let groupId;\n\n    if (payload && 'groupId' in payload) {\n      groupId = payload.groupId;\n      delete payload.groupId;\n    }\n\n    devtoolsApi.addTimelineEvent({\n      layerId: \"vue-i18n-timeline\"\n      /* TIMELINE */\n      ,\n      event: {\n        title: event,\n        groupId,\n        time: Date.now(),\n        meta: {},\n        data: payload || {},\n        logType: event === \"compile-error\"\n        /* COMPILE_ERROR */\n        ? 'error' : event === \"fallback\"\n        /* FALBACK */\n        || event === \"missing\"\n        /* MISSING */\n        ? 'warning' : 'default'\n      }\n    });\n  }\n}\n\nfunction editScope(payload, i18n) {\n  const composer = getComposer$1(payload.nodeId, i18n);\n\n  if (composer) {\n    const [field] = payload.path;\n\n    if (field === 'locale' && isString(payload.state.value)) {\n      composer.locale.value = payload.state.value;\n    } else if (field === 'fallbackLocale' && (isString(payload.state.value) || isArray(payload.state.value) || isObject(payload.state.value))) {\n      composer.fallbackLocale.value = payload.state.value;\n    } else if (field === 'inheritLocale' && isBoolean(payload.state.value)) {\n      composer.inheritLocale = payload.state.value;\n    }\n  }\n} // supports compatibility for legacy vue-i18n APIs\n\n\nfunction defineMixin(vuei18n, composer, i18n) {\n  return {\n    beforeCreate() {\n      const instance = getCurrentInstance();\n      /* istanbul ignore if */\n\n      if (!instance) {\n        throw createI18nError(22\n        /* UNEXPECTED_ERROR */\n        );\n      }\n\n      const options = this.$options;\n\n      if (options.i18n) {\n        const optionsI18n = options.i18n;\n\n        if (options.__i18n) {\n          optionsI18n.__i18n = options.__i18n;\n        }\n\n        optionsI18n.__root = composer;\n\n        if (this === this.$root) {\n          this.$i18n = mergeToRoot(vuei18n, optionsI18n);\n        } else {\n          optionsI18n.__injectWithOption = true;\n          this.$i18n = createVueI18n(optionsI18n);\n        }\n      } else if (options.__i18n) {\n        if (this === this.$root) {\n          this.$i18n = mergeToRoot(vuei18n, options);\n        } else {\n          this.$i18n = createVueI18n({\n            __i18n: options.__i18n,\n            __injectWithOption: true,\n            __root: composer\n          });\n        }\n      } else {\n        // set global\n        this.$i18n = vuei18n;\n      }\n\n      vuei18n.__onComponentInstanceCreated(this.$i18n);\n\n      i18n.__setInstance(instance, this.$i18n); // defines vue-i18n legacy APIs\n\n\n      this.$t = (...args) => this.$i18n.t(...args);\n\n      this.$rt = (...args) => this.$i18n.rt(...args);\n\n      this.$tc = (...args) => this.$i18n.tc(...args);\n\n      this.$te = (key, locale) => this.$i18n.te(key, locale);\n\n      this.$d = (...args) => this.$i18n.d(...args);\n\n      this.$n = (...args) => this.$i18n.n(...args);\n\n      this.$tm = key => this.$i18n.tm(key);\n    },\n\n    mounted() {\n      /* istanbul ignore if */\n      if ((process.env.NODE_ENV !== 'production' || __VUE_PROD_DEVTOOLS__) && !false) {\n        this.$el.__VUE_I18N__ = this.$i18n.__composer;\n        const emitter = this.__v_emitter = createEmitter();\n        const _vueI18n = this.$i18n;\n        _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\n        emitter.on('*', addTimelineEvent);\n      }\n    },\n\n    beforeUnmount() {\n      const instance = getCurrentInstance();\n      /* istanbul ignore if */\n\n      if (!instance) {\n        throw createI18nError(22\n        /* UNEXPECTED_ERROR */\n        );\n      }\n      /* istanbul ignore if */\n\n\n      if ((process.env.NODE_ENV !== 'production' || __VUE_PROD_DEVTOOLS__) && !false) {\n        if (this.__v_emitter) {\n          this.__v_emitter.off('*', addTimelineEvent);\n\n          delete this.__v_emitter;\n        }\n\n        const _vueI18n = this.$i18n;\n        _vueI18n.__disableEmitter && _vueI18n.__disableEmitter();\n        delete this.$el.__VUE_I18N__;\n      }\n\n      delete this.$t;\n      delete this.$rt;\n      delete this.$tc;\n      delete this.$te;\n      delete this.$d;\n      delete this.$n;\n      delete this.$tm;\n\n      i18n.__deleteInstance(instance);\n\n      delete this.$i18n;\n    }\n\n  };\n}\n\nfunction mergeToRoot(root, options) {\n  root.locale = options.locale || root.locale;\n  root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\n  root.missing = options.missing || root.missing;\n  root.silentTranslationWarn = options.silentTranslationWarn || root.silentFallbackWarn;\n  root.silentFallbackWarn = options.silentFallbackWarn || root.silentFallbackWarn;\n  root.formatFallbackMessages = options.formatFallbackMessages || root.formatFallbackMessages;\n  root.postTranslation = options.postTranslation || root.postTranslation;\n  root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\n  root.escapeParameterHtml = options.escapeParameterHtml || root.escapeParameterHtml;\n  root.sync = options.sync || root.sync;\n\n  root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\n\n  const messages = getLocaleMessages(root.locale, {\n    messages: options.messages,\n    __i18n: options.__i18n\n  });\n  Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\n\n  if (options.datetimeFormats) {\n    Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\n  }\n\n  if (options.numberFormats) {\n    Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\n  }\n\n  return root;\n}\n/**\r\n * Vue I18n factory\r\n *\r\n * @param options - An options, see the {@link I18nOptions}\r\n *\r\n * @returns {@link I18n} instance\r\n *\r\n * @remarks\r\n * If you use Legacy API mode, you need toto specify {@link VueI18nOptions} and `legacy: true` option.\r\n *\r\n * If you use composition API mode, you need to specify {@link ComposerOptions}.\r\n *\r\n * @VueI18nSee [Getting Started](../guide/)\r\n * @VueI18nSee [Composition API](../guide/advanced/composition)\r\n *\r\n * @example\r\n * case: for Legacy API\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * // call with I18n option\r\n * const i18n = createI18n({\r\n *   locale: 'ja',\r\n *   messages: {\r\n *     en: { ... },\r\n *     ja: { ... }\r\n *   }\r\n * })\r\n *\r\n * const App = {\r\n *   // ...\r\n * }\r\n *\r\n * const app = createApp(App)\r\n *\r\n * // install!\r\n * app.use(i18n)\r\n * app.mount('#app')\r\n * ```\r\n *\r\n * @example\r\n * case: for composition API\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n, useI18n } from 'vue-i18n'\r\n *\r\n * // call with I18n option\r\n * const i18n = createI18n({\r\n *   legacy: false, // you must specify 'legacy: false' option\r\n *   locale: 'ja',\r\n *   messages: {\r\n *     en: { ... },\r\n *     ja: { ... }\r\n *   }\r\n * })\r\n *\r\n * const App = {\r\n *   setup() {\r\n *     // ...\r\n *     const { t } = useI18n({ ... })\r\n *     return { ... , t }\r\n *   }\r\n * }\r\n *\r\n * const app = createApp(App)\r\n *\r\n * // install!\r\n * app.use(i18n)\r\n * app.mount('#app')\r\n * ```\r\n *\r\n * @VueI18nGeneral\r\n */\n\n\nfunction createI18n(options = {}) {\n  // prettier-ignore\n  const __legacyMode = __VUE_I18N_LEGACY_API__ && isBoolean(options.legacy) ? options.legacy : __VUE_I18N_LEGACY_API__;\n\n  const __globalInjection = !!options.globalInjection;\n\n  const __instances = new Map(); // prettier-ignore\n\n\n  const __global = __VUE_I18N_LEGACY_API__ && __legacyMode ? createVueI18n(options) : createComposer(options);\n\n  const symbol = makeSymbol(process.env.NODE_ENV !== 'production' ? 'vue-i18n' : '');\n  const i18n = {\n    // mode\n    get mode() {\n      // prettier-ignore\n      return __VUE_I18N_LEGACY_API__ ? __legacyMode ? 'legacy' : 'composition' : 'composition';\n    },\n\n    // install plugin\n    async install(app, ...options) {\n      if ((process.env.NODE_ENV !== 'production' || __VUE_PROD_DEVTOOLS__) && !false) {\n        app.__VUE_I18N__ = i18n;\n      } // setup global provider\n\n\n      app.__VUE_I18N_SYMBOL__ = symbol;\n      app.provide(app.__VUE_I18N_SYMBOL__, i18n); // global method and properties injection for Composition API\n\n      if (!__legacyMode && __globalInjection) {\n        injectGlobalFields(app, i18n.global);\n      } // install built-in components and directive\n\n\n      if (__VUE_I18N_FULL_INSTALL__) {\n        apply(app, i18n, ...options);\n      } // setup mixin for Legacy API\n\n\n      if (__VUE_I18N_LEGACY_API__ && __legacyMode) {\n        app.mixin(defineMixin(__global, __global.__composer, i18n));\n      } // setup vue-devtools plugin\n\n\n      if ((process.env.NODE_ENV !== 'production' || __VUE_PROD_DEVTOOLS__) && !false) {\n        const ret = await enableDevTools(app, i18n);\n\n        if (!ret) {\n          throw createI18nError(21\n          /* CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN */\n          );\n        }\n\n        const emitter = createEmitter();\n\n        if (__legacyMode) {\n          const _vueI18n = __global;\n          _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\n        } else {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          const _composer = __global;\n          _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\n        }\n\n        emitter.on('*', addTimelineEvent);\n      }\n    },\n\n    // global accessor\n    get global() {\n      return __global;\n    },\n\n    // @internal\n    __instances,\n\n    // @internal\n    __getInstance(component) {\n      return __instances.get(component) || null;\n    },\n\n    // @internal\n    __setInstance(component, instance) {\n      __instances.set(component, instance);\n    },\n\n    // @internal\n    __deleteInstance(component) {\n      __instances.delete(component);\n    }\n\n  };\n  return i18n;\n}\n/**\r\n * Use Composition API for Vue I18n\r\n *\r\n * @param options - An options, see {@link UseI18nOptions}\r\n *\r\n * @returns {@link Composer} instance\r\n *\r\n * @remarks\r\n * This function is mainly used by `setup`.\r\n *\r\n * If options are specified, Composer instance is created for each component and you can be localized on the component.\r\n *\r\n * If options are not specified, you can be localized using the global Composer.\r\n *\r\n * @example\r\n * case: Component resource base localization\r\n * ```html\r\n * <template>\r\n *   <form>\r\n *     <label>{{ t('language') }}</label>\r\n *     <select v-model=\"locale\">\r\n *       <option value=\"en\">en</option>\r\n *       <option value=\"ja\">ja</option>\r\n *     </select>\r\n *   </form>\r\n *   <p>message: {{ t('hello') }}</p>\r\n * </template>\r\n *\r\n * <script>\r\n * import { useI18n } from 'vue-i18n'\r\n *\r\n * export default {\r\n *  setup() {\r\n *    const { t, locale } = useI18n({\r\n *      locale: 'ja',\r\n *      messages: {\r\n *        en: { ... },\r\n *        ja: { ... }\r\n *      }\r\n *    })\r\n *    // Something to do ...\r\n *\r\n *    return { ..., t, locale }\r\n *  }\r\n * }\r\n * </script>\r\n * ```\r\n *\r\n * @VueI18nComposition\r\n */\n\n\nfunction useI18n(options = {}) {\n  const instance = getCurrentInstance();\n\n  if (instance == null) {\n    throw createI18nError(16\n    /* MUST_BE_CALL_SETUP_TOP */\n    );\n  }\n\n  if (!instance.appContext.app.__VUE_I18N_SYMBOL__) {\n    throw createI18nError(17\n    /* NOT_INSLALLED */\n    );\n  }\n\n  const i18n = inject(instance.appContext.app.__VUE_I18N_SYMBOL__);\n  /* istanbul ignore if */\n\n  if (!i18n) {\n    throw createI18nError(22\n    /* UNEXPECTED_ERROR */\n    );\n  } // prettier-ignore\n\n\n  const global = i18n.mode === 'composition' ? i18n.global : i18n.global.__composer; // prettier-ignore\n\n  const scope = isEmptyObject(options) ? '__i18n' in instance.type ? 'local' : 'global' : !options.useScope ? 'local' : options.useScope;\n\n  if (scope === 'global') {\n    let messages = isObject(options.messages) ? options.messages : {};\n\n    if ('__i18nGlobal' in instance.type) {\n      messages = getLocaleMessages(global.locale.value, {\n        messages,\n        __i18n: instance.type.__i18nGlobal\n      });\n    } // merge locale messages\n\n\n    const locales = Object.keys(messages);\n\n    if (locales.length) {\n      locales.forEach(locale => {\n        global.mergeLocaleMessage(locale, messages[locale]);\n      });\n    } // merge datetime formats\n\n\n    if (isObject(options.datetimeFormats)) {\n      const locales = Object.keys(options.datetimeFormats);\n\n      if (locales.length) {\n        locales.forEach(locale => {\n          global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\n        });\n      }\n    } // merge number formats\n\n\n    if (isObject(options.numberFormats)) {\n      const locales = Object.keys(options.numberFormats);\n\n      if (locales.length) {\n        locales.forEach(locale => {\n          global.mergeNumberFormat(locale, options.numberFormats[locale]);\n        });\n      }\n    }\n\n    return global;\n  }\n\n  if (scope === 'parent') {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let composer = getComposer(i18n, instance, options.__useComponent);\n\n    if (composer == null) {\n      if (process.env.NODE_ENV !== 'production') {\n        warn(getWarnMessage(12\n        /* NOT_FOUND_PARENT_SCOPE */\n        ));\n      }\n\n      composer = global;\n    }\n\n    return composer;\n  } // scope 'local' case\n\n\n  if (i18n.mode === 'legacy') {\n    throw createI18nError(18\n    /* NOT_AVAILABLE_IN_LEGACY_MODE */\n    );\n  }\n\n  const i18nInternal = i18n;\n\n  let composer = i18nInternal.__getInstance(instance);\n\n  if (composer == null) {\n    const type = instance.type;\n    const composerOptions = assign({}, options);\n\n    if (type.__i18n) {\n      composerOptions.__i18n = type.__i18n;\n    }\n\n    if (global) {\n      composerOptions.__root = global;\n    }\n\n    composer = createComposer(composerOptions);\n    setupLifeCycle(i18nInternal, instance, composer);\n\n    i18nInternal.__setInstance(instance, composer);\n  }\n\n  return composer;\n}\n\nfunction getComposer(i18n, target, useComponent = false) {\n  let composer = null;\n  const root = target.root;\n  let current = target.parent;\n\n  while (current != null) {\n    const i18nInternal = i18n;\n\n    if (i18n.mode === 'composition') {\n      composer = i18nInternal.__getInstance(current);\n    } else {\n      const vueI18n = i18nInternal.__getInstance(current);\n\n      if (vueI18n != null) {\n        composer = vueI18n.__composer;\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      if (useComponent && composer && !composer[InejctWithOption]) {\n        composer = null;\n      }\n    }\n\n    if (composer != null) {\n      break;\n    }\n\n    if (root === current) {\n      break;\n    }\n\n    current = current.parent;\n  }\n\n  return composer;\n}\n\nfunction setupLifeCycle(i18n, target, composer) {\n  let emitter = null;\n  onMounted(() => {\n    // inject composer instance to DOM for intlify-devtools\n    if ((process.env.NODE_ENV !== 'production' || __VUE_PROD_DEVTOOLS__) && !false && target.vnode.el) {\n      target.vnode.el.__VUE_I18N__ = composer;\n      emitter = createEmitter(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      const _composer = composer;\n      _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\n      emitter.on('*', addTimelineEvent);\n    }\n  }, target);\n  onUnmounted(() => {\n    // remove composer instance from DOM for intlify-devtools\n    if ((process.env.NODE_ENV !== 'production' || __VUE_PROD_DEVTOOLS__) && !false && target.vnode.el && target.vnode.el.__VUE_I18N__) {\n      emitter && emitter.off('*', addTimelineEvent); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      const _composer = composer;\n      _composer[DisableEmitter] && _composer[DisableEmitter]();\n      delete target.vnode.el.__VUE_I18N__;\n    }\n\n    i18n.__deleteInstance(target);\n  }, target);\n}\n\nconst globalExportProps = ['locale', 'fallbackLocale', 'availableLocales'];\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'];\n\nfunction injectGlobalFields(app, composer) {\n  const i18n = Object.create(null);\n  globalExportProps.forEach(prop => {\n    const desc = Object.getOwnPropertyDescriptor(composer, prop);\n\n    if (!desc) {\n      throw createI18nError(22\n      /* UNEXPECTED_ERROR */\n      );\n    }\n\n    const wrap = isRef(desc.value) // check computed props\n    ? {\n      get() {\n        return desc.value.value;\n      },\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      set(val) {\n        desc.value.value = val;\n      }\n\n    } : {\n      get() {\n        return desc.get && desc.get();\n      }\n\n    };\n    Object.defineProperty(i18n, prop, wrap);\n  });\n  app.config.globalProperties.$i18n = i18n;\n  globalExportMethods.forEach(method => {\n    const desc = Object.getOwnPropertyDescriptor(composer, method);\n\n    if (!desc || !desc.value) {\n      throw createI18nError(22\n      /* UNEXPECTED_ERROR */\n      );\n    }\n\n    Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\n  });\n} // register message compiler at vue-i18n\n\n\nregisterMessageCompiler(compileToFunction);\n{\n  initFeatureFlags();\n} // NOTE: experimental !!\n\nif (process.env.NODE_ENV !== 'production' || __INTLIFY_PROD_DEVTOOLS__) {\n  const target = getGlobalThis();\n  target.__INTLIFY__ = true;\n  setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\n}\n\nif (process.env.NODE_ENV !== 'production') ;\nexport { DatetimeFormat, NumberFormat, Translation, VERSION, createI18n, useI18n, vTDirective };","map":{"version":3,"names":["getGlobalThis","format","makeSymbol","isPlainObject","isArray","hasOwn","isObject","isBoolean","isString","isRegExp","isFunction","assign","isNumber","warn","createEmitter","isEmptyObject","createCompileError","handleFlatJson","createCoreContext","updateFallbackLocale","resolveValue","clearDateTimeFormat","clearNumberFormat","setAdditionalMeta","NOT_REOSLVED","isTranslateFallbackWarn","isTranslateMissingWarn","parseTranslateArgs","translate","MISSING_RESOLVE_VALUE","parseDateTimeArgs","datetime","parseNumberArgs","number","getLocaleChain","registerMessageCompiler","compileToFunction","setDevToolsHook","ref","getCurrentInstance","computed","watch","createVNode","Text","h","Fragment","inject","onMounted","onUnmounted","isRef","setupDevtoolsPlugin","VueDevToolsLabels","VueDevToolsPlaceholders","VueDevToolsTimelineColors","VERSION","initFeatureFlags","needWarn","__VUE_I18N_FULL_INSTALL__","__VUE_I18N_LEGACY_API__","__INTLIFY_PROD_DEVTOOLS__","process","env","NODE_ENV","console","warnMessages","getWarnMessage","code","args","createI18nError","messages","errorMessages","undefined","DEVTOOLS_META","TransrateVNodeSymbol","DatetimePartsSymbol","NumberPartsSymbol","EnableEmitter","DisableEmitter","SetPluralRulesSymbol","InejctWithOption","composerID","defineCoreMissingHandler","missing","ctx","locale","key","type","getLocaleMessages","options","__i18n","ret","forEach","resource","deepCopy","flatJson","isNotObjectOrIsArray","val","src","des","getMetaInfo","instance","createComposer","__root","_isGlobal","_inheritLocale","inheritLocale","_locale","value","_fallbackLocale","fallbackLocale","_messages","_datetimeFormats","datetimeFormats","_numberFormats","numberFormats","_missingWarn","missingWarn","_fallbackWarn","fallbackWarn","_fallbackRoot","fallbackRoot","_fallbackFormat","fallbackFormat","_missing","_runtimeMissing","_postTranslation","postTranslation","_warnHtmlMessage","warnHtmlMessage","_escapeParameter","escapeParameter","_modifiers","modifiers","_pluralRules","pluralRules","_context","getCoreContext","version","unresolving","__datetimeFormatters","__numberFormatters","__v_emitter","__meta","framework","trackReactivityValues","get","set","getPostTranslationHandler","setPostTranslationHandler","handler","getMissingHandler","setMissingHandler","isResolvedTranslateMessage","arg","resolvedMessage","wrapWithDeps","fn","argumentParser","warnType","fallbackSuccess","fallbackFail","successCondition","arg2","emitter","emit","to","groupId","t","context","root","rt","arg1","arg3","d","n","normalize","values","map","interpolate","processor","transrateVNode","numberParts","datetimeParts","setPluralRules","rules","te","targetLocale","message","getLocaleMessage","resolveMessages","locales","i","length","targetLocaleMessages","messageValue","tm","setLocaleMessage","mergeLocaleMessage","getDateTimeFormat","setDateTimeFormat","mergeDateTimeFormat","getNumberFormat","setNumberFormat","mergeNumberFormat","composer","id","availableLocales","Object","keys","sort","isGlobal","__injectWithOption","convertComposerOptions","silentTranslationWarn","silentFallbackWarn","formatFallbackMessages","pluralizationRules","warnHtmlInMessage","escapeParameterHtml","sync","formatter","preserveDirectiveContent","sharedMessages","reduce","createVueI18n","vueI18n","__composer","list","named","tc","plural","getChoiceIndex","choice","choicesLength","__onComponentInstanceCreated","target","componentInstanceCreatedListener","__enableEmitter","__disableEmitter","baseFormatProps","tag","String","scope","validator","default","i18n","Translation","name","props","keypath","required","Number","isNaN","setup","slots","attrs","useI18n","useScope","__useComponent","filter","getInterpolateArg","children","assignedAttrs","slot","renderFormatter","slotKeys","partFormatter","part","overrides","prop","includes","parts","index","NUMBER_FORMAT_KEYS","NumberFormat","DATETIME_FORMAT_KEYS","DatetimeFormat","Date","getComposer$2","i18nInternal","mode","__getInstance","global","vTDirective","bind","el","$","preserve","parsedValue","parseValue","textContent","makeParams","beforeMount","beforeUpdate","path","apply","app","pluginOptions","useI18nComponentName","globalInstall","component","directive","VUE_I18N_COMPONENT_TYPES","devtoolsApi","enableDevTools","Promise","resolve","reject","label","packageName","homepage","logo","componentStateTypes","api","on","visitComponentTree","componentInstance","treeNode","updateComponentTreeTags","inspectComponent","instanceData","vnode","__VUE_I18N__","inspectComposer","addInspector","icon","treeFilterPlaceholder","getInspectorTree","payload","inspectorId","registerScope","getInspectorState","inspectScope","editInspectorState","editScope","addTimelineLayer","color","e","error","displayName","__file","textColor","backgroundColor","tags","push","state","editable","getLocaleMessageValue","v","getMessageFunctionDetails","ESC","escape","s","replace","escapeChar","a","func","argString","source","_custom","display","rootNodes","keyInstance","__instances","toString","getComposer$1","nodeId","Array","from","find","item","makeScopeInspectState","localeType","localeStates","localeMessagesType","localeMessagesStates","datetimeFormatsType","datetimeFormatsStates","numberFormatsType","numberFormatsStates","addTimelineEvent","event","layerId","title","time","now","meta","data","logType","field","defineMixin","vuei18n","beforeCreate","$options","optionsI18n","$root","$i18n","mergeToRoot","__setInstance","$t","$rt","$tc","$te","$d","$n","$tm","mounted","__VUE_PROD_DEVTOOLS__","$el","_vueI18n","beforeUnmount","off","__deleteInstance","createI18n","__legacyMode","legacy","__globalInjection","globalInjection","Map","__global","symbol","install","__VUE_I18N_SYMBOL__","provide","injectGlobalFields","mixin","_composer","delete","appContext","__i18nGlobal","getComposer","composerOptions","setupLifeCycle","useComponent","current","parent","globalExportProps","globalExportMethods","create","desc","getOwnPropertyDescriptor","wrap","defineProperty","config","globalProperties","method","__INTLIFY__","__INTLIFY_DEVTOOLS_GLOBAL_HOOK__"],"sources":["/Users/terwer/Documents/mydocs/my-note-docker/workspace/SiYuan/data/widgets/publisher/src/publisher/node_modules/vue-i18n/dist/vue-i18n.esm-bundler.js"],"sourcesContent":["/*!\n  * vue-i18n v9.1.10\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { getGlobalThis, format, makeSymbol, isPlainObject, isArray, hasOwn, isObject, isBoolean, isString, isRegExp, isFunction, assign, isNumber, warn, createEmitter, isEmptyObject } from '@intlify/shared';\nimport { createCompileError, handleFlatJson, createCoreContext, updateFallbackLocale, resolveValue, clearDateTimeFormat, clearNumberFormat, setAdditionalMeta, NOT_REOSLVED, isTranslateFallbackWarn, isTranslateMissingWarn, parseTranslateArgs, translate, MISSING_RESOLVE_VALUE, parseDateTimeArgs, datetime, parseNumberArgs, number, getLocaleChain, registerMessageCompiler, compileToFunction, setDevToolsHook } from '@intlify/core-base';\nimport { ref, getCurrentInstance, computed, watch, createVNode, Text, h, Fragment, inject, onMounted, onUnmounted, isRef } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\nimport { VueDevToolsLabels, VueDevToolsPlaceholders, VueDevToolsTimelineColors } from '@intlify/vue-devtools';\n\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst VERSION = '9.1.10';\r\n/**\r\n * This is only called in esm-bundler builds.\r\n * istanbul-ignore-next\r\n */\r\nfunction initFeatureFlags() {\r\n    let needWarn = false;\r\n    if (typeof __VUE_I18N_FULL_INSTALL__ !== 'boolean') {\r\n        needWarn = true;\r\n        getGlobalThis().__VUE_I18N_FULL_INSTALL__ = true;\r\n    }\r\n    if (typeof __VUE_I18N_LEGACY_API__ !== 'boolean') {\r\n        needWarn = true;\r\n        getGlobalThis().__VUE_I18N_LEGACY_API__ = true;\r\n    }\r\n    if (typeof __INTLIFY_PROD_DEVTOOLS__ !== 'boolean') {\r\n        getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = false;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && needWarn) {\r\n        console.warn(`You are running the esm-bundler build of vue-i18n. It is recommended to ` +\r\n            `configure your bundler to explicitly replace feature flag globals ` +\r\n            `with boolean literals to get proper tree-shaking in the final bundle.`);\r\n    }\r\n}\n\nconst warnMessages = {\r\n    [6 /* FALLBACK_TO_ROOT */]: `Fall back to {type} '{key}' with root locale.`,\r\n    [7 /* NOT_SUPPORTED_PRESERVE */]: `Not supported 'preserve'.`,\r\n    [8 /* NOT_SUPPORTED_FORMATTER */]: `Not supported 'formatter'.`,\r\n    [9 /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */]: `Not supported 'preserveDirectiveContent'.`,\r\n    [10 /* NOT_SUPPORTED_GET_CHOICE_INDEX */]: `Not supported 'getChoiceIndex'.`,\r\n    [11 /* COMPONENT_NAME_LEGACY_COMPATIBLE */]: `Component name legacy compatible: '{name}' -> 'i18n'`,\r\n    [12 /* NOT_FOUND_PARENT_SCOPE */]: `Not found parent scope. use the global scope.`\r\n};\r\nfunction getWarnMessage(code, ...args) {\r\n    return format(warnMessages[code], ...args);\r\n}\n\nfunction createI18nError(code, ...args) {\r\n    return createCompileError(code, null, (process.env.NODE_ENV !== 'production') ? { messages: errorMessages, args } : undefined);\r\n}\r\nconst errorMessages = {\r\n    [14 /* UNEXPECTED_RETURN_TYPE */]: 'Unexpected return type in composer',\r\n    [15 /* INVALID_ARGUMENT */]: 'Invalid argument',\r\n    [16 /* MUST_BE_CALL_SETUP_TOP */]: 'Must be called at the top of a `setup` function',\r\n    [17 /* NOT_INSLALLED */]: 'Need to install with `app.use` function',\r\n    [22 /* UNEXPECTED_ERROR */]: 'Unexpected error',\r\n    [18 /* NOT_AVAILABLE_IN_LEGACY_MODE */]: 'Not available in legacy mode',\r\n    [19 /* REQUIRED_VALUE */]: `Required in value: {0}`,\r\n    [20 /* INVALID_VALUE */]: `Invalid value`,\r\n    [21 /* CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN */]: `Cannot setup vue-devtools plugin`\r\n};\n\nconst DEVTOOLS_META = '__INTLIFY_META__';\r\nconst TransrateVNodeSymbol = makeSymbol('__transrateVNode');\r\nconst DatetimePartsSymbol = makeSymbol('__datetimeParts');\r\nconst NumberPartsSymbol = makeSymbol('__numberParts');\r\nconst EnableEmitter = makeSymbol('__enableEmitter');\r\nconst DisableEmitter = makeSymbol('__disableEmitter');\r\nconst SetPluralRulesSymbol = makeSymbol('__setPluralRules');\r\nmakeSymbol('__intlifyMeta');\r\nconst InejctWithOption = makeSymbol('__injectWithOption');\r\nlet composerID = 0;\r\nfunction defineCoreMissingHandler(missing) {\r\n    return ((ctx, locale, key, type) => {\r\n        return missing(locale, key, getCurrentInstance() || undefined, type);\r\n    });\r\n}\r\nfunction getLocaleMessages(locale, options) {\r\n    const { messages, __i18n } = options;\r\n    // prettier-ignore\r\n    const ret = isPlainObject(messages)\r\n        ? messages\r\n        : isArray(__i18n)\r\n            ? {}\r\n            : { [locale]: {} };\r\n    // merge locale messages of i18n custom block\r\n    if (isArray(__i18n)) {\r\n        __i18n.forEach(({ locale, resource }) => {\r\n            if (locale) {\r\n                ret[locale] = ret[locale] || {};\r\n                deepCopy(resource, ret[locale]);\r\n            }\r\n            else {\r\n                deepCopy(resource, ret);\r\n            }\r\n        });\r\n    }\r\n    // handle messages for flat json\r\n    if (options.flatJson) {\r\n        for (const key in ret) {\r\n            if (hasOwn(ret, key)) {\r\n                handleFlatJson(ret[key]);\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nconst isNotObjectOrIsArray = (val) => !isObject(val) || isArray(val);\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction deepCopy(src, des) {\r\n    // src and des should both be objects, and non of then can be a array\r\n    if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\r\n        throw createI18nError(20 /* INVALID_VALUE */);\r\n    }\r\n    for (const key in src) {\r\n        if (hasOwn(src, key)) {\r\n            if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\r\n                // replace with src[key] when:\r\n                // src[key] or des[key] is not a object, or\r\n                // src[key] or des[key] is a array\r\n                des[key] = src[key];\r\n            }\r\n            else {\r\n                // src[key] and des[key] are both object, merge them\r\n                deepCopy(src[key], des[key]);\r\n            }\r\n        }\r\n    }\r\n}\r\n// for Intlify DevTools\r\nconst getMetaInfo = /* #__PURE__*/ () => {\r\n    const instance = getCurrentInstance();\r\n    return instance && instance.type[DEVTOOLS_META] // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        ? { [DEVTOOLS_META]: instance.type[DEVTOOLS_META] } // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        : null;\r\n};\r\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\r\nfunction createComposer(options = {}) {\r\n    const { __root } = options;\r\n    const _isGlobal = __root === undefined;\r\n    let _inheritLocale = isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.locale.value\r\n        : isString(options.locale)\r\n            ? options.locale\r\n            : 'en-US');\r\n    const _fallbackLocale = ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.fallbackLocale.value\r\n        : isString(options.fallbackLocale) ||\r\n            isArray(options.fallbackLocale) ||\r\n            isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = ref(getLocaleMessages(_locale.value, options));\r\n    const _datetimeFormats = ref(isPlainObject(options.datetimeFormats)\r\n        ? options.datetimeFormats\r\n        : { [_locale.value]: {} });\r\n    const _numberFormats = ref(isPlainObject(options.numberFormats)\r\n        ? options.numberFormats\r\n        : { [_locale.value]: {} });\r\n    // warning suppress options\r\n    // prettier-ignore\r\n    let _missingWarn = __root\r\n        ? __root.missingWarn\r\n        : isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackWarn = __root\r\n        ? __root.fallbackWarn\r\n        : isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackRoot = __root\r\n        ? __root.fallbackRoot\r\n        : isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    let _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    let _missing = isFunction(options.missing) ? options.missing : null;\r\n    let _runtimeMissing = isFunction(options.missing)\r\n        ? defineCoreMissingHandler(options.missing)\r\n        : null;\r\n    // postTranslation handler\r\n    let _postTranslation = isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    let _warnHtmlMessage = isBoolean(options.warnHtmlMessage)\r\n        ? options.warnHtmlMessage\r\n        : true;\r\n    let _escapeParameter = !!options.escapeParameter;\r\n    // custom linked modifiers\r\n    // prettier-ignore\r\n    const _modifiers = __root\r\n        ? __root.modifiers\r\n        : isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    let _pluralRules = options.pluralRules || (__root && __root.pluralRules);\r\n    // runtime context\r\n    // eslint-disable-next-line prefer-const\r\n    let _context;\r\n    function getCoreContext() {\r\n        return createCoreContext({\r\n            version: VERSION,\r\n            locale: _locale.value,\r\n            fallbackLocale: _fallbackLocale.value,\r\n            messages: _messages.value,\r\n            datetimeFormats: _datetimeFormats.value,\r\n            numberFormats: _numberFormats.value,\r\n            modifiers: _modifiers,\r\n            pluralRules: _pluralRules,\r\n            missing: _runtimeMissing === null ? undefined : _runtimeMissing,\r\n            missingWarn: _missingWarn,\r\n            fallbackWarn: _fallbackWarn,\r\n            fallbackFormat: _fallbackFormat,\r\n            unresolving: true,\r\n            postTranslation: _postTranslation === null ? undefined : _postTranslation,\r\n            warnHtmlMessage: _warnHtmlMessage,\r\n            escapeParameter: _escapeParameter,\r\n            __datetimeFormatters: isPlainObject(_context)\r\n                ? _context.__datetimeFormatters\r\n                : undefined,\r\n            __numberFormatters: isPlainObject(_context)\r\n                ? _context.__numberFormatters\r\n                : undefined,\r\n            __v_emitter: isPlainObject(_context)\r\n                ? _context.__v_emitter\r\n                : undefined,\r\n            __meta: { framework: 'vue' }\r\n        });\r\n    }\r\n    _context = getCoreContext();\r\n    updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n            _locale.value,\r\n            _fallbackLocale.value,\r\n            _messages.value,\r\n            _datetimeFormats.value,\r\n            _numberFormats.value\r\n        ];\r\n    }\r\n    // locale\r\n    const locale = computed({\r\n        get: () => _locale.value,\r\n        set: val => {\r\n            _locale.value = val;\r\n            _context.locale = _locale.value;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = computed({\r\n        get: () => _fallbackLocale.value,\r\n        set: val => {\r\n            _fallbackLocale.value = val;\r\n            _context.fallbackLocale = _fallbackLocale.value;\r\n            updateFallbackLocale(_context, _locale.value, val);\r\n        }\r\n    });\r\n    // messages\r\n    const messages = computed(() => _messages.value);\r\n    // datetimeFormats\r\n    const datetimeFormats = computed(() => _datetimeFormats.value);\r\n    // numberFormats\r\n    const numberFormats = computed(() => _numberFormats.value);\r\n    // getPostTranslationHandler\r\n    function getPostTranslationHandler() {\r\n        return isFunction(_postTranslation) ? _postTranslation : null;\r\n    }\r\n    // setPostTranslationHandler\r\n    function setPostTranslationHandler(handler) {\r\n        _postTranslation = handler;\r\n        _context.postTranslation = handler;\r\n    }\r\n    // getMissingHandler\r\n    function getMissingHandler() {\r\n        return _missing;\r\n    }\r\n    // setMissingHandler\r\n    function setMissingHandler(handler) {\r\n        if (handler !== null) {\r\n            _runtimeMissing = defineCoreMissingHandler(handler);\r\n        }\r\n        _missing = handler;\r\n        _context.missing = _runtimeMissing;\r\n    }\r\n    function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    ) {\r\n        return type !== 'translate' || !!arg.resolvedMessage === false;\r\n    }\r\n    function wrapWithDeps(fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) {\r\n        trackReactivityValues(); // track reactive dependency\r\n        // NOTE: experimental !!\r\n        let ret;\r\n        if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\r\n            try {\r\n                setAdditionalMeta(getMetaInfo());\r\n                ret = fn(_context);\r\n            }\r\n            finally {\r\n                setAdditionalMeta(null);\r\n            }\r\n        }\r\n        else {\r\n            ret = fn(_context);\r\n        }\r\n        if (isNumber(ret) && ret === NOT_REOSLVED) {\r\n            const [key, arg2] = argumentParser();\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                __root &&\r\n                isString(key) &&\r\n                isResolvedTranslateMessage(warnType, arg2)) {\r\n                if (_fallbackRoot &&\r\n                    (isTranslateFallbackWarn(_fallbackWarn, key) ||\r\n                        isTranslateMissingWarn(_missingWarn, key))) {\r\n                    warn(getWarnMessage(6 /* FALLBACK_TO_ROOT */, {\r\n                        key,\r\n                        type: warnType\r\n                    }));\r\n                }\r\n                // for vue-devtools timeline event\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    const { __v_emitter: emitter } = _context;\r\n                    if (emitter && _fallbackRoot) {\r\n                        emitter.emit(\"fallback\" /* FALBACK */, {\r\n                            type: warnType,\r\n                            key,\r\n                            to: 'global',\r\n                            groupId: `${warnType}:${key}`\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            return __root && _fallbackRoot\r\n                ? fallbackSuccess(__root)\r\n                : fallbackFail(key);\r\n        }\r\n        else if (successCondition(ret)) {\r\n            return ret;\r\n        }\r\n        else {\r\n            /* istanbul ignore next */\r\n            throw createI18nError(14 /* UNEXPECTED_RETURN_TYPE */);\r\n        }\r\n    }\r\n    // t\r\n    function t(...args) {\r\n        return wrapWithDeps(context => translate(context, ...args), () => parseTranslateArgs(...args), 'translate', root => root.t(...args), key => key, val => isString(val));\r\n    }\r\n    // rt\r\n    function rt(...args) {\r\n        const [arg1, arg2, arg3] = args;\r\n        if (arg3 && !isObject(arg3)) {\r\n            throw createI18nError(15 /* INVALID_ARGUMENT */);\r\n        }\r\n        return t(...[arg1, arg2, assign({ resolvedMessage: true }, arg3 || {})]);\r\n    }\r\n    // d\r\n    function d(...args) {\r\n        return wrapWithDeps(context => datetime(context, ...args), () => parseDateTimeArgs(...args), 'datetime format', root => root.d(...args), () => MISSING_RESOLVE_VALUE, val => isString(val));\r\n    }\r\n    // n\r\n    function n(...args) {\r\n        return wrapWithDeps(context => number(context, ...args), () => parseNumberArgs(...args), 'number format', root => root.n(...args), () => MISSING_RESOLVE_VALUE, val => isString(val));\r\n    }\r\n    // for custom processor\r\n    function normalize(values) {\r\n        return values.map(val => isString(val) ? createVNode(Text, null, val, 0) : val);\r\n    }\r\n    const interpolate = (val) => val;\r\n    const processor = {\r\n        normalize,\r\n        interpolate,\r\n        type: 'vnode'\r\n    };\r\n    // transrateVNode, using for `i18n-t` component\r\n    function transrateVNode(...args) {\r\n        return wrapWithDeps(context => {\r\n            let ret;\r\n            const _context = context;\r\n            try {\r\n                _context.processor = processor;\r\n                ret = translate(_context, ...args);\r\n            }\r\n            finally {\r\n                _context.processor = null;\r\n            }\r\n            return ret;\r\n        }, () => parseTranslateArgs(...args), 'translate', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[TransrateVNodeSymbol](...args), key => [createVNode(Text, null, key, 0)], val => isArray(val));\r\n    }\r\n    // numberParts, using for `i18n-n` component\r\n    function numberParts(...args) {\r\n        return wrapWithDeps(context => number(context, ...args), () => parseNumberArgs(...args), 'number format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[NumberPartsSymbol](...args), () => [], val => isString(val) || isArray(val));\r\n    }\r\n    // datetimeParts, using for `i18n-d` component\r\n    function datetimeParts(...args) {\r\n        return wrapWithDeps(context => datetime(context, ...args), () => parseDateTimeArgs(...args), 'datetime format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[DatetimePartsSymbol](...args), () => [], val => isString(val) || isArray(val));\r\n    }\r\n    function setPluralRules(rules) {\r\n        _pluralRules = rules;\r\n        _context.pluralRules = _pluralRules;\r\n    }\r\n    // te\r\n    function te(key, locale) {\r\n        const targetLocale = isString(locale) ? locale : _locale.value;\r\n        const message = getLocaleMessage(targetLocale);\r\n        return resolveValue(message, key) !== null;\r\n    }\r\n    function resolveMessages(key) {\r\n        let messages = null;\r\n        const locales = getLocaleChain(_context, _fallbackLocale.value, _locale.value);\r\n        for (let i = 0; i < locales.length; i++) {\r\n            const targetLocaleMessages = _messages.value[locales[i]] || {};\r\n            const messageValue = resolveValue(targetLocaleMessages, key);\r\n            if (messageValue != null) {\r\n                messages = messageValue;\r\n                break;\r\n            }\r\n        }\r\n        return messages;\r\n    }\r\n    // tm\r\n    function tm(key) {\r\n        const messages = resolveMessages(key);\r\n        // prettier-ignore\r\n        return messages != null\r\n            ? messages\r\n            : __root\r\n                ? __root.tm(key) || {}\r\n                : {};\r\n    }\r\n    // getLocaleMessage\r\n    function getLocaleMessage(locale) {\r\n        return (_messages.value[locale] || {});\r\n    }\r\n    // setLocaleMessage\r\n    function setLocaleMessage(locale, message) {\r\n        _messages.value[locale] = message;\r\n        _context.messages = _messages.value;\r\n    }\r\n    // mergeLocaleMessage\r\n    function mergeLocaleMessage(locale, message) {\r\n        _messages.value[locale] = _messages.value[locale] || {};\r\n        deepCopy(message, _messages.value[locale]);\r\n        _context.messages = _messages.value;\r\n    }\r\n    // getDateTimeFormat\r\n    function getDateTimeFormat(locale) {\r\n        return _datetimeFormats.value[locale] || {};\r\n    }\r\n    // setDateTimeFormat\r\n    function setDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = format;\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // mergeDateTimeFormat\r\n    function mergeDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = assign(_datetimeFormats.value[locale] || {}, format);\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // getNumberFormat\r\n    function getNumberFormat(locale) {\r\n        return _numberFormats.value[locale] || {};\r\n    }\r\n    // setNumberFormat\r\n    function setNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = format;\r\n        _context.numberFormats = _numberFormats.value;\r\n        clearNumberFormat(_context, locale, format);\r\n    }\r\n    // mergeNumberFormat\r\n    function mergeNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = assign(_numberFormats.value[locale] || {}, format);\r\n        _context.numberFormats = _numberFormats.value;\r\n        clearNumberFormat(_context, locale, format);\r\n    }\r\n    // for debug\r\n    composerID++;\r\n    // watch root locale & fallbackLocale\r\n    if (__root) {\r\n        watch(__root.locale, (val) => {\r\n            if (_inheritLocale) {\r\n                _locale.value = val;\r\n                _context.locale = val;\r\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n        watch(__root.fallbackLocale, (val) => {\r\n            if (_inheritLocale) {\r\n                _fallbackLocale.value = val;\r\n                _context.fallbackLocale = val;\r\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n    }\r\n    // define composition API!\r\n    const composer = {\r\n        id: composerID,\r\n        locale,\r\n        fallbackLocale,\r\n        get inheritLocale() {\r\n            return _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            _inheritLocale = val;\r\n            if (val && __root) {\r\n                _locale.value = __root.locale.value;\r\n                _fallbackLocale.value = __root.fallbackLocale.value;\r\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return Object.keys(_messages.value).sort();\r\n        },\r\n        messages,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        get modifiers() {\r\n            return _modifiers;\r\n        },\r\n        get pluralRules() {\r\n            return _pluralRules || {};\r\n        },\r\n        get isGlobal() {\r\n            return _isGlobal;\r\n        },\r\n        get missingWarn() {\r\n            return _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            _missingWarn = val;\r\n            _context.missingWarn = _missingWarn;\r\n        },\r\n        get fallbackWarn() {\r\n            return _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            _fallbackWarn = val;\r\n            _context.fallbackWarn = _fallbackWarn;\r\n        },\r\n        get fallbackRoot() {\r\n            return _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            _fallbackRoot = val;\r\n        },\r\n        get fallbackFormat() {\r\n            return _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            _fallbackFormat = val;\r\n            _context.fallbackFormat = _fallbackFormat;\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            _warnHtmlMessage = val;\r\n            _context.warnHtmlMessage = val;\r\n        },\r\n        get escapeParameter() {\r\n            return _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            _escapeParameter = val;\r\n            _context.escapeParameter = val;\r\n        },\r\n        t,\r\n        rt,\r\n        d,\r\n        n,\r\n        te,\r\n        tm,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getDateTimeFormat,\r\n        setDateTimeFormat,\r\n        mergeDateTimeFormat,\r\n        getNumberFormat,\r\n        setNumberFormat,\r\n        mergeNumberFormat,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        [TransrateVNodeSymbol]: transrateVNode,\r\n        [NumberPartsSymbol]: numberParts,\r\n        [DatetimePartsSymbol]: datetimeParts,\r\n        [SetPluralRulesSymbol]: setPluralRules,\r\n        [InejctWithOption]: options.__injectWithOption // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    };\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        composer[EnableEmitter] = (emitter) => {\r\n            _context.__v_emitter = emitter;\r\n        };\r\n        composer[DisableEmitter] = () => {\r\n            _context.__v_emitter = undefined;\r\n        };\r\n    }\r\n    return composer;\r\n}\n\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\r\nfunction convertComposerOptions(options) {\r\n    const locale = isString(options.locale) ? options.locale : 'en-US';\r\n    const fallbackLocale = isString(options.fallbackLocale) ||\r\n        isArray(options.fallbackLocale) ||\r\n        isPlainObject(options.fallbackLocale) ||\r\n        options.fallbackLocale === false\r\n        ? options.fallbackLocale\r\n        : locale;\r\n    const missing = isFunction(options.missing) ? options.missing : undefined;\r\n    const missingWarn = isBoolean(options.silentTranslationWarn) ||\r\n        isRegExp(options.silentTranslationWarn)\r\n        ? !options.silentTranslationWarn\r\n        : true;\r\n    const fallbackWarn = isBoolean(options.silentFallbackWarn) ||\r\n        isRegExp(options.silentFallbackWarn)\r\n        ? !options.silentFallbackWarn\r\n        : true;\r\n    const fallbackRoot = isBoolean(options.fallbackRoot)\r\n        ? options.fallbackRoot\r\n        : true;\r\n    const fallbackFormat = !!options.formatFallbackMessages;\r\n    const modifiers = isPlainObject(options.modifiers) ? options.modifiers : {};\r\n    const pluralizationRules = options.pluralizationRules;\r\n    const postTranslation = isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : undefined;\r\n    const warnHtmlMessage = isString(options.warnHtmlInMessage)\r\n        ? options.warnHtmlInMessage !== 'off'\r\n        : true;\r\n    const escapeParameter = !!options.escapeParameterHtml;\r\n    const inheritLocale = isBoolean(options.sync) ? options.sync : true;\r\n    if ((process.env.NODE_ENV !== 'production') && options.formatter) {\r\n        warn(getWarnMessage(8 /* NOT_SUPPORTED_FORMATTER */));\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && options.preserveDirectiveContent) {\r\n        warn(getWarnMessage(9 /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */));\r\n    }\r\n    let messages = options.messages;\r\n    if (isPlainObject(options.sharedMessages)) {\r\n        const sharedMessages = options.sharedMessages;\r\n        const locales = Object.keys(sharedMessages);\r\n        messages = locales.reduce((messages, locale) => {\r\n            const message = messages[locale] || (messages[locale] = {});\r\n            assign(message, sharedMessages[locale]);\r\n            return messages;\r\n        }, (messages || {}));\r\n    }\r\n    const { __i18n, __root, __injectWithOption } = options;\r\n    const datetimeFormats = options.datetimeFormats;\r\n    const numberFormats = options.numberFormats;\r\n    const flatJson = options.flatJson;\r\n    return {\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        flatJson,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        missing,\r\n        missingWarn,\r\n        fallbackWarn,\r\n        fallbackRoot,\r\n        fallbackFormat,\r\n        modifiers,\r\n        pluralRules: pluralizationRules,\r\n        postTranslation,\r\n        warnHtmlMessage,\r\n        escapeParameter,\r\n        inheritLocale,\r\n        __i18n,\r\n        __root,\r\n        __injectWithOption\r\n    };\r\n}\r\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\r\nfunction createVueI18n(options = {}) {\r\n    const composer = createComposer(convertComposerOptions(options));\r\n    // defines VueI18n\r\n    const vueI18n = {\r\n        // id\r\n        id: composer.id,\r\n        // locale\r\n        get locale() {\r\n            return composer.locale.value;\r\n        },\r\n        set locale(val) {\r\n            composer.locale.value = val;\r\n        },\r\n        // fallbackLocale\r\n        get fallbackLocale() {\r\n            return composer.fallbackLocale.value;\r\n        },\r\n        set fallbackLocale(val) {\r\n            composer.fallbackLocale.value = val;\r\n        },\r\n        // messages\r\n        get messages() {\r\n            return composer.messages.value;\r\n        },\r\n        // datetimeFormats\r\n        get datetimeFormats() {\r\n            return composer.datetimeFormats.value;\r\n        },\r\n        // numberFormats\r\n        get numberFormats() {\r\n            return composer.numberFormats.value;\r\n        },\r\n        // availableLocales\r\n        get availableLocales() {\r\n            return composer.availableLocales;\r\n        },\r\n        // formatter\r\n        get formatter() {\r\n            (process.env.NODE_ENV !== 'production') && warn(getWarnMessage(8 /* NOT_SUPPORTED_FORMATTER */));\r\n            // dummy\r\n            return {\r\n                interpolate() {\r\n                    return [];\r\n                }\r\n            };\r\n        },\r\n        set formatter(val) {\r\n            (process.env.NODE_ENV !== 'production') && warn(getWarnMessage(8 /* NOT_SUPPORTED_FORMATTER */));\r\n        },\r\n        // missing\r\n        get missing() {\r\n            return composer.getMissingHandler();\r\n        },\r\n        set missing(handler) {\r\n            composer.setMissingHandler(handler);\r\n        },\r\n        // silentTranslationWarn\r\n        get silentTranslationWarn() {\r\n            return isBoolean(composer.missingWarn)\r\n                ? !composer.missingWarn\r\n                : composer.missingWarn;\r\n        },\r\n        set silentTranslationWarn(val) {\r\n            composer.missingWarn = isBoolean(val) ? !val : val;\r\n        },\r\n        // silentFallbackWarn\r\n        get silentFallbackWarn() {\r\n            return isBoolean(composer.fallbackWarn)\r\n                ? !composer.fallbackWarn\r\n                : composer.fallbackWarn;\r\n        },\r\n        set silentFallbackWarn(val) {\r\n            composer.fallbackWarn = isBoolean(val) ? !val : val;\r\n        },\r\n        // modifiers\r\n        get modifiers() {\r\n            return composer.modifiers;\r\n        },\r\n        // formatFallbackMessages\r\n        get formatFallbackMessages() {\r\n            return composer.fallbackFormat;\r\n        },\r\n        set formatFallbackMessages(val) {\r\n            composer.fallbackFormat = val;\r\n        },\r\n        // postTranslation\r\n        get postTranslation() {\r\n            return composer.getPostTranslationHandler();\r\n        },\r\n        set postTranslation(handler) {\r\n            composer.setPostTranslationHandler(handler);\r\n        },\r\n        // sync\r\n        get sync() {\r\n            return composer.inheritLocale;\r\n        },\r\n        set sync(val) {\r\n            composer.inheritLocale = val;\r\n        },\r\n        // warnInHtmlMessage\r\n        get warnHtmlInMessage() {\r\n            return composer.warnHtmlMessage ? 'warn' : 'off';\r\n        },\r\n        set warnHtmlInMessage(val) {\r\n            composer.warnHtmlMessage = val !== 'off';\r\n        },\r\n        // escapeParameterHtml\r\n        get escapeParameterHtml() {\r\n            return composer.escapeParameter;\r\n        },\r\n        set escapeParameterHtml(val) {\r\n            composer.escapeParameter = val;\r\n        },\r\n        // preserveDirectiveContent\r\n        get preserveDirectiveContent() {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(getWarnMessage(9 /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */));\r\n            return true;\r\n        },\r\n        set preserveDirectiveContent(val) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(getWarnMessage(9 /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */));\r\n        },\r\n        // pluralizationRules\r\n        get pluralizationRules() {\r\n            return composer.pluralRules || {};\r\n        },\r\n        // for internal\r\n        __composer: composer,\r\n        // t\r\n        t(...args) {\r\n            const [arg1, arg2, arg3] = args;\r\n            const options = {};\r\n            let list = null;\r\n            let named = null;\r\n            if (!isString(arg1)) {\r\n                throw createI18nError(15 /* INVALID_ARGUMENT */);\r\n            }\r\n            const key = arg1;\r\n            if (isString(arg2)) {\r\n                options.locale = arg2;\r\n            }\r\n            else if (isArray(arg2)) {\r\n                list = arg2;\r\n            }\r\n            else if (isPlainObject(arg2)) {\r\n                named = arg2;\r\n            }\r\n            if (isArray(arg3)) {\r\n                list = arg3;\r\n            }\r\n            else if (isPlainObject(arg3)) {\r\n                named = arg3;\r\n            }\r\n            return composer.t(key, list || named || {}, options);\r\n        },\r\n        rt(...args) {\r\n            return composer.rt(...args);\r\n        },\r\n        // tc\r\n        tc(...args) {\r\n            const [arg1, arg2, arg3] = args;\r\n            const options = { plural: 1 };\r\n            let list = null;\r\n            let named = null;\r\n            if (!isString(arg1)) {\r\n                throw createI18nError(15 /* INVALID_ARGUMENT */);\r\n            }\r\n            const key = arg1;\r\n            if (isString(arg2)) {\r\n                options.locale = arg2;\r\n            }\r\n            else if (isNumber(arg2)) {\r\n                options.plural = arg2;\r\n            }\r\n            else if (isArray(arg2)) {\r\n                list = arg2;\r\n            }\r\n            else if (isPlainObject(arg2)) {\r\n                named = arg2;\r\n            }\r\n            if (isString(arg3)) {\r\n                options.locale = arg3;\r\n            }\r\n            else if (isArray(arg3)) {\r\n                list = arg3;\r\n            }\r\n            else if (isPlainObject(arg3)) {\r\n                named = arg3;\r\n            }\r\n            return composer.t(key, list || named || {}, options);\r\n        },\r\n        // te\r\n        te(key, locale) {\r\n            return composer.te(key, locale);\r\n        },\r\n        // tm\r\n        tm(key) {\r\n            return composer.tm(key);\r\n        },\r\n        // getLocaleMessage\r\n        getLocaleMessage(locale) {\r\n            return composer.getLocaleMessage(locale);\r\n        },\r\n        // setLocaleMessage\r\n        setLocaleMessage(locale, message) {\r\n            composer.setLocaleMessage(locale, message);\r\n        },\r\n        // mergeLocaleMessage\r\n        mergeLocaleMessage(locale, message) {\r\n            composer.mergeLocaleMessage(locale, message);\r\n        },\r\n        // d\r\n        d(...args) {\r\n            return composer.d(...args);\r\n        },\r\n        // getDateTimeFormat\r\n        getDateTimeFormat(locale) {\r\n            return composer.getDateTimeFormat(locale);\r\n        },\r\n        // setDateTimeFormat\r\n        setDateTimeFormat(locale, format) {\r\n            composer.setDateTimeFormat(locale, format);\r\n        },\r\n        // mergeDateTimeFormat\r\n        mergeDateTimeFormat(locale, format) {\r\n            composer.mergeDateTimeFormat(locale, format);\r\n        },\r\n        // n\r\n        n(...args) {\r\n            return composer.n(...args);\r\n        },\r\n        // getNumberFormat\r\n        getNumberFormat(locale) {\r\n            return composer.getNumberFormat(locale);\r\n        },\r\n        // setNumberFormat\r\n        setNumberFormat(locale, format) {\r\n            composer.setNumberFormat(locale, format);\r\n        },\r\n        // mergeNumberFormat\r\n        mergeNumberFormat(locale, format) {\r\n            composer.mergeNumberFormat(locale, format);\r\n        },\r\n        // getChoiceIndex\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        getChoiceIndex(choice, choicesLength) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(getWarnMessage(10 /* NOT_SUPPORTED_GET_CHOICE_INDEX */));\r\n            return -1;\r\n        },\r\n        // for internal\r\n        __onComponentInstanceCreated(target) {\r\n            const { componentInstanceCreatedListener } = options;\r\n            if (componentInstanceCreatedListener) {\r\n                componentInstanceCreatedListener(target, vueI18n);\r\n            }\r\n        }\r\n    };\r\n    // for vue-devtools timeline event\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        vueI18n.__enableEmitter = (emitter) => {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const __composer = composer;\r\n            __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\r\n        };\r\n        vueI18n.__disableEmitter = () => {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const __composer = composer;\r\n            __composer[DisableEmitter] && __composer[DisableEmitter]();\r\n        };\r\n    }\r\n    return vueI18n;\r\n}\n\nconst baseFormatProps = {\r\n    tag: {\r\n        type: [String, Object]\r\n    },\r\n    locale: {\r\n        type: String\r\n    },\r\n    scope: {\r\n        type: String,\r\n        validator: (val) => val === 'parent' || val === 'global',\r\n        default: 'parent'\r\n    },\r\n    i18n: {\r\n        type: Object\r\n    }\r\n};\n\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: '利用規約',\r\n *     term: '私は xxx の{0}に同意します。'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst Translation = {\r\n    /* eslint-disable */\r\n    name: 'i18n-t',\r\n    props: assign({\r\n        keypath: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        plural: {\r\n            type: [Number, String],\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            validator: (val) => isNumber(val) || !isNaN(val)\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    setup(props, context) {\r\n        const { slots, attrs } = context;\r\n        const i18n = props.i18n ||\r\n            useI18n({\r\n                useScope: props.scope,\r\n                __useComponent: true\r\n            });\r\n        const keys = Object.keys(slots).filter(key => key !== '_');\r\n        return () => {\r\n            const options = {};\r\n            if (props.locale) {\r\n                options.locale = props.locale;\r\n            }\r\n            if (props.plural !== undefined) {\r\n                options.plural = isString(props.plural) ? +props.plural : props.plural;\r\n            }\r\n            const arg = getInterpolateArg(context, keys);\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\r\n            const assignedAttrs = assign({}, attrs);\r\n            // prettier-ignore\r\n            return isString(props.tag)\r\n                ? h(props.tag, assignedAttrs, children)\r\n                : isObject(props.tag)\r\n                    ? h(props.tag, assignedAttrs, children)\r\n                    : h(Fragment, assignedAttrs, children);\r\n        };\r\n    }\r\n};\r\nfunction getInterpolateArg({ slots }, keys) {\r\n    if (keys.length === 1 && keys[0] === 'default') {\r\n        // default slot only\r\n        return slots.default ? slots.default() : [];\r\n    }\r\n    else {\r\n        // named slots\r\n        return keys.reduce((arg, key) => {\r\n            const slot = slots[key];\r\n            if (slot) {\r\n                arg[key] = slot();\r\n            }\r\n            return arg;\r\n        }, {});\r\n    }\r\n}\n\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\r\n    const { slots, attrs } = context;\r\n    return () => {\r\n        const options = { part: true };\r\n        let overrides = {};\r\n        if (props.locale) {\r\n            options.locale = props.locale;\r\n        }\r\n        if (isString(props.format)) {\r\n            options.key = props.format;\r\n        }\r\n        else if (isObject(props.format)) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (isString(props.format.key)) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                options.key = props.format.key;\r\n            }\r\n            // Filter out number format options only\r\n            overrides = Object.keys(props.format).reduce((options, prop) => {\r\n                return slotKeys.includes(prop)\r\n                    ? assign({}, options, { [prop]: props.format[prop] }) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    : options;\r\n            }, {});\r\n        }\r\n        const parts = partFormatter(...[props.value, options, overrides]);\r\n        let children = [options.key];\r\n        if (isArray(parts)) {\r\n            children = parts.map((part, index) => {\r\n                const slot = slots[part.type];\r\n                return slot\r\n                    ? slot({ [part.type]: part.value, index, parts })\r\n                    : [part.value];\r\n            });\r\n        }\r\n        else if (isString(parts)) {\r\n            children = [parts];\r\n        }\r\n        const assignedAttrs = assign({}, attrs);\r\n        // prettier-ignore\r\n        return isString(props.tag)\r\n            ? h(props.tag, assignedAttrs, children)\r\n            : isObject(props.tag)\r\n                ? h(props.tag, assignedAttrs, children)\r\n                : h(Fragment, assignedAttrs, children);\r\n    };\r\n}\n\nconst NUMBER_FORMAT_KEYS = [\r\n    'localeMatcher',\r\n    'style',\r\n    'unit',\r\n    'unitDisplay',\r\n    'currency',\r\n    'currencyDisplay',\r\n    'useGrouping',\r\n    'numberingSystem',\r\n    'minimumIntegerDigits',\r\n    'minimumFractionDigits',\r\n    'maximumFractionDigits',\r\n    'minimumSignificantDigits',\r\n    'maximumSignificantDigits',\r\n    'notation',\r\n    'formatMatcher'\r\n];\r\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst NumberFormat = {\r\n    /* eslint-disable */\r\n    name: 'i18n-n',\r\n    props: assign({\r\n        value: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, NUMBER_FORMAT_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[NumberPartsSymbol](...args));\r\n    }\r\n};\n\nconst DATETIME_FORMAT_KEYS = [\r\n    'dateStyle',\r\n    'timeStyle',\r\n    'fractionalSecondDigits',\r\n    'calendar',\r\n    'dayPeriod',\r\n    'numberingSystem',\r\n    'localeMatcher',\r\n    'timeZone',\r\n    'hour12',\r\n    'hourCycle',\r\n    'formatMatcher',\r\n    'weekday',\r\n    'era',\r\n    'year',\r\n    'month',\r\n    'day',\r\n    'hour',\r\n    'minute',\r\n    'second',\r\n    'timeZoneName'\r\n];\r\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst DatetimeFormat = {\r\n    /* eslint-disable */\r\n    name: 'i18n-d',\r\n    props: assign({\r\n        value: {\r\n            type: [Number, Date],\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, DATETIME_FORMAT_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[DatetimePartsSymbol](...args));\r\n    }\r\n};\n\nfunction getComposer$2(i18n, instance) {\r\n    const i18nInternal = i18n;\r\n    if (i18n.mode === 'composition') {\r\n        return (i18nInternal.__getInstance(instance) || i18n.global);\r\n    }\r\n    else {\r\n        const vueI18n = i18nInternal.__getInstance(instance);\r\n        return vueI18n != null\r\n            ? vueI18n.__composer\r\n            : i18n.global.__composer;\r\n    }\r\n}\r\nfunction vTDirective(i18n) {\r\n    const bind = (el, { instance, value, modifiers }) => {\r\n        /* istanbul ignore if */\r\n        if (!instance || !instance.$) {\r\n            throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n        }\r\n        const composer = getComposer$2(i18n, instance.$);\r\n        if ((process.env.NODE_ENV !== 'production') && modifiers.preserve) {\r\n            warn(getWarnMessage(7 /* NOT_SUPPORTED_PRESERVE */));\r\n        }\r\n        const parsedValue = parseValue(value);\r\n        el.textContent = composer.t(...makeParams(parsedValue));\r\n    };\r\n    return {\r\n        beforeMount: bind,\r\n        beforeUpdate: bind\r\n    };\r\n}\r\nfunction parseValue(value) {\r\n    if (isString(value)) {\r\n        return { path: value };\r\n    }\r\n    else if (isPlainObject(value)) {\r\n        if (!('path' in value)) {\r\n            throw createI18nError(19 /* REQUIRED_VALUE */, 'path');\r\n        }\r\n        return value;\r\n    }\r\n    else {\r\n        throw createI18nError(20 /* INVALID_VALUE */);\r\n    }\r\n}\r\nfunction makeParams(value) {\r\n    const { path, locale, args, choice, plural } = value;\r\n    const options = {};\r\n    const named = args || {};\r\n    if (isString(locale)) {\r\n        options.locale = locale;\r\n    }\r\n    if (isNumber(choice)) {\r\n        options.plural = choice;\r\n    }\r\n    if (isNumber(plural)) {\r\n        options.plural = plural;\r\n    }\r\n    return [path, named, options];\r\n}\n\nfunction apply(app, i18n, ...options) {\r\n    const pluginOptions = isPlainObject(options[0])\r\n        ? options[0]\r\n        : {};\r\n    const useI18nComponentName = !!pluginOptions.useI18nComponentName;\r\n    const globalInstall = isBoolean(pluginOptions.globalInstall)\r\n        ? pluginOptions.globalInstall\r\n        : true;\r\n    if ((process.env.NODE_ENV !== 'production') && globalInstall && useI18nComponentName) {\r\n        warn(getWarnMessage(11 /* COMPONENT_NAME_LEGACY_COMPATIBLE */, {\r\n            name: Translation.name\r\n        }));\r\n    }\r\n    if (globalInstall) {\r\n        // install components\r\n        app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\r\n        app.component(NumberFormat.name, NumberFormat);\r\n        app.component(DatetimeFormat.name, DatetimeFormat);\r\n    }\r\n    // install directive\r\n    app.directive('t', vTDirective(i18n));\r\n}\n\nconst VUE_I18N_COMPONENT_TYPES = 'vue-i18n: composer properties';\r\nlet devtoolsApi;\r\nasync function enableDevTools(app, i18n) {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            setupDevtoolsPlugin({\r\n                id: \"vue-devtools-plugin-vue-i18n\" /* PLUGIN */,\r\n                label: VueDevToolsLabels[\"vue-devtools-plugin-vue-i18n\" /* PLUGIN */],\r\n                packageName: 'vue-i18n',\r\n                homepage: 'https://vue-i18n.intlify.dev',\r\n                logo: 'https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png',\r\n                componentStateTypes: [VUE_I18N_COMPONENT_TYPES],\r\n                app\r\n            }, api => {\r\n                devtoolsApi = api;\r\n                api.on.visitComponentTree(({ componentInstance, treeNode }) => {\r\n                    updateComponentTreeTags(componentInstance, treeNode, i18n);\r\n                });\r\n                api.on.inspectComponent(({ componentInstance, instanceData }) => {\r\n                    if (componentInstance.vnode.el.__VUE_I18N__ && instanceData) {\r\n                        if (i18n.mode === 'legacy') {\r\n                            // ignore global scope on legacy mode\r\n                            if (componentInstance.vnode.el.__VUE_I18N__ !==\r\n                                i18n.global.__composer) {\r\n                                inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\r\n                            }\r\n                        }\r\n                        else {\r\n                            inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\r\n                        }\r\n                    }\r\n                });\r\n                api.addInspector({\r\n                    id: \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */,\r\n                    label: VueDevToolsLabels[\"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */],\r\n                    icon: 'language',\r\n                    treeFilterPlaceholder: VueDevToolsPlaceholders[\"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */]\r\n                });\r\n                api.on.getInspectorTree(payload => {\r\n                    if (payload.app === app &&\r\n                        payload.inspectorId === \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */) {\r\n                        registerScope(payload, i18n);\r\n                    }\r\n                });\r\n                api.on.getInspectorState(payload => {\r\n                    if (payload.app === app &&\r\n                        payload.inspectorId === \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */) {\r\n                        inspectScope(payload, i18n);\r\n                    }\r\n                });\r\n                api.on.editInspectorState(payload => {\r\n                    if (payload.app === app &&\r\n                        payload.inspectorId === \"vue-i18n-resource-inspector\" /* CUSTOM_INSPECTOR */) {\r\n                        editScope(payload, i18n);\r\n                    }\r\n                });\r\n                api.addTimelineLayer({\r\n                    id: \"vue-i18n-timeline\" /* TIMELINE */,\r\n                    label: VueDevToolsLabels[\"vue-i18n-timeline\" /* TIMELINE */],\r\n                    color: VueDevToolsTimelineColors[\"vue-i18n-timeline\" /* TIMELINE */]\r\n                });\r\n                resolve(true);\r\n            });\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            reject(false);\r\n        }\r\n    });\r\n}\r\nfunction updateComponentTreeTags(instance, // eslint-disable-line @typescript-eslint/no-explicit-any\r\ntreeNode, i18n) {\r\n    // prettier-ignore\r\n    const global = i18n.mode === 'composition'\r\n        ? i18n.global\r\n        : i18n.global.__composer;\r\n    if (instance && instance.vnode.el.__VUE_I18N__) {\r\n        // add custom tags local scope only\r\n        if (instance.vnode.el.__VUE_I18N__ !== global) {\r\n            const label = instance.type.name || instance.type.displayName || instance.type.__file;\r\n            const tag = {\r\n                label: `i18n (${label} Scope)`,\r\n                textColor: 0x000000,\r\n                backgroundColor: 0xffcd19\r\n            };\r\n            treeNode.tags.push(tag);\r\n        }\r\n    }\r\n}\r\nfunction inspectComposer(instanceData, composer) {\r\n    const type = VUE_I18N_COMPONENT_TYPES;\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'locale',\r\n        editable: true,\r\n        value: composer.locale.value\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'availableLocales',\r\n        editable: false,\r\n        value: composer.availableLocales\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'fallbackLocale',\r\n        editable: true,\r\n        value: composer.fallbackLocale.value\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'inheritLocale',\r\n        editable: true,\r\n        value: composer.inheritLocale\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'messages',\r\n        editable: false,\r\n        value: getLocaleMessageValue(composer.messages.value)\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'datetimeFormats',\r\n        editable: false,\r\n        value: composer.datetimeFormats.value\r\n    });\r\n    instanceData.state.push({\r\n        type,\r\n        key: 'numberFormats',\r\n        editable: false,\r\n        value: composer.numberFormats.value\r\n    });\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getLocaleMessageValue(messages) {\r\n    const value = {};\r\n    Object.keys(messages).forEach((key) => {\r\n        const v = messages[key];\r\n        if (isFunction(v) && 'source' in v) {\r\n            value[key] = getMessageFunctionDetails(v);\r\n        }\r\n        else if (isObject(v)) {\r\n            value[key] = getLocaleMessageValue(v);\r\n        }\r\n        else {\r\n            value[key] = v;\r\n        }\r\n    });\r\n    return value;\r\n}\r\nconst ESC = {\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    '&': '&amp;'\r\n};\r\nfunction escape(s) {\r\n    return s.replace(/[<>\"&]/g, escapeChar);\r\n}\r\nfunction escapeChar(a) {\r\n    return ESC[a] || a;\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getMessageFunctionDetails(func) {\r\n    const argString = func.source ? `(\"${escape(func.source)}\")` : `(?)`;\r\n    return {\r\n        _custom: {\r\n            type: 'function',\r\n            display: `<span>ƒ</span> ${argString}`\r\n        }\r\n    };\r\n}\r\nfunction registerScope(payload, i18n) {\r\n    payload.rootNodes.push({\r\n        id: 'global',\r\n        label: 'Global Scope'\r\n    });\r\n    // prettier-ignore\r\n    const global = i18n.mode === 'composition'\r\n        ? i18n.global\r\n        : i18n.global.__composer;\r\n    for (const [keyInstance, instance] of i18n.__instances) {\r\n        // prettier-ignore\r\n        const composer = i18n.mode === 'composition'\r\n            ? instance\r\n            : instance.__composer;\r\n        if (global === composer) {\r\n            continue;\r\n        }\r\n        const label = keyInstance.type.name ||\r\n            keyInstance.type.displayName ||\r\n            keyInstance.type.__file;\r\n        payload.rootNodes.push({\r\n            id: composer.id.toString(),\r\n            label: `${label} Scope`\r\n        });\r\n    }\r\n}\r\nfunction getComposer$1(nodeId, i18n) {\r\n    if (nodeId === 'global') {\r\n        return i18n.mode === 'composition'\r\n            ? i18n.global\r\n            : i18n.global.__composer;\r\n    }\r\n    else {\r\n        const instance = Array.from(i18n.__instances.values()).find(item => item.id.toString() === nodeId);\r\n        if (instance) {\r\n            return i18n.mode === 'composition'\r\n                ? instance\r\n                : instance.__composer;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\nfunction inspectScope(payload, i18n) {\r\n    const composer = getComposer$1(payload.nodeId, i18n);\r\n    if (composer) {\r\n        payload.state = makeScopeInspectState(composer);\r\n    }\r\n}\r\nfunction makeScopeInspectState(composer) {\r\n    const state = {};\r\n    const localeType = 'Locale related info';\r\n    const localeStates = [\r\n        {\r\n            type: localeType,\r\n            key: 'locale',\r\n            editable: true,\r\n            value: composer.locale.value\r\n        },\r\n        {\r\n            type: localeType,\r\n            key: 'fallbackLocale',\r\n            editable: true,\r\n            value: composer.fallbackLocale.value\r\n        },\r\n        {\r\n            type: localeType,\r\n            key: 'availableLocales',\r\n            editable: false,\r\n            value: composer.availableLocales\r\n        },\r\n        {\r\n            type: localeType,\r\n            key: 'inheritLocale',\r\n            editable: true,\r\n            value: composer.inheritLocale\r\n        }\r\n    ];\r\n    state[localeType] = localeStates;\r\n    const localeMessagesType = 'Locale messages info';\r\n    const localeMessagesStates = [\r\n        {\r\n            type: localeMessagesType,\r\n            key: 'messages',\r\n            editable: false,\r\n            value: getLocaleMessageValue(composer.messages.value)\r\n        }\r\n    ];\r\n    state[localeMessagesType] = localeMessagesStates;\r\n    const datetimeFormatsType = 'Datetime formats info';\r\n    const datetimeFormatsStates = [\r\n        {\r\n            type: datetimeFormatsType,\r\n            key: 'datetimeFormats',\r\n            editable: false,\r\n            value: composer.datetimeFormats.value\r\n        }\r\n    ];\r\n    state[datetimeFormatsType] = datetimeFormatsStates;\r\n    const numberFormatsType = 'Datetime formats info';\r\n    const numberFormatsStates = [\r\n        {\r\n            type: numberFormatsType,\r\n            key: 'numberFormats',\r\n            editable: false,\r\n            value: composer.numberFormats.value\r\n        }\r\n    ];\r\n    state[numberFormatsType] = numberFormatsStates;\r\n    return state;\r\n}\r\nfunction addTimelineEvent(event, payload) {\r\n    if (devtoolsApi) {\r\n        let groupId;\r\n        if (payload && 'groupId' in payload) {\r\n            groupId = payload.groupId;\r\n            delete payload.groupId;\r\n        }\r\n        devtoolsApi.addTimelineEvent({\r\n            layerId: \"vue-i18n-timeline\" /* TIMELINE */,\r\n            event: {\r\n                title: event,\r\n                groupId,\r\n                time: Date.now(),\r\n                meta: {},\r\n                data: payload || {},\r\n                logType: event === \"compile-error\" /* COMPILE_ERROR */\r\n                    ? 'error'\r\n                    : event === \"fallback\" /* FALBACK */ ||\r\n                        event === \"missing\" /* MISSING */\r\n                        ? 'warning'\r\n                        : 'default'\r\n            }\r\n        });\r\n    }\r\n}\r\nfunction editScope(payload, i18n) {\r\n    const composer = getComposer$1(payload.nodeId, i18n);\r\n    if (composer) {\r\n        const [field] = payload.path;\r\n        if (field === 'locale' && isString(payload.state.value)) {\r\n            composer.locale.value = payload.state.value;\r\n        }\r\n        else if (field === 'fallbackLocale' &&\r\n            (isString(payload.state.value) ||\r\n                isArray(payload.state.value) ||\r\n                isObject(payload.state.value))) {\r\n            composer.fallbackLocale.value = payload.state.value;\r\n        }\r\n        else if (field === 'inheritLocale' && isBoolean(payload.state.value)) {\r\n            composer.inheritLocale = payload.state.value;\r\n        }\r\n    }\r\n}\n\n// supports compatibility for legacy vue-i18n APIs\r\nfunction defineMixin(vuei18n, composer, i18n) {\r\n    return {\r\n        beforeCreate() {\r\n            const instance = getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n            }\r\n            const options = this.$options;\r\n            if (options.i18n) {\r\n                const optionsI18n = options.i18n;\r\n                if (options.__i18n) {\r\n                    optionsI18n.__i18n = options.__i18n;\r\n                }\r\n                optionsI18n.__root = composer;\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, optionsI18n);\r\n                }\r\n                else {\r\n                    optionsI18n.__injectWithOption = true;\r\n                    this.$i18n = createVueI18n(optionsI18n);\r\n                }\r\n            }\r\n            else if (options.__i18n) {\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, options);\r\n                }\r\n                else {\r\n                    this.$i18n = createVueI18n({\r\n                        __i18n: options.__i18n,\r\n                        __injectWithOption: true,\r\n                        __root: composer\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                // set global\r\n                this.$i18n = vuei18n;\r\n            }\r\n            vuei18n.__onComponentInstanceCreated(this.$i18n);\r\n            i18n.__setInstance(instance, this.$i18n);\r\n            // defines vue-i18n legacy APIs\r\n            this.$t = (...args) => this.$i18n.t(...args);\r\n            this.$rt = (...args) => this.$i18n.rt(...args);\r\n            this.$tc = (...args) => this.$i18n.tc(...args);\r\n            this.$te = (key, locale) => this.$i18n.te(key, locale);\r\n            this.$d = (...args) => this.$i18n.d(...args);\r\n            this.$n = (...args) => this.$i18n.n(...args);\r\n            this.$tm = (key) => this.$i18n.tm(key);\r\n        },\r\n        mounted() {\r\n            /* istanbul ignore if */\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && !false) {\r\n                this.$el.__VUE_I18N__ = this.$i18n.__composer;\r\n                const emitter = (this.__v_emitter = createEmitter());\r\n                const _vueI18n = this.$i18n;\r\n                _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\r\n                emitter.on('*', addTimelineEvent);\r\n            }\r\n        },\r\n        beforeUnmount() {\r\n            const instance = getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n            }\r\n            /* istanbul ignore if */\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && !false) {\r\n                if (this.__v_emitter) {\r\n                    this.__v_emitter.off('*', addTimelineEvent);\r\n                    delete this.__v_emitter;\r\n                }\r\n                const _vueI18n = this.$i18n;\r\n                _vueI18n.__disableEmitter && _vueI18n.__disableEmitter();\r\n                delete this.$el.__VUE_I18N__;\r\n            }\r\n            delete this.$t;\r\n            delete this.$rt;\r\n            delete this.$tc;\r\n            delete this.$te;\r\n            delete this.$d;\r\n            delete this.$n;\r\n            delete this.$tm;\r\n            i18n.__deleteInstance(instance);\r\n            delete this.$i18n;\r\n        }\r\n    };\r\n}\r\nfunction mergeToRoot(root, options) {\r\n    root.locale = options.locale || root.locale;\r\n    root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\r\n    root.missing = options.missing || root.missing;\r\n    root.silentTranslationWarn =\r\n        options.silentTranslationWarn || root.silentFallbackWarn;\r\n    root.silentFallbackWarn =\r\n        options.silentFallbackWarn || root.silentFallbackWarn;\r\n    root.formatFallbackMessages =\r\n        options.formatFallbackMessages || root.formatFallbackMessages;\r\n    root.postTranslation = options.postTranslation || root.postTranslation;\r\n    root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\r\n    root.escapeParameterHtml =\r\n        options.escapeParameterHtml || root.escapeParameterHtml;\r\n    root.sync = options.sync || root.sync;\r\n    root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\r\n    const messages = getLocaleMessages(root.locale, {\r\n        messages: options.messages,\r\n        __i18n: options.__i18n\r\n    });\r\n    Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\r\n    if (options.datetimeFormats) {\r\n        Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\r\n    }\r\n    if (options.numberFormats) {\r\n        Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\r\n    }\r\n    return root;\r\n}\n\n/**\r\n * Vue I18n factory\r\n *\r\n * @param options - An options, see the {@link I18nOptions}\r\n *\r\n * @returns {@link I18n} instance\r\n *\r\n * @remarks\r\n * If you use Legacy API mode, you need toto specify {@link VueI18nOptions} and `legacy: true` option.\r\n *\r\n * If you use composition API mode, you need to specify {@link ComposerOptions}.\r\n *\r\n * @VueI18nSee [Getting Started](../guide/)\r\n * @VueI18nSee [Composition API](../guide/advanced/composition)\r\n *\r\n * @example\r\n * case: for Legacy API\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * // call with I18n option\r\n * const i18n = createI18n({\r\n *   locale: 'ja',\r\n *   messages: {\r\n *     en: { ... },\r\n *     ja: { ... }\r\n *   }\r\n * })\r\n *\r\n * const App = {\r\n *   // ...\r\n * }\r\n *\r\n * const app = createApp(App)\r\n *\r\n * // install!\r\n * app.use(i18n)\r\n * app.mount('#app')\r\n * ```\r\n *\r\n * @example\r\n * case: for composition API\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n, useI18n } from 'vue-i18n'\r\n *\r\n * // call with I18n option\r\n * const i18n = createI18n({\r\n *   legacy: false, // you must specify 'legacy: false' option\r\n *   locale: 'ja',\r\n *   messages: {\r\n *     en: { ... },\r\n *     ja: { ... }\r\n *   }\r\n * })\r\n *\r\n * const App = {\r\n *   setup() {\r\n *     // ...\r\n *     const { t } = useI18n({ ... })\r\n *     return { ... , t }\r\n *   }\r\n * }\r\n *\r\n * const app = createApp(App)\r\n *\r\n * // install!\r\n * app.use(i18n)\r\n * app.mount('#app')\r\n * ```\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction createI18n(options = {}) {\r\n    // prettier-ignore\r\n    const __legacyMode = __VUE_I18N_LEGACY_API__ && isBoolean(options.legacy)\r\n        ? options.legacy\r\n        : __VUE_I18N_LEGACY_API__;\r\n    const __globalInjection = !!options.globalInjection;\r\n    const __instances = new Map();\r\n    // prettier-ignore\r\n    const __global = __VUE_I18N_LEGACY_API__ && __legacyMode\r\n        ? createVueI18n(options)\r\n        : createComposer(options);\r\n    const symbol = makeSymbol((process.env.NODE_ENV !== 'production') ? 'vue-i18n' : '');\r\n    const i18n = {\r\n        // mode\r\n        get mode() {\r\n            // prettier-ignore\r\n            return __VUE_I18N_LEGACY_API__\r\n                ? __legacyMode\r\n                    ? 'legacy'\r\n                    : 'composition'\r\n                : 'composition';\r\n        },\r\n        // install plugin\r\n        async install(app, ...options) {\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && !false) {\r\n                app.__VUE_I18N__ = i18n;\r\n            }\r\n            // setup global provider\r\n            app.__VUE_I18N_SYMBOL__ = symbol;\r\n            app.provide(app.__VUE_I18N_SYMBOL__, i18n);\r\n            // global method and properties injection for Composition API\r\n            if (!__legacyMode && __globalInjection) {\r\n                injectGlobalFields(app, i18n.global);\r\n            }\r\n            // install built-in components and directive\r\n            if (__VUE_I18N_FULL_INSTALL__) {\r\n                apply(app, i18n, ...options);\r\n            }\r\n            // setup mixin for Legacy API\r\n            if (__VUE_I18N_LEGACY_API__ && __legacyMode) {\r\n                app.mixin(defineMixin(__global, __global.__composer, i18n));\r\n            }\r\n            // setup vue-devtools plugin\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && !false) {\r\n                const ret = await enableDevTools(app, i18n);\r\n                if (!ret) {\r\n                    throw createI18nError(21 /* CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN */);\r\n                }\r\n                const emitter = createEmitter();\r\n                if (__legacyMode) {\r\n                    const _vueI18n = __global;\r\n                    _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\r\n                }\r\n                else {\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    const _composer = __global;\r\n                    _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\r\n                }\r\n                emitter.on('*', addTimelineEvent);\r\n            }\r\n        },\r\n        // global accessor\r\n        get global() {\r\n            return __global;\r\n        },\r\n        // @internal\r\n        __instances,\r\n        // @internal\r\n        __getInstance(component) {\r\n            return __instances.get(component) || null;\r\n        },\r\n        // @internal\r\n        __setInstance(component, instance) {\r\n            __instances.set(component, instance);\r\n        },\r\n        // @internal\r\n        __deleteInstance(component) {\r\n            __instances.delete(component);\r\n        }\r\n    };\r\n    return i18n;\r\n}\r\n/**\r\n * Use Composition API for Vue I18n\r\n *\r\n * @param options - An options, see {@link UseI18nOptions}\r\n *\r\n * @returns {@link Composer} instance\r\n *\r\n * @remarks\r\n * This function is mainly used by `setup`.\r\n *\r\n * If options are specified, Composer instance is created for each component and you can be localized on the component.\r\n *\r\n * If options are not specified, you can be localized using the global Composer.\r\n *\r\n * @example\r\n * case: Component resource base localization\r\n * ```html\r\n * <template>\r\n *   <form>\r\n *     <label>{{ t('language') }}</label>\r\n *     <select v-model=\"locale\">\r\n *       <option value=\"en\">en</option>\r\n *       <option value=\"ja\">ja</option>\r\n *     </select>\r\n *   </form>\r\n *   <p>message: {{ t('hello') }}</p>\r\n * </template>\r\n *\r\n * <script>\r\n * import { useI18n } from 'vue-i18n'\r\n *\r\n * export default {\r\n *  setup() {\r\n *    const { t, locale } = useI18n({\r\n *      locale: 'ja',\r\n *      messages: {\r\n *        en: { ... },\r\n *        ja: { ... }\r\n *      }\r\n *    })\r\n *    // Something to do ...\r\n *\r\n *    return { ..., t, locale }\r\n *  }\r\n * }\r\n * </script>\r\n * ```\r\n *\r\n * @VueI18nComposition\r\n */\r\nfunction useI18n(options = {}) {\r\n    const instance = getCurrentInstance();\r\n    if (instance == null) {\r\n        throw createI18nError(16 /* MUST_BE_CALL_SETUP_TOP */);\r\n    }\r\n    if (!instance.appContext.app.__VUE_I18N_SYMBOL__) {\r\n        throw createI18nError(17 /* NOT_INSLALLED */);\r\n    }\r\n    const i18n = inject(instance.appContext.app.__VUE_I18N_SYMBOL__);\r\n    /* istanbul ignore if */\r\n    if (!i18n) {\r\n        throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n    }\r\n    // prettier-ignore\r\n    const global = i18n.mode === 'composition'\r\n        ? i18n.global\r\n        : i18n.global.__composer;\r\n    // prettier-ignore\r\n    const scope = isEmptyObject(options)\r\n        ? ('__i18n' in instance.type)\r\n            ? 'local'\r\n            : 'global'\r\n        : !options.useScope\r\n            ? 'local'\r\n            : options.useScope;\r\n    if (scope === 'global') {\r\n        let messages = isObject(options.messages) ? options.messages : {};\r\n        if ('__i18nGlobal' in instance.type) {\r\n            messages = getLocaleMessages(global.locale.value, {\r\n                messages,\r\n                __i18n: instance.type.__i18nGlobal\r\n            });\r\n        }\r\n        // merge locale messages\r\n        const locales = Object.keys(messages);\r\n        if (locales.length) {\r\n            locales.forEach(locale => {\r\n                global.mergeLocaleMessage(locale, messages[locale]);\r\n            });\r\n        }\r\n        // merge datetime formats\r\n        if (isObject(options.datetimeFormats)) {\r\n            const locales = Object.keys(options.datetimeFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n        // merge number formats\r\n        if (isObject(options.numberFormats)) {\r\n            const locales = Object.keys(options.numberFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeNumberFormat(locale, options.numberFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n        return global;\r\n    }\r\n    if (scope === 'parent') {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let composer = getComposer(i18n, instance, options.__useComponent);\r\n        if (composer == null) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(getWarnMessage(12 /* NOT_FOUND_PARENT_SCOPE */));\r\n            }\r\n            composer = global;\r\n        }\r\n        return composer;\r\n    }\r\n    // scope 'local' case\r\n    if (i18n.mode === 'legacy') {\r\n        throw createI18nError(18 /* NOT_AVAILABLE_IN_LEGACY_MODE */);\r\n    }\r\n    const i18nInternal = i18n;\r\n    let composer = i18nInternal.__getInstance(instance);\r\n    if (composer == null) {\r\n        const type = instance.type;\r\n        const composerOptions = assign({}, options);\r\n        if (type.__i18n) {\r\n            composerOptions.__i18n = type.__i18n;\r\n        }\r\n        if (global) {\r\n            composerOptions.__root = global;\r\n        }\r\n        composer = createComposer(composerOptions);\r\n        setupLifeCycle(i18nInternal, instance, composer);\r\n        i18nInternal.__setInstance(instance, composer);\r\n    }\r\n    return composer;\r\n}\r\nfunction getComposer(i18n, target, useComponent = false) {\r\n    let composer = null;\r\n    const root = target.root;\r\n    let current = target.parent;\r\n    while (current != null) {\r\n        const i18nInternal = i18n;\r\n        if (i18n.mode === 'composition') {\r\n            composer = i18nInternal.__getInstance(current);\r\n        }\r\n        else {\r\n            const vueI18n = i18nInternal.__getInstance(current);\r\n            if (vueI18n != null) {\r\n                composer = vueI18n\r\n                    .__composer;\r\n            }\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (useComponent && composer && !composer[InejctWithOption]) {\r\n                composer = null;\r\n            }\r\n        }\r\n        if (composer != null) {\r\n            break;\r\n        }\r\n        if (root === current) {\r\n            break;\r\n        }\r\n        current = current.parent;\r\n    }\r\n    return composer;\r\n}\r\nfunction setupLifeCycle(i18n, target, composer) {\r\n    let emitter = null;\r\n    onMounted(() => {\r\n        // inject composer instance to DOM for intlify-devtools\r\n        if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n            !false &&\r\n            target.vnode.el) {\r\n            target.vnode.el.__VUE_I18N__ = composer;\r\n            emitter = createEmitter();\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const _composer = composer;\r\n            _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\r\n            emitter.on('*', addTimelineEvent);\r\n        }\r\n    }, target);\r\n    onUnmounted(() => {\r\n        // remove composer instance from DOM for intlify-devtools\r\n        if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n            !false &&\r\n            target.vnode.el &&\r\n            target.vnode.el.__VUE_I18N__) {\r\n            emitter && emitter.off('*', addTimelineEvent);\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const _composer = composer;\r\n            _composer[DisableEmitter] && _composer[DisableEmitter]();\r\n            delete target.vnode.el.__VUE_I18N__;\r\n        }\r\n        i18n.__deleteInstance(target);\r\n    }, target);\r\n}\r\nconst globalExportProps = [\r\n    'locale',\r\n    'fallbackLocale',\r\n    'availableLocales'\r\n];\r\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'];\r\nfunction injectGlobalFields(app, composer) {\r\n    const i18n = Object.create(null);\r\n    globalExportProps.forEach(prop => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, prop);\r\n        if (!desc) {\r\n            throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n        }\r\n        const wrap = isRef(desc.value) // check computed props\r\n            ? {\r\n                get() {\r\n                    return desc.value.value;\r\n                },\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                set(val) {\r\n                    desc.value.value = val;\r\n                }\r\n            }\r\n            : {\r\n                get() {\r\n                    return desc.get && desc.get();\r\n                }\r\n            };\r\n        Object.defineProperty(i18n, prop, wrap);\r\n    });\r\n    app.config.globalProperties.$i18n = i18n;\r\n    globalExportMethods.forEach(method => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, method);\r\n        if (!desc || !desc.value) {\r\n            throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n        }\r\n        Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\r\n    });\r\n}\n\n// register message compiler at vue-i18n\r\nregisterMessageCompiler(compileToFunction);\r\n{\r\n    initFeatureFlags();\r\n}\r\n// NOTE: experimental !!\r\nif ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\r\n    const target = getGlobalThis();\r\n    target.__INTLIFY__ = true;\r\n    setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\r\n}\r\nif ((process.env.NODE_ENV !== 'production')) ;\n\nexport { DatetimeFormat, NumberFormat, Translation, VERSION, createI18n, useI18n, vTDirective };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}