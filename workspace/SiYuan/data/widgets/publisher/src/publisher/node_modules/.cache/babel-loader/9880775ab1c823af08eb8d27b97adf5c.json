{"ast":null,"code":"function addOperation(type, key, value, options) {\n  var operation = {\n    type: type,\n    key: key,\n    value: value,\n    options: options\n  };\n\n  if (options && options.prefix) {\n    operation.prefix = options.prefix;\n    delete options.prefix;\n  }\n\n  this._operations.push(operation);\n\n  return this;\n}\n\nfunction Batch(sdb) {\n  this._operations = [];\n  this._sdb = sdb;\n  this.put = addOperation.bind(this, 'put');\n  this.del = addOperation.bind(this, 'del');\n}\n\nvar B = Batch.prototype;\n\nB.clear = function () {\n  this._operations = [];\n};\n\nB.write = function (cb) {\n  this._sdb.batch(this._operations, cb);\n};\n\nmodule.exports = Batch;","map":{"version":3,"names":["addOperation","type","key","value","options","operation","prefix","_operations","push","Batch","sdb","_sdb","put","bind","del","B","prototype","clear","write","cb","batch","module","exports"],"sources":["/Users/terwer/Documents/mydocs/my-note-docker/workspace/SiYuan/data/widgets/publisher/src/publisher/node_modules/level-sublevel/batch.js"],"sourcesContent":["function addOperation (type, key, value, options) {\n  var operation = {\n    type: type,\n    key: key,\n    value: value,\n    options: options\n  }\n\n  if (options && options.prefix) {\n    operation.prefix = options.prefix\n    delete options.prefix\n  }\n\n  this._operations.push(operation)\n\n  return this\n}\n\nfunction Batch(sdb) {\n  this._operations = []\n  this._sdb = sdb\n\n  this.put = addOperation.bind(this, 'put')\n  this.del = addOperation.bind(this, 'del')\n}\n\nvar B = Batch.prototype\n\n\nB.clear = function () {\n  this._operations = []\n}\n\nB.write = function (cb) {\n  this._sdb.batch(this._operations, cb)\n}\n\nmodule.exports = Batch\n"],"mappings":"AAAA,SAASA,YAAT,CAAuBC,IAAvB,EAA6BC,GAA7B,EAAkCC,KAAlC,EAAyCC,OAAzC,EAAkD;EAChD,IAAIC,SAAS,GAAG;IACdJ,IAAI,EAAEA,IADQ;IAEdC,GAAG,EAAEA,GAFS;IAGdC,KAAK,EAAEA,KAHO;IAIdC,OAAO,EAAEA;EAJK,CAAhB;;EAOA,IAAIA,OAAO,IAAIA,OAAO,CAACE,MAAvB,EAA+B;IAC7BD,SAAS,CAACC,MAAV,GAAmBF,OAAO,CAACE,MAA3B;IACA,OAAOF,OAAO,CAACE,MAAf;EACD;;EAED,KAAKC,WAAL,CAAiBC,IAAjB,CAAsBH,SAAtB;;EAEA,OAAO,IAAP;AACD;;AAED,SAASI,KAAT,CAAeC,GAAf,EAAoB;EAClB,KAAKH,WAAL,GAAmB,EAAnB;EACA,KAAKI,IAAL,GAAYD,GAAZ;EAEA,KAAKE,GAAL,GAAWZ,YAAY,CAACa,IAAb,CAAkB,IAAlB,EAAwB,KAAxB,CAAX;EACA,KAAKC,GAAL,GAAWd,YAAY,CAACa,IAAb,CAAkB,IAAlB,EAAwB,KAAxB,CAAX;AACD;;AAED,IAAIE,CAAC,GAAGN,KAAK,CAACO,SAAd;;AAGAD,CAAC,CAACE,KAAF,GAAU,YAAY;EACpB,KAAKV,WAAL,GAAmB,EAAnB;AACD,CAFD;;AAIAQ,CAAC,CAACG,KAAF,GAAU,UAAUC,EAAV,EAAc;EACtB,KAAKR,IAAL,CAAUS,KAAV,CAAgB,KAAKb,WAArB,EAAkCY,EAAlC;AACD,CAFD;;AAIAE,MAAM,CAACC,OAAP,GAAiBb,KAAjB"},"metadata":{},"sourceType":"script"}