var Ct=Object.defineProperty;var yt=(s,t,e)=>t in s?Ct(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var r=(s,t,e)=>(yt(s,typeof t!="symbol"?t+"":t,e),e);import{bG as wt,aG as At,O as T,P as I,a1 as E,U as C,W as D,_ as be,M as z,A as Ae,a0 as Dt,ao as Bt,ac as fe,z as _t,bH as Pt,bI as St,u as X,$ as O,y as Ce,Z as re,bJ as Tt,bK as vt,Q as Ke,L as It,T as kt,Y as Ot,bL as Ut}from"./vendor-a9bad54d.js";import{c as Lt}from"./vendor_pinia-306dd1ce.js";import{c as Nt,u as De}from"./vendor_vue-i18n-5b80ab8c.js";import{E as $,a as Xe,b as Rt,c as xt,d as Mt,e as Be,f as _e,g as Yt,h as Vt,i as Gt,j as Ht,k as Wt}from"./vendor_element-plus-5709147a.js";import{H as A,j as xe,t as Me,c as qt,a as jt,b as he,d as Ye,x as Ve,e as Kt,p as Xt}from"./vendor_highlight-js-4c21db5d.js";import{b as $t}from"./vendor_plantuml-encoder-18698577.js";import{l as te}from"./vendor_loglevel-bd2e1c44.js";import{p as $e}from"./vendor_loglevel-plugin-prefix-34a2ac06.js";import{n as Jt}from"./vendor_browser-fs-access-5b1a413d.js";import{d as Je}from"./vendor_transliteration-0556f169.js";import{d as zt}from"./vendor_shorthash2-e60185c0.js";import{g as Pe}from"./vendor_js-base64-904ab953.js";import{f as Qt}from"./vendor_fast-xml-parser-512675b8.js";import{s as Zt,x as Ge}from"./vendor_xmlrpc-bd2abe58.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();const eu={"lang.choose":"\u8BED\u8A00\u9009\u62E9","lang.choose.placeholder":"\u8BF7\u9009\u62E9\u8BED\u8A00","theme.mode.choose":"\u5207\u6362\u6A21\u5F0F","theme.mode.dark":"\u6697\u9ED1\u6A21\u5F0F","theme.mode.light":"\u6D45\u8272\u6A21\u5F0F","service.tab.publish.service":"\u53D1\u5E03\u670D\u52A1","service.tab.publish.setting":"\u53D1\u5E03\u914D\u7F6E","service.tab.post.bind":"\u6587\u7AE0\u7ED1\u5B9A","service.tab.service.switch":"\u670D\u52A1\u5F00\u5173","service.tab.change.local":"\u901A\u7528\u8BBE\u7F6E","main.publish.editmode":"\u7F16\u8F91\u6A21\u5F0F","main.publish.editmode.simple":"\u7B80\u6D01\u6A21\u5F0F","main.publish.editmode.complex":"\u8BE6\u7EC6\u6A21\u5F0F","main.publish.editmode.source":"\u6E90\u7801\u6A21\u5F0F","main.publish.vuepress.tip":"\u63A8\u8350Vuepress\u7684V1\u7248\u672C\uFF0C\u914D\u5408 vuepress-theme-vdoing \u4F7F\u7528\uFF0C\u540E\u7EEDbug\u4E5F\u53EA\u4F1A\u5BF9V1\u548C\u6B64\u4E3B\u9898\u8FDB\u884C\u66F4\u65B0","main.publish.github.error.tip":"\u914D\u7F6E\u9519\u8BEF\u6216\u8005api\u4E0D\u53EF\u7528\uFF0C\u8BF7\u68C0\u67E5\u3002\u82E5\u4FEE\u6539\u8FC7\u914D\u7F6E\uFF0C\u8BF7\u5237\u65B0\u9875\u9762","main.publish.github":"\u53D1\u5E03\u9875\u9762","main.publish.github.tip":"\u81EA\u52A8\u5C06\u6587\u7AE0\u7684markdown\u6587\u672C\u53D1\u5E03\u5230Vuepress\u5BF9\u5E94\u7684Github\u4ED3\u5E93\uFF08\u9700\u8981\u5148\u8FDB\u884C\u76F8\u5173\u914D\u7F6E\uFF09","main.publish.github.no.tip":"\u60A8\u672A\u5F00\u542FGithub pages\u53D1\u5E03\uFF0C\u8BF7\u5207\u6362\u6E90\u7801\u6A21\u5F0F\u590D\u5236YAML\u4EE5\u53CAMarkdown\u6587\u672C","main.publish.github.choose.path":"\u9009\u62E9\u76EE\u5F55","main.publish.github.published.path":"\u53D1\u5E03\u8DEF\u5F84","main.publish.github.choose.path.use.default":"\u9ED8\u8BA4\u76EE\u5F55","main.publish.github.choose.path.use.default.tip":"\u4F7F\u7528\u9ED8\u8BA4\u76EE\u5F55\uFF0C\u5219\u9ED8\u8BA4\u6240\u6709\u6587\u7AE0\u90FD\u53D1\u5E03\u5728\u914D\u7F6E\u597D\u7684\u9ED8\u8BA4\u76EE\u5F55\u4E0B\uFF08\u53EF\u5728\u53D1\u5E03\u914D\u7F6E\u8BBE\u7F6E\uFF09\uFF0C\u65E0\u9700\u6BCF\u6B21\u53D1\u5E03\u7684\u65F6\u5019\u6765\u9009\u62E9\u76EE\u5F55\uFF0C\u5F53\u524D\u5E73\u53F0\u7684\u9ED8\u8BA4\u76EE\u5F55\u4E3A\uFF1A","main.publish.github.choose.title":"\u6587\u4EF6\u540D\u79F0","main.publish.github.choose.title.tip":"Vuepress-theme-vdoing\u652F\u6301\u6587\u4EF6\u540D\u52A0\u4E0A\u5E8F\u53F7\u6765\u6807\u8BC6\uFF0C\u5982\u679C\u4F60\u4E0D\u6E05\u695A\u6B64\u7528\u6CD5\uFF0C\u8BF7\u4E0D\u8981\u4FEE\u6539\u6587\u4EF6\u540D","main.publish.github.failure":"\u53D1\u5E03\u5931\u8D25\uFF0C\u8BF7\u81EA\u884C\u590D\u5236\u53F3\u4FA7\u6587\u672C","main.publish.see.preview":"\u70B9\u51FB\u8FD9\u91CC\u67E5\u770B\u6700\u65B0\u6587\u7AE0","main.publish.see.md.preview":"\u70B9\u51FB\u8FD9\u91CC\u67E5\u770BMD\u6587\u4EF6","main.publish.see.real.preview":"\u70B9\u51FB\u8FD9\u91CC\u67E5\u770B\u6700\u65B0\u6587\u7AE0","main.publish.to.wordpress":"\u53D1\u5E03\u5230Wordpress","main.title":"\u6587\u7AE0\u6807\u9898","main.slug":"\u6587\u7AE0\u522B\u540D","main.auto.fetch.slug":"\u81EA\u52A8\u751F\u6210\u522B\u540D","main.use.google.translate":"\u4F7F\u7528Google\u7FFB\u8BD1API","main.use.hash":"\u522B\u540D\u540E\u7F00","main.use.hash.tip":"\u4E0D\u4F7F\u7528hash\u4F1A\u5C55\u793A\u66F4\u6709\u610F\u4E49\u7684url\uFF0C\u4F46\u662F\u53EF\u80FD\u5BFC\u81F4\u6587\u7AE0\u522B\u540D\u91CD\u590D\uFF08\u540E\u679C\u662FVuepress\u4F1ABuild\u5931\u8D25\u9664\u975E\u624B\u52A8\u89E3\u51B3\u522B\u540D\u552F\u4E00\u95EE\u9898\uFF09\uFF0C\u8BF7\u77E5\u6089\u3002","main.force.refresh":"\u5237\u65B0\u522B\u540D","main.force.refresh.tip":"\u4E3A\u4E86\u9632\u6B62\u8BEF\u64CD\u4F5C\u66F4\u65B0\u522B\u540D\uFF0C\u522B\u540D\u4E0D\u4E3A\u7A7A\u7684\u65F6\u5019\u9ED8\u8BA4\u4E0D\u4F1A\u66F4\u65B0\u522B\u540D\uFF0C\u5982\u9700\u66F4\u65B0\uFF0C\u8BF7\u52FE\u9009\u5237\u65B0\u522B\u540D\u3002","main.desc":"\u6587\u7AE0\u6458\u8981","main.auto.fetch.desc":"\u81EA\u52A8\u63D0\u53D6\u6458\u8981","main.create.time":"\u53D1\u5E03\u65F6\u95F4","main.create.time.placeholder":"\u8BF7\u9009\u62E9\u53D1\u5E03\u65F6\u95F4","main.tag":"\u6587\u7AE0\u6807\u7B7E","main.tag.new":"\u65B0\u6807\u7B7E","main.auto.fetch.tag":"\u81EA\u52A8\u63D0\u53D6\u6807\u7B7E","main.tag.auto.switch":"\u81EA\u52A8\u6807\u7B7E","main.tag.auto.switch.no.tip":"\u81EA\u52A8\u6807\u7B7E\u5DF2\u5173\u95ED\uFF0C\u5C06\u4E0D\u4F1A\u81EA\u52A8\u751F\u6210\u6807\u7B7E","main.cat":"\u6587\u7AE0\u5206\u7C7B","main.cat.empty":"\u6682\u65E0\u5206\u7C7B","main.cat.select":"\u8BF7\u9009\u62E9\u5206\u7C7B","main.yaml.formatter":"YAML Formatter","main.siyuan.to.yaml":"\u6587\u7AE0\u5C5E\u6027\u8F6CYAML","main.yaml.to.siyuan":"YAML\u8F6C\u6587\u7AE0\u5C5E\u6027","main.save.attr.to.siyuan":"\u4FDD\u5B58\u5C5E\u6027\u5230\u601D\u6E90","main.copy":"\u590D\u5236","main.publish":"\u53D1\u5E03","main.publish.loading":"\u53D1\u5E03\u4E2D...","main.loading":"\u52A0\u8F7D\u4E2D...","main.update":"\u66F4\u65B0","main.cancel":"\u53D6\u6D88","main.publish.oneclick.attr":"\u4E00\u952E\u751F\u6210\u5C5E\u6027","main.publish.oneclick.attr.finish":"\u5C5E\u6027\u5DF2\u751F\u6210","main.publish.status.unpublish":"\u672A\u53D1\u5E03","main.publish.status.published":"\u5DF2\u53D1\u5E03","main.publish.to.vuepress":"\u53D1\u5E03\u5230Vuepress","main.publish.to.hugo":"\u53D1\u5E03\u5230Hugo","main.publish.to.hexo":"\u53D1\u5E03\u5230Hexo","main.publish.to.jekyll":"\u53D1\u5E03\u5230Jekyll","main.publish.to.jvue":"\u53D1\u5E03\u5230JVue","main.publish.to.conf":"\u53D1\u5E03\u5230Confluence","main.publish.to.cnblogs":"\u53D1\u5E03\u5230\u535A\u5BA2\u56ED","main.publish.to.liandi":"\u53D1\u5E03\u5230\u94FE\u6EF4","main.publish.to.yuque":"\u53D1\u5E03\u5230\u8BED\u96C0","main.publish.to.kms":"\u53D1\u5E03\u5230KMS","main.opt.success":"\u64CD\u4F5C\u6210\u529F","main.opt.failure":"\u64CD\u4F5C\u5931\u8D25","main.opt.quick":"\u5FEB\u6377\u64CD\u4F5C","main.opt.status.publish":"\u6587\u7AE0\u5DF2\u53D1\u5E03","main.opt.status.cancel":"\u6587\u7AE0\u53D1\u5E03\u5DF2\u53D6\u6D88","main.opt.loading":"\u64CD\u4F5C\u4E2D...","main.opt.warning":"\u8B66\u544A\u4FE1\u606F","main.opt.ok":"\u786E\u8BA4","main.opt.cancel":"\u53D6\u6D88","main.opt.warning.tip":"\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","setting.noneed":"\u65E0\u9700\u914D\u7F6E","setting.blog.setting":"\u8BBE\u7F6E","setting.blog.type":"\u535A\u5BA2\u7C7B\u578B","setting.blog.type.placeholder":"\u8BF7\u9009\u62E9\u535A\u5BA2\u7C7B\u578B","setting.blog.type.wordpress.value":"Wordpress","setting.blog.type.wordpress.label":"Wordpress","setting.blog.type.metaweblog.value":"MetaweblogApi","setting.blog.type.metaweblog.label":"Metaweblog API","setting.blog.type.github.value":"Github","setting.blog.type.github.label":"Github","setting.blog.type.github.user":"Github\u7528\u6237\u540D","setting.blog.type.github.user.tip":"Github\u7528\u6237\u540D\uFF0C\u4F8B\u5982\uFF1Aterwer","setting.blog.type.github.repo":"Github\u4ED3\u5E93\u540D","setting.blog.type.github.repo.tip":"Github\u4ED3\u5E93\u540D\uFF0C\u4F8B\u5982\uFF1Aterwer.github.io","setting.blog.type.github.token":"Github\u4EE4\u724C","setting.blog.type.github.token.tip":"Github\u4EE4\u724C\uFF0C\u4F8B\u5982\uFF1Aghp_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX","setting.blog.type.github.token.gen":"Github \u4E2A\u4EBA\u4EE4\u724C\u751F\u6210\u5730\u5740","setting.blog.type.github.default.branch":"\u9ED8\u8BA4\u5206\u652F","setting.blog.type.github.default.branch.tip":"\u9ED8\u8BA4\u5206\u652F\uFF08\u65E7\u7248\u4ED3\u5E93\u4E3Amaster\uFF0C\u65B0\u7248\u4ED3\u5E93\u9ED8\u8BA4\u4E3Amain\uFF09\uFF0C\u4F8B\u5982\uFF1Amain","setting.blog.type.github.default.path":"\u5B58\u50A8\u76EE\u5F55","setting.blog.type.github.default.path.tip":"\u5B58\u50A8\u76EE\u5F55\uFF08\u76F8\u5BF9\u4E8E\u4ED3\u5E93\u6839\u76EE\u5F55\u7684\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u9ED8\u8BA4\u6240\u6709\u6587\u7AE0\u90FD\u53D1\u5E03\u5728\u8FD9\u91CC\uFF09\uFF0C\u4F8B\u5982\uFF1Adocs/_posts","setting.blog.type.github.msg":"\u63D0\u4EA4\u4FE1\u606F","setting.blog.type.github.msg.tip":"\u63D0\u4EA4\u4FE1\u606F\uFF0C\u4F8B\u5982\uFF1Aauto published by sy-post-publisher","setting.blog.type.github.author":"\u4F5C\u8005","setting.blog.type.github.author.tip":"\u4F5C\u8005\uFF0C\u4F8B\u5982\uFF1Aterwer","setting.blog.type.github.email":"\u90AE\u7BB1","setting.blog.type.github.email.tip":"\u90AE\u7BB1","setting.blog.url":"\u535A\u5BA2\u7F51\u5740","setting.blog.username":"\u8D26\u53F7","setting.blog.password":"\u5BC6\u7801/Token","setting.blog.apiurl":"API\u5730\u5740","setting.blog.previewUrl":"\u9884\u89C8\u89C4\u5219","setting.blog.previewUrl.tip":"\u9884\u89C8\u89C4\u5219\uFF08\u5360\u4F4D\u7B26\uFF1A[yyyy] [MM] [dd] [postid]\uFF09\uFF0C\u4F8B\u5982\uFF1A/post/[postid].html \u6216\u8005 /[cats]/[yyyy]/[mm]/[dd]/[postid].html","setting.blog.previewMdUrl":"MD\u9884\u89C8\u89C4\u5219","setting.blog.previewMdUrl.tip":"MD\u6587\u4EF6\u9884\u89C8\u89C4\u5219\uFF08\u5360\u4F4D\u7B26\uFF1A[user] [repo] [branch] [docpath]\uFF09\uFF0C\u4F8B\u5982\uFF1A/[user]/[repo]/blob/[branch]/[docpath]","setting.blog.mdFilenameRule":"\u6587\u4EF6\u89C4\u5219","setting.blog.mdFilenameRule.tip":"Markdown\u6587\u4EF6\u540D\u89C4\u5219\uFF08\u5360\u4F4D\u7B26\uFF1A[yyyy] [MM] [dd] [slug] [filename] \uFF09\uFF0C\u4F8B\u5982\uFF1A[filename].md \u6216\u8005 [yyyy]-[mm]-[dd]-[slug].md","setting.blog.pageType":"\u53D1\u5E03\u683C\u5F0F","setting.blog.validate":"\u9A8C\u8BC1","setting.blog.save":"\u4FDD\u5B58","setting.blog.vali":"\u9A8C\u8BC1","setting.blog.vali.tip":"\u5F3A\u70C8\u5EFA\u8BAE\u4FDD\u5B58\u4E4B\u524D\u5148\u9A8C\u8BC1\u914D\u7F6E\u4EE5\u4FDD\u8BC1api\u7684\u53EF\u7528\u6027\uFF0C\u9A8C\u8BC1\u8FC7\u7A0B\u4E2D\u5C06\u53D1\u9001\u4E00\u7BC7\u6D4B\u8BD5\u6587\u7AE0\uFF0C\u60A8\u53EF\u4EE5\u7A0D\u540E\u5728\u5E73\u53F0\u624B\u52A8\u5220\u9664\u5B83\u3002\u60A8\u4E5F\u53EF\u4EE5\u5148\u4FDD\u5B58\uFF0C\u7A0D\u540E\u4FEE\u6539\uFF0C\u4F46\u662F\u5728\u9A8C\u8BC1\u901A\u8FC7\u4E4B\u524D\u8BE5api\u5C06\u4E0D\u53EF\u4F7F\u7528\u3002","setting.blog.vali.tip.metaweblog":"\u914D\u7F6E\u9519\u8BEF\u6216\u8005api\u4E0D\u53EF\u7528\uFF0C\u8BF7\u68C0\u67E5\u3002\u82E5\u4FEE\u6539\u8FC7\u914D\u7F6E\uFF0C\u8BF7\u5237\u65B0\u9875\u9762","setting.blog.vali.ing":"\u9A8C\u8BC1\u4E2D...","setting.blog.vali.ok":"\u9A8C\u8BC1\u901A\u8FC7\uFF0C\u4E0D\u8981\u5FD8\u4E86\u70B9\u51FB\u4E0B\u65B9\u4FDD\u5B58\u54DF(*^\u25BD^*)","setting.blog.vali.ok.metaweblog":"\u914D\u7F6E\u5DF2\u4FDD\u5B58\u5E76\u9A8C\u8BC1\u901A\u8FC7","setting.blog.vali.error":"API\u9A8C\u8BC1\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u914D\u7F6E","setting.blog.platform.support.github":"\u60A8\u5F53\u524D\u64CD\u4F5C\u7684\u662F\u652F\u6301Github\u7684\u5E73\u53F0\uFF1A","setting.blog.platform.support.metaweblog":"\u60A8\u5F53\u524D\u64CD\u4F5C\u7684\u662F\u652F\u6301metaweblog\u7684\u5E73\u53F0\uFF1A","setting.blog.cancel":"\u53D6\u6D88","setting.vuepress":"Vuepress","setting.hugo":"Hugo","setting.hexo":"Hexo","setting.jekyll":"Jekyll","setting.jvue":"JVue","setting.conf":"Confluence","setting.conf.tip":"\u53D1\u5E03\u5230Confluence\u9700\u8981\u914D\u5408\u6211\u7684\u53E6\u4E00\u4E2A\u9002\u914D\u5668\u9879\u76EE\u4F7F\u7528\uFF08\u5F3A\u70C8\u63A8\u8350\uFF09\uFF0C\u8BF7\u53C2\u8003\uFF1Ahttps://github.com/terwer/node-metaweblog-api-adaptor","setting.cnblogs":"\u535A\u5BA2\u56ED","setting.wordpress":"Wordpress","setting.liandi":"\u94FE\u6EF4","setting.yuque":"\u8BED\u96C0","setting.kms":"KMS","setting.other1":"\u5176\u4ED61","service.switch.vuepress":"Vuepress","service.switch.hugo":"Hugo","service.switch.hexo":"Hexo","service.switch.jekyll":"Jekyll","service.switch.jvue":"JVue","service.switch.conf":"Confluence","service.switch.cnblogs":"\u535A\u5BA2\u56ED","service.switch.wordpress":"Wordpress","service.switch.yuque":"\u8BED\u96C0","service.switch.liandi":"\u94FE\u6EF4","service.switch.wechat":"\u5FAE\u4FE1\u804A\u5929","service.switch.wemp":"\u5FAE\u4FE1\u516C\u4F17\u53F7","service.switch.zhihu":"\u77E5\u4E4E","service.switch.kms":"\u77E5\u8BC6\u4ED3\u5E93","service.switch.must.select.one":"\u60A8\u5FC5\u987B\u9009\u62E9\u4E00\u4E2A\u81F3\u5C11\u5E73\u53F0","post.bind.vuepress.slug":"Vuepress\u522B\u540D","post.bind.hugo.slug":"Hugo\u522B\u540D","post.bind.hexo.slug":"Hexo\u522B\u540D","post.bind.jekyll.slug":"Jekyll\u522B\u540D","post.bind.cnblogs.postid":"\u535A\u5BA2\u56ED\u522B\u540D","post.bind.jvue.postid":"JVue\u7684ID","post.bind.conf.postid":"Conf\u7684ID","post.bind.wordpress.postid":"WP\u7684ID","post.bind.liandi.postid":"\u94FE\u6EF4\u7684ID","post.bind.yuque.postid":"\u8BED\u96C0\u7684ID","post.bind.kms.postid":"KMS\u7684ID","post.bind.conf.save":"\u4FDD\u5B58","post.bind.conf.cancel":"\u53D6\u6D88","form.validate.name.required":"\u8BF7\u8F93\u5165\u540D\u79F0","form.validate.name.length":"\u957F\u5EA6\u5FC5\u987B\u57280\u52301\u4E4B\u95F4","form.validate.github.auto.delete":"\u81EA\u52A8\u5220\u9664","dynamic.platform.new":"\u65B0\u589E\u5E73\u53F0","dynamic.platform.tip":"\u5982\u679C\u5185\u7F6E\u7684\u53D1\u5E03\u670D\u52A1\u65E0\u6CD5\u6EE1\u8DB3\u6216\u8005\u9700\u8981\u6DFB\u52A0\u591A\u4E2A\u5B9E\u4F8B\uFF0C\u60A8\u53EF\u4EE5\u5728\u8FD9\u91CC\u6DFB\u52A0\u53D7\u652F\u6301\u7684\u5E73\u53F0\uFF0C\u76EE\u524D\u652F\u6301Github\uFF08HUGO\u3001HEXO\u3001Jekyll\u7B49\uFF09\u3001metaweblog API\uFF08\u5F00\u6E90\u4E2D\u56FD\u7B49\uFF09\u548CWordpress API","dynamic.platform.type":"\u5E73\u53F0\u7C7B\u578B[\u5FC5\u9009]","dynamic.platform.subtype":"\u5B50\u5E73\u53F0\u540D\u79F0","dynamic.platform.type.metaweblog":"metaweblog API","dynamic.platform.type.wordpress":"Wordpress","dynamic.platform.type.github":"Github","dynamic.platform.type.custom":"\u81EA\u5B9A\u4E49","dynamic.platform.key":"\u5E73\u53F0key","dynamic.platform.key.tip":"\u5E73\u53F0\u552F\u4E00\u6807\u8BC6\uFF0C\u4E0D\u80FD\u91CD\u590D\uFF0C\u4F8B\u5982\uFF1Amyblog","dynamic.platform.name":"\u5E73\u53F0\u540D\u79F0","dynamic.platform.name.tip":"\u5E73\u53F0\u540D\u79F0\uFF0C\u4F8B\u5982\uFF1A\u6211\u7684\u535A\u5BA2","dynamic.platform.opt.add":"\u63D0\u4EA4","dynamic.platform.opt.noselect":"\u8BF7\u9009\u62E9\u5E73\u53F0\u7C7B\u578B","dynamic.platform.opt.key.exist":"\u5E73\u53F0key\u5DF2\u7ECF\u5B58\u5728","dynamic.platform.opt.del.confirm":"\u5220\u9664\u6B64\u5E73\u53F0\u5C06\u4F1A\u5F7B\u5E95\u79FB\u9664\u6B64\u5E73\u53F0\u76F8\u5173\u914D\u7F6E\u4FE1\u606F\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","dynamic.platform.opt.del.select":"\u5220\u9664\u9009\u4E2D","dynamic.platform.opt.item.select":"\u672A\u9009\u62E9","dynamic.platform.opt.item.select.tip":"\u5F53\u524D\u9009\u62E9\u7684\u662F\uFF1A","dynamic.platform.opt.item.no.select.tip":"\u8BF7\u9009\u62E9\u8981\u5220\u9664\u7684\u884C","setting.common.home":"\u5E73\u53F0\u9996\u9875","setting.common.tip":"\u5E73\u53F0\u9996\u9875\uFF0C\u7528\u4E8E\u9884\u89C8\u6587\u7AE0\uFF0C\u4F8B\u5982\uFF1Ahttps://terwer.space","setting.common.apiurl":"API\u5730\u5740","setting.common.token":"\u9274\u6743token","setting.common.token.gen":"Token\u751F\u6210\u5730\u5740","setting.common.username":"\u7528\u6237\u540D","setting.common.username.gen":"\u8BBF\u95EE\u7B56\u7565\u8BBE\u7F6E","setting.common.password":"\u5BC6\u7801","setting.blog.platform.support.common":"\u60A8\u5F53\u524D\u64CD\u4F5C\u7684\u5E73\u53F0\u662F\uFF1A","platform.must.select.one":"\u54C7\u54E6\uFF0C\u79BB\u4F7F\u7528\u5C31\u5DEE\u4E00\u6B65\u5566 o(\u2565\uFE4F\u2565)o \uFF0C\u60A8\u5FC5\u987B\u542F\u7528\u81F3\u5C11\u4E00\u4E2A\u5E73\u53F0\u3002\u5982\u679C\u4E0A\u9762\u5217\u51FA\u7684\u5E73\u53F0\u6CA1\u6709\u4F60\u60F3\u8981\u7684\uFF0C\u53EF\u4EE5\u5728\u65B0\u589E\u5E73\u53F0\u52A8\u6001\u6DFB\u52A0\uFF0C\u652F\u6301Wordpress\u548CMetaweblog API\uFF08\u4F8B\u5982\u535A\u5BA2\u56ED\u3001oschina\u300151cto\u7B49\uFF09\u3002\u6709\u4EFB\u4F55\u7591\u95EE\u6B22\u8FCE\u90AE\u4EF6 youweics#163.com ","blog.list.toptip":"\u6E29\u99A8\u63D0\u793A\uFF1A\u5355\u51FB\u8868\u683C\u884C\u53EF\u4EE5\u8FDB\u5165\u6587\u7AE0\u8BE6\u60C5\u9875\uFF0C\u8BE6\u60C5\u9875\u6709\u53D1\u5E03\u6309\u94AE\u54E6! (\u3003'\u25BD'\u3003)","config.error.msg":"\u914D\u7F6E\u9519\u8BEF\uFF0C\u8BF7\u524D\u5F80\u5BF9\u5E94\u53D1\u5E03\u914D\u7F6E\u4FEE\u6539","config.platform.none":"\u6CA1\u6709\u542F\u7528\u7684\u53D1\u5E03\u5E73\u53F0\uFF0C\u8BF7\u524D\u5F80\u670D\u52A1\u5F00\u5173\u5F00\u542F","post.delete.by.platform":"\u6587\u7AE0\u5DF2\u88AB\u5E73\u53F0\u81EA\u884C\u5220\u9664\uFF0C\u8BF7\u70B9\u51FB\u53D6\u6D88\u5F3A\u5236\u89E3\u9664\u5173\u8054","blog.top-data-tip":"\u6E29\u99A8\u63D0\u793A\uFF1A1. 0.1.0+ \u4EE5\u540E\uFF0C\u53EF\u901A\u8FC7\u3010\u601D\u6E90\u5730\u5740\u3011\u6765\u4FEE\u6539\u9ED8\u8BA4\u4F3A\u670D\u914D\u7F6E\uFF0C\u652F\u6301\u672C\u5730\u548C\u8FDC\u7A0B\uFF1B\u5982\u679C\u662F\u8FDC\u7A0B\u8FD8\u9700\u8981\u8BBE\u7F6Etoken\uFF0C\u5982\u679C\u4F7F\u7528\u6D4F\u89C8\u5668\u63D2\u4EF6\u6216\u8005\u6302\u4EF6\u4E4B\u5916\u7684\u8BBF\u95EE\u65B9\u5F0F\u8FD8\u9700\u8981\u8BBE\u7F6E\u8DE8\u57DF\u8BF7\u6C42\u4EE3\u7406\u3002 2\u3001\u5347\u7EA7\u65B0\u7248\u4E4B\u524D\u5F3A\u70C8\u5EFA\u8BAE\u5BFC\u51FA\u914D\u7F6E\uFF0C\u9632\u6B62\u914D\u7F6E\u4E22\u5931\u3002 3\u3001\u5982\u679C\u51FA\u73B0\u65B0\u7248\u672C\u4E0D\u517C\u5BB9\u7684\u5F02\u5E38\u60C5\u51B5\uFF0C\u5EFA\u8BAE\u6E05\u7A7A\u914D\u7F6E\u3002\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01","blog.top-data-tip.siyuan":"\u6E29\u99A8\u63D0\u793A\uFF1A1\u3001\u5F53\u524D\u5904\u4E8E\u6302\u4EF6\u6A21\u5F0F\uFF0C\u4ECE 0.1.0 \u7248\u672C\u5F00\u59CB\uFF0C\u65E0\u9700\u5728\u6240\u6709\u9875\u9762\u5F15\u7528\u6302\u4EF6\u4E86\uFF0C\u53EA\u9700\u8981\u5728\u7236\u7EA7\u9875\u9762\u5F15\u7528\u4E00\u4E2A\u6302\u4EF6\u5373\u53EF\u3002\u5177\u4F53\u89C4\u5219\u5982\u4E0B\uFF1A(1). \u5982\u679C\u68C0\u6D4B\u5230\u6CA1\u6709\u5B50\u6587\u6863\uFF0C\u4F1A\u517C\u5BB9 0.0.3 \u7248\u672C\u4EE5\u524D\u7684\u65B9\u5F0F\uFF0C\u5C55\u793A\u5F53\u524D\u6587\u6863\u7684\u53D1\u5E03\u9875\u9762\u3002 (2). \u5982\u679C\u68C0\u6D4B\u5230\u6709\u5B50\u6587\u6863\uFF0C\u4F1A\u4EE5\u5217\u8868\u52A0\u5206\u9875\u7684\u65B9\u5F0F\u5C55\u793A\u6240\u6709\u5B50\u6587\u6863\u5217\u8868\u3002\u53EF\u5355\u72EC\u9009\u62E9\u67D0\u4E2A\u5B50\u6587\u6863\u8FDB\u884C\u53D1\u5E03\u64CD\u4F5C\u3002 2\u3001\u5347\u7EA7\u65B0\u7248\u4E4B\u524D\u5F3A\u70C8\u5EFA\u8BAE\u5BFC\u51FA\u914D\u7F6E\uFF0C\u9632\u6B62\u914D\u7F6E\u4E22\u5931\u3002 3\u3001\u5982\u679C\u51FA\u73B0\u65B0\u7248\u672C\u4E0D\u517C\u5BB9\u7684\u5F02\u5E38\u60C5\u51B5\uFF0C\u5EFA\u8BAE\u6E05\u7A7A\u914D\u7F6E\u3002\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01","blog.newwin.open":"\u65B0\u7A97\u6253\u5F00[\u63A8\u8350]","blog.change.siyuan.api":"\u601D\u6E90\u5730\u5740","setting.blog.siyuan.password":"\u601D\u6E90\u7B14\u8BB0\u9274\u6743Token\uFF0C\u8BF7\u4ECE\u3010\u8BBE\u7F6E->\u5173\u4E8E\u3011\u590D\u5236\uFF0C\u5982\u679C\u662F\u672C\u5730\u7B14\u8BB0\u7559\u7A7A\u5373\u53EF","setting.blog.siyuan.apiurl":"\u601D\u6E90\u7B14\u8BB0\u7684API\u5730\u5740\uFF0C\u5305\u62EC\u7AEF\u53E3\uFF0C\u4F8B\u5982\uFF1Ahttp://127.0.0.1:6806","setting.blog.siyuan.current.apiurl":"\u5F53\u524DAPI\u5730\u5740=>","setting.blog.middlewareUrl":"\u8DE8\u57DF\u8BF7\u6C42\u4EE3\u7406","setting.blog.middlewareUrl.tip":"\u67D0\u4E9B\u573A\u666F\u4E0B\u9700\u8981\uFF08\u4F8B\u5982Firefox\u63D2\u4EF6\u3001\u81EA\u90E8\u7F72\u6A21\u5F0F\uFF09\uFF0C\u5176\u4ED6\u60C5\u51B5\u53EF\u5FFD\u7565","setting.blog.middlewareUrl.my.tip":"\u5982\u679C\u6CA1\u6709\u90E8\u7F72\u4EE3\u7406\uFF0C\u53EF\u4EE5\u4F7F\u7528\u6211\u7684\u5171\u4EAB\u5730\u5740\uFF1Ahttps://publish.terwer.space/api/middleware \u3002\u51FA\u4E8E\u6027\u80FD\u8003\u8651\uFF0C\u5EFA\u8BAE\u81EA\u5DF1\u90E8\u7F72\u4E00\u4EFD\u3002","setting.conf.export":"\u5BFC\u51FA\u914D\u7F6E","setting.conf.import":"\u5BFC\u5165\u914D\u7F6E","setting.conf.clear":"\u6E05\u7A7A\u914D\u7F6E","page.no.id":"\u8BF7\u6C42\u975E\u6CD5\uFF0C\u539F\u56E0\uFF1ApageId\u83B7\u53D6\u5931\u8D25","yaml.show.type.yaml":"YAML","yaml.show.type.md":"MD\u6B63\u6587","yaml.show.type.yamlmd":"YAML+MD\u6B63\u6587","yaml.show.type.html":"HTML\u6B63\u6587","main.read.mode":"\u53EA\u8BFB\u6A21\u5F0F","main.edit.mode":"\u7F16\u8F91\u6A21\u5F0F","main.read.mode.tip":"\u6E29\u99A8\u63D0\u793A\uFF1A\u53EA\u8BFB\u6A21\u5F0F\u4E0B\u70B9\u51FB\u53EF\u76F4\u63A5\u590D\u5236\uFF0C\u7F16\u8F91\u6A21\u5F0F\u4E0B\u9700\u8981\u70B9\u51FB\u590D\u5236\u6309\u94AE\u590D\u5236\u3002YAML\u8F6C\u6587\u7AE0\u5C5E\u6027\u4EC5\u652F\u6301title\u3001permalink\u3001date\u3001description\u3001tags","main.opt.onclick.confirm.tip":"\u6B64\u64CD\u4F5C\u9ED8\u8BA4\u5C06\u91CD\u65B0\u751F\u6210\u9664\u522B\u540D\u4EE5\u5916\u7684\u6240\u6709\u5C5E\u6027\uFF0C\u5982\u679C\u53EA\u60F3\u4FEE\u6539\u4E2A\u522B\u5C5E\u6027\uFF0C\u8BF7\u5728\u8BE6\u7EC6\u6A21\u5F0F\u70B9\u51FB\u5355\u72EC\u7684\u529F\u80FD\u6309\u94AE\u8FDB\u884C\u5BF9\u5E94\u64CD\u4F5C\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","main.cat.list.error":"\u5206\u7C7B\u83B7\u53D6\u5931\u8D25","main.yaml.no.save":"\u60A8\u7F16\u8F91\u8FC7YAML\uFF0C\u70B9\u51FB\u786E\u8BA4\u53EF\u540C\u6B65YAML\u5230\u5C5E\u6027\uFF0C\u53D6\u6D88\u5C06\u4E22\u5931YAML\u4FEE\u6539\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","setting.github.baseUrl":"Git\u5E73\u53F0\u5730\u5740","setting.github.baseUrl.tip":"Git\u5E73\u53F0\u5730\u5740\uFF0C\u7528\u4E8EMD\u6587\u4EF6\u9884\u89C8\uFF0C\u9ED8\u8BA4\u662F\uFF1Ahttps://github.com","preference.setting.fixTitle":"\u53BB\u9664\u6807\u9898\u7F16\u53F7","preference.setting.newWin":"\u65B0\u7A97\u53E3"},tu={"lang.choose":"Choose lang","lang.choose.placeholder":"Please select language","theme.mode.choose":"Mode","theme.mode.dark":"Dark mode","theme.mode.light":"Light mode","service.tab.publish.service":"Publish service","service.tab.publish.setting":"Publish setting","service.tab.post.bind":"Post bind","service.tab.service.switch":"Service switch","service.tab.change.local":"Change language","main.publish.editmode":"Edit mode","main.publish.editmode.simple":"Simple","main.publish.editmode.complex":"Complex","main.publish.editmode.source":"Source","main.publish.vuepress.tip":"Recommends use it with vuepress-theme-vdoing , and the subsequent bug will only update this theme","main.publish.github.error.tip":"Configure error or API is not available, please check. If you modify the configuration, please refresh the page","main.publish.github":"Send Github","main.publish.github.tip":"Checking the Markdown text of the article to the GitHub warehouse corresponding to Vuepress (need to perform related configuration first, unsatisfactory or configuration error will be ignored)","main.publish.github.choose.path":"Choose path","main.publish.github.published.path":"Published path","main.publish.github.choose.path.use.default":"Default path","main.publish.github.choose.path.use.default.tip":"Using the default directory, all articles are published in the configuration default directory, no need to select the directory every time it is published","main.publish.github.no.tip":"You have not opened github release, please copy the right text on your own","main.publish.github.choose.title":"File name","main.publish.github.choose.title.tip":"Vuepress-theme-VDoing support file name plus serial number to identify. If you don\u2019t know this usage, please do not modify the file name","main.publish.see.preview":"Click here see new post","main.publish.see.md.preview":"Click here see new md file","main.publish.see.real.preview":"Click here see new post","main.publish.to.wordpress":"Send to WP","main.title":"Post title","main.slug":"Post slug","main.auto.fetch.slug":"Auto fetch slug","main.use.google.translate":"Use Google translate API","main.use.hash":"Use hash","main.use.hash.tip":"Do not use HASH to show more meaningful URLs, but it may cause the only path of the article to repeat (the consequence is that Vuepress will build a failure unless manual solution to the other problem), please know","main.force.refresh":"Force refresh","main.force.refresh.tip":"In order to prevent the wrongdoing aliases by mistake, the attribute will not be updated by default. If you need to update, please check for compulsory refresh.","main.desc":"Post desc","main.auto.fetch.desc":"Auto fetch desc","main.create.time":"Pub time","main.create.time.placeholder":"Please select time","main.tag":"Post tag","main.tag.new":"New tag","main.auto.fetch.tag":"Auto fetch tag","main.tag.auto.switch":"Tag switch","main.tag.auto.switch.no.tip":"Auto tag is closed","main.cat":"Category","main.cat.empty":"No Category","main.cat.select":"Please select category","main.yaml.formatter":"YAML Formatter","main.siyuan.to.yaml":"Siyuan attr to YAML","main.yaml.to.siyuan":"YAML to Siyuan attr","main.save.attr.to.siyuan":"Save attr to Siyuan","main.copy":"Copy","main.publish":"Publish","main.publish.loading":"Publishing...","main.loading":"Loading...","main.update":"Update","main.cancel":"Cancel","main.publish.oneclick.attr":"Click to attr","main.publish.oneclick.attr.finish":"Make attr finished","main.publish.status.unpublish":"Unpublish","main.publish.status.published":"Published","main.publish.to.vuepress":"Send to Vuepress","main.publish.to.hugo":"Send to Hugo","main.publish.to.hexo":"Send to Hexo","main.publish.to.jekyll":"Send to Jekyll","main.publish.to.jvue":"Send to JVue","main.publish.to.conf":"Send to Confluence","main.publish.to.cnblogs":"Send to Cnblogs","main.publish.to.liandi":"Send to Liandi","main.publish.to.yuque":"Send to Yuque","main.publish.to.kms":"Send to KMS","main.opt.success":"Success","main.opt.failure":"Error","main.opt.quick":"Quick","main.opt.status.publish":"Post published success","main.opt.status.cancel":"Post publishing has been canceled","main.opt.loading":"Loading...","main.opt.warning":"Warning","main.opt.ok":"Confirm","main.opt.cancel":"Cancel","main.opt.warning.tip":"The operation will delete the data, whether to continue?","setting.noneed":"No need setting","setting.blog.setting":" Setting","setting.blog.type":"Blog type","setting.blog.type.placeholder":"Please select type","setting.blog.type.wordpress.value":"Wordpress","setting.blog.type.wordpress.label":"Wordpress","setting.blog.type.metaweblog.value":"MetaweblogApi","setting.blog.type.metaweblog.label":"Metaweblog API","setting.blog.type.github.value":"Github","setting.blog.type.github.label":"Github","setting.blog.type.github.user":"Github user","setting.blog.type.github.user.tip":"Github user, eg:terwer","setting.blog.type.github.repo":"Github repo","setting.blog.type.github.repo.tip":"Github repo, eg:terwer.github.io","setting.blog.type.github.token":"Github token","setting.blog.type.github.token.tip":"Github token, eg:ghp_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX","setting.blog.type.github.token.gen":"Generate Github Personal Token","setting.blog.type.github.default.path":"Doc path","setting.blog.type.github.default.path.tip":"Doc path, eg:docs/_posts","setting.blog.type.github.msg":"Commit msg","setting.blog.type.github.msg.tip":"Commit msg, eg:auto published by sy-post-publisher","setting.blog.type.github.author":"Author","setting.blog.type.github.author.tip":"Author, eg:terwer","setting.blog.type.github.email":"Email","setting.blog.type.github.email.tip":"Email","setting.blog.url":"Blog addr","setting.blog.previewUrl":"Preview rule","setting.blog.previewUrl.tip":"Preview Rules (place occupied: [yyyy] [mm] [dd] [postid]), for example:/post/[postid].html or /[cats]/[yyyy]/[mm]/[dd]/[[dd]/[postid].html","setting.blog.previewMdUrl":"MD preview rule","setting.blog.previewMdUrl.tip":"MD file preview rules (place occupied: [user] [repo] [Branch] [docpath]), for example:/[user]/[repo]/blob/[branch]/[docpath]","setting.blog.mdFilenameRule":"File rule","setting.blog.mdFilenameRule.tip":"Markdown File Name Rules (Plasma: [yyyy] [MM] [dd] [slug] [filename]), for example: [filename].md or [yyyy]-[MM]-[dd]-[slug].md","setting.blog.username":"Username","setting.blog.password":"Password","setting.blog.apiurl":"API Url","setting.blog.pageType":"Page Type","setting.blog.validate":"Validate","setting.blog.save":"Save","setting.blog.vali":"Validate","setting.blog.vali.tip":"Please verify the configuration to ensure the availability of the API, and it will not be used without verification.","setting.blog.vali.tip.metaweblog":"Please verify the configuration to ensure the availability of the API, and it will not be used without verification.","setting.blog.vali.ing":"Validating...","setting.blog.vali.ok":"Available","setting.blog.vali.ok.metaweblog":"The configuration has been saved and verified","setting.blog.vali.error":"Validate error","setting.blog.platform.support.github":"Current github supported platform:","setting.blog.platform.support.metaweblog":"Current metaweblog supported platform:","setting.blog.cancel":"Cancel","setting.vuepress":"Vuepress","setting.hugo":"Hugo","setting.hexo":"Hexo","setting.jekyll":"Jekyll","setting.jvue":"JVue","setting.conf":"Confluence","setting.conf.tip":"Published to Confluence needs to cooperate with my other adapter project (strong recommendation), please refer to:https://github.com/terwer/node-metaweblog-api-adaptor","setting.cnblogs":"Cnblogs","setting.wordpress":"Wordpress","setting.liandi":"Liandi","setting.yuque":"Yuque","setting.kms":"KMS","setting.other1":"Other1","service.switch.vuepress":"Vuepress","service.switch.hugo":"Hugo","service.switch.hexo":"Hexo","service.switch.jekyll":"Jekyll","service.switch.jvue":"JVue","service.switch.conf":"Confluence","service.switch.cnblogs":"Cnblogs","service.switch.wordpress":"Wordpress","service.switch.yuque":"Yuque","service.switch.liandi":"Liandi","service.switch.wechat":"WeChat","service.switch.wemp":"WeMedia","service.switch.zhihu":"Zhihu","service.switch.kms":"LandrayKms","service.switch.must.select.one":"You must add at least one platform","post.bind.vuepress.slug":"Vuepress slug","post.bind.hugo.slug":"Hugo slug","post.bind.hexo.slug":"Hexo slug","post.bind.jekyll.slug":"Jekyll slug","post.bind.cnblogs.postid":"Cnblogs ID","post.bind.jvue.postid":"JVue ID","post.bind.conf.postid":"Conf ID","post.bind.wordpress.postid":"WP ID","post.bind.liandi.postid":"Liandi ID","post.bind.yuque.postid":"Yuque ID","post.bind.kms.postid":"KMS ID","post.bind.conf.save":"Save","post.bind.conf.cancel":"Cancel","form.validate.name.required":"Please input name","form.validate.name.length":"Length should be 0 to 1","form.validate.github.auto.delete":"Auto delete","dynamic.platform.new":"New platform","dynamic.platform.tip":"If the built -in release service cannot be satisfied or multiple instances need to be added, you can add supporting platforms here. Currently supporting Metaweblog API and WordPress API","dynamic.platform.type":"Platform type","dynamic.platform.subtype":"Platform subtype","dynamic.platform.type.metaweblog":"metaweblog API","dynamic.platform.type.wordpress":"Wordpress","dynamic.platform.type.custom":"Custom","dynamic.platform.key":"Platform key","dynamic.platform.key.tip":"The unique logo of the platform, cannot be repeated, for example: myblog","dynamic.platform.type.github":"Github","dynamic.platform.name":"Platform name","dynamic.platform.name.tip":"Platform name, for example: my blog","dynamic.platform.opt.add":"Submit","dynamic.platform.opt.noselect":"Please select platform type","dynamic.platform.opt.key.exist":"Platform key exists","dynamic.platform.opt.del.select":"Delete selected","dynamic.platform.opt.del.confirm":"Deleting this platform will completely remove the relevant configuration information of this platform. Do you continue?","dynamic.platform.opt.item.select":"Item no select","dynamic.platform.opt.item.select.tip":"The current selection is:","dynamic.platform.opt.item.no.select.tip":"Please select the line to be deleted","setting.common.home":"Home","setting.common.tip":"The platform homepage is used to preview articles, for example: https://terwork.space","setting.common.apiurl":"API","setting.common.token":"Token","setting.common.token.gen":"Token addr","setting.common.username":"Username","setting.common.username.gen":"Username setting","setting.common.password":"Password","setting.blog.platform.support.common":"Current platform\uFF1A","platform.must.select.one":"You must enable at least one platform","blog.list.toptip":"Reminder: Click the table line to enter the article details page. The details page has the release button! (\u3003'\u25BD'\u3003)","config.error.msg":"Network or config error, no data fetched","config.platform.none":"No available platform, please go to switch","post.delete.by.platform":"The article has been deleted by the platform by itself, please click to cancel the compulsory lifting connection","blog.top-data-tip":"Reminder: Please ensure that the Siyuan notes are started and opened the servo. The default servo address: http://127.0.0.0.1: 6806.0.0. Note: The modification will cover the value of the startup setting.","blog.top-data-tip.siyuan":"It is currently in the pendant mode. Starting from version 0.1.0, there is no need to reference the pendant on all pages. You only need to reference a pendant on the parent page. The specific rules are as follows: 1. If there are no subsidiaries, it will be compatible with the previous method of version 0.0.3 to display the release page of the current document. 2. If a subsidiary document is detected, all the subsidiaries will be displayed in a list and paging. You can choose a sub -document separately for release operations.","blog.newwin.open":"Open in a new window","blog.change.siyuan.api":"Modify Siyuan API address","setting.blog.siyuan.password":"Siyuan Note token, please copying from\u3010set up-> about \u3011","setting.blog.siyuan.apiurl":"The API address of Siyuan Note, including ports, for example: http://127.0.0.0.1: 6806","setting.blog.siyuan.current.apiurl":"Current apiUrl=>","setting.conf.export":"Export config","setting.conf.import":"Import config","setting.conf.clear":"Clear config","page.no.id":"pageId fetch error","main.read.mode":"Readonly","main.edit.mode":"Editable","main.read.mode.tip":"Readonly tips","main.opt.onclick.confirm.tip":"This operation will re -generate all attributes other than alias. If you just want to modify individual attributes, please click the individual function button to operate in the detailed mode. Do you continue?","main.cat.list.error":"Category list get error","main.yaml.no.save":"Have you edited YAML, do you synchronize to attributes, and cancel the loss of YAML modification?","setting.github.baseUrl":"Git repo index","setting.github.baseUrl.tip":"Git platform address is used for md file preview, the default is: https://github.com","preference.setting.fixTitle":"Fix title","preference.setting.removeH1":"Remove h1","preference.setting.newWin":"New win"},uu=Nt({legacy:!1,locale:"zh_CN",fallbackLocale:"en_US",messages:{zh_CN:eu,en_US:tu}});class su{constructor(t={}){self.hook=t.hook,self.callback=t.callback}"after:highlightElement"({el:t,text:e}){const u=Object.assign(document.createElement("button"),{innerHTML:"Copy",className:"hljs-copy-button"});u.dataset.copied=!1,t.parentElement.classList.add("hljs-copy-wrapper"),t.parentElement.appendChild(u),t.parentElement.style.setProperty("--hljs-theme-background",window.getComputedStyle(t).backgroundColor),u.onclick=function(){if(!navigator.clipboard)return;let o=e;hook&&typeof hook=="function"&&(o=hook(e,t)||e),navigator.clipboard.writeText(o).then(function(){u.innerHTML="\u590D\u5236\u6210\u529F",u.dataset.copied=!0;let i=Object.assign(document.createElement("div"),{role:"status",className:"hljs-copy-alert",innerHTML:"\u590D\u5236\u5230\u526A\u8D34\u677F"});t.parentElement.appendChild(i),setTimeout(()=>{u.innerHTML="Copy",u.dataset.copied=!1,t.parentElement.removeChild(i),i=null},2e3)}).then(function(){if(typeof callback=="function")return callback(o,t)})}}}function ou(s){if(typeof Lute>"u")return s;const t=Lute.New(),e={};return t.SetJSRenderers({renderers:{Md2HTML:e}}),t.MarkdownStr("",s)}function ze(s){return ou(s)}const iu=s=>{let t=s;const e=/([0-9]*)\./;return t=t.replace(e,""),t},Se=s=>{let t=s.toString();const e=/<iframe.*src="\/widgets\/publisher.*<\/iframe>/g;t=t.replace(e,"");const u=/<iframe.*src="\/widgets\/sy-post-publisher.*<\/iframe>/g;t=t.replace(u,"");const o=/<iframe.*\/widgets\/Note*\sAttrs.*\/iframe>/g;return t=t.replace(o,""),t},Wo=s=>{let t=s.toString();return t=Se(t),t},Qe=s=>{s=s.replace(/<style((.|\n|\r)*?)<\/style>/g,""),s=s.replace(/<script((.|\n|\r)*?)<\/script>/g,""),s=s.replace(/<[^>]*>/g,""),s=s.replace(/&.*;/g,""),s=s.replace(/(^\s*)|(\s*$)/g,""),s=s.replace(/</g,"").replace(/>/g,""),s=s.replace(/"/g,"").replace(/'/g,""),s=s.replace(/\*/g,""),s=s.replace(/\$/g,""),s=s.replace(/\./g,""),s=s.replace(/\+/g,""),s=s.replace(/\s+/g,""),s=s.replace(/[:|：]/g,"_"),s=s.replace(/[;|；]/g,"_"),s=s.replace(/\^/g,"_"),s=s.replace(/!/g,"_"),s=s.replace(/@/g,"at_");const t=["\\d*/\\d/\\d*","[\u3001|\\\\]","[\uFF0C|,]","\\d","/","-"];for(let e=0;e<t.length;e++){const u=new RegExp(t[e],"g");s=s.replaceAll(u,"")}return s=s.toLowerCase(),s},qo=(s,t,e)=>{const u=Qe(s);return u.length<t?u:e===!0?u.substring(0,t):u.substring(0,t)+"..."},au=s=>{const t=ze(s);return Se(t)},nu=s=>{let t=au(s);return Qe(t)},jo=s=>{let t=s;const e=/<h1.*\/h1>/g;return t=t.replace(e,""),t},Ko=s=>{let t=s;const e=/^# .*$/gm;return t=t.replace(e,""),t},ru=s=>(s=""+s,s.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")),Xo=(s,t,e)=>{const u=s;return u.length<t?u:e===!0?u.substring(0,t):u.substring(0,t)+"..."},lu=s=>s.substring(0,1).toUpperCase()+s.substring(1).toLowerCase(),v=(...s)=>s.join(""),$o=s=>(s.indexOf(".md")>-1&&(s=s.replace(/\.md/g,"")),s.indexOf(".")>-1&&(s=iu(s)),s),Ze=(s,t)=>{const e=H(s);return e.trim().length==0?t:e},H=s=>{let t="";try{({VITE_LOG_INFO_ENABLED:"false",VITE_SIYUAN_API_URL:"http://127.0.0.1:6806",VITE_SIYUAN_CONFIG_TOKEN:"",VITE_MIDDLEWARE_URL:"https://publish.terwer.space/api/middleware",BASE_URL:"/widgets/sy-post-publisher/",MODE:"production",DEV:!1,PROD:!0})[s]&&(t={VITE_LOG_INFO_ENABLED:"false",VITE_SIYUAN_API_URL:"http://127.0.0.1:6806",VITE_SIYUAN_CONFIG_TOKEN:"",VITE_MIDDLEWARE_URL:"https://publish.terwer.space/api/middleware",BASE_URL:"/widgets/sy-post-publisher/",MODE:"production",DEV:!1,PROD:!0}[s])}catch(e){throw new Error(e)}return t},cu=s=>{let t=!1;return H(s)&&(t=H(s).toLowerCase()==="true"),t},M={gray:s=>s.toString(),green:s=>s.toString(),yellow:s=>s.toString(),red:s=>s.toString()},gu={VITE_LOG_INFO_ENABLED:"false",VITE_SIYUAN_API_URL:"http://127.0.0.1:6806",VITE_SIYUAN_CONFIG_TOKEN:"",VITE_MIDDLEWARE_URL:"https://publish.terwer.space/api/middleware"}.TEST==="true",pu=!1;var je;const du=(je=cu("VITE_LOG_INFO_ENABLED"))!=null?je:!1,hu="DEBUG",et="INFO",tt="WARN",mu="ERROR",Eu="console";$e.reg(te);gu||pu?te.setLevel(hu):te.setLevel(du?et:tt);$e.apply(te,{format(s,t,e){const u=[];switch(u.push(M.gray("[")+M.green(e).toString()+M.gray("]")),s){case et:u.push(M.green(s.toUpperCase().toString()));break;case tt:u.push(M.yellow(s.toUpperCase().toString()));break;case mu:u.push(M.red(s.toUpperCase().toString()));break}return u.push(M.green(t).toString()),u.push(M.gray(":")),u.join(" ")}});const Fu=s=>te.getLogger(s!=null?s:Eu),b={getLogger:Fu},L=()=>typeof window<"u"&&typeof window.document<"u",ut=s=>{if(!L())return"";const e=window.location.search.substring(1).split("&");for(let u=0;u<e.length;u++){const o=e[u].split("=");if(o[0]===s)return o[1]}return""},bu=(s,t,e)=>{e==null&&(e="");const u=new RegExp("\\b("+t+"=).*?(&|#|$)");return s.search(u)>=0?s.replace(u,"$1"+e+"$2"):(s=s.replace(/[?#]$/,""),s+(s.indexOf("?")>0?"&":"?")+t+"="+e)},fu=(s,t,e)=>L()?s.includes(t)?bu(s,t,e):(s+=(s.match(/[?]/g)!=null?"&":"?")+t+"="+e,s):"",Te=()=>{setTimeout(function(){L()&&window.location.reload()},200)},Cu=async()=>await Jt({description:"JSON files",mimeTypes:["application/json"],extensions:[".json"],multiple:!0}),B=b.getLogger(),st=s=>{const t=localStorage.getItem(s);return t||""},me=s=>{const e=st(s).toLowerCase()==="true";return B.debug("\u4ECElocalStorage\u83B7\u53D6Boolean\u6570\u636E=>"),B.debug(e),e};function x(s){B.debug("------------------------------"),B.debug("\u5C1D\u8BD5\u4ECElocalStorage\u83B7\u53D6JSON\u6570\u636E\uFF0Ckey=>",s);let t={};const e=st(s);if(e!=="")try{t=JSON.parse(e)}catch(u){throw B.error("JSON\u683C\u5F0F\u4E0D\u6B63\u786E",u),u}return B.debug("\u4ECElocalStorage\u83B7\u53D6JSON\u6570\u636E=>",t),B.debug("------------------------------"),t}const ot=(s,t)=>{if(!t||t===""){B.warn("\u7A7A\u503C\uFF0C\u4E0D\u4FDD\u5B58");return}localStorage.setItem(s,t)},Jo=(s,t)=>{const e=t.toString();ot(s,e)},ge=(s,t)=>{B.debug("++++++++++++++++++++++++++++++"),B.debug("\u5C1D\u8BD5\u4FDD\u5B58JSON\u6570\u636E\u5230localStorage\u91CCkey=>",s),B.debug("\u4FDD\u5B58JSON\u6570\u636E\u5230localStorage=>",t);const e=JSON.stringify(t);ot(s,e),B.debug("++++++++++++++++++++++++++++++")},zo=s=>{let t=!1;for(let e=0;e<localStorage.length;e++){const u=localStorage.key(e);if(s===u){t=!0;break}}return t},yu=()=>{const s={};for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t),u=localStorage.getItem(e);s[e]=u}return s},wu=()=>{const s=yu(),t=JSON.stringify(s),e=new Blob([t],{type:"application/json"}),u=document.createElement("a");u.download="data.json",u.href=URL.createObjectURL(e),document.body.appendChild(u),u.click()},Au=async()=>{try{await Nu(),$.success("\u5BFC\u5165\u6210\u529F"),L()&&setTimeout(function(){Te()},500)}catch(s){s.toString().indexOf("AbortError")>-1?B.warn("\u60A8\u53D6\u6D88\u4E86\u5BFC\u5165=>",s):(B.error("\u914D\u7F6E\u6587\u4EF6\u89E3\u6790\u9519\u8BEF=>",s),$.error(v("\u914D\u7F6E\u6587\u4EF6\u89E3\u6790\u9519\u8BEF=>",s)))}},Du=()=>{localStorage.clear(),localStorage.length===0?console.log("LocalStorage is empty"):console.log("LocalStorage is not empty")},Bu="siyuan-cfg",_u=!1,it={SIYUAN_CFG_KEY:Bu,DEBUG_SIYUAN_SUBDOC:_u},Pu=10,Su=255,Tu="dynamic-config",vu="publish-preference",Iu=5,se={MAX_TITLE_LENGTH:Pu,MAX_PREVIEW_LENGTH:Su,DYNAMIC_CONFIG_KEY:Tu,DEFAULT_JIEBA_WORD_LENGTH:Iu,PUBLISH_PREFERENCE_CONFIG_KEY:vu},ue=b.getLogger(),Qo=async s=>{let u=(await(await fetch("https://api.terwer.space/api/translate?q="+s)).json())[0][0];return u=u.replaceAll(/-/g,""),u=u.replaceAll(/\./g,""),u=u.replaceAll(/~/g,""),u=Je(u),u=u.replaceAll(/@/g,""),u},Zo=s=>Je(s),ei=async s=>{s=nu(s),ue.debug("\u51C6\u5907\u5F00\u59CB\u5206\u8BCD\uFF0C\u539F\u6587=>",s);const e=await(await fetch("https://api.terwer.space/api/jieba?q="+s)).json();return ue.debug("\u5206\u8BCD\u5B8C\u6BD5\uFF0C\u7ED3\u679C=>",e.result),e.result};function He(s,t){const e=["\u9875\u9762"];ue.debug("\u6587\u672C\u6E05\u6D17\uFF0C\u7EDF\u8BA1\uFF0C\u6392\u5E8F\uFF0C\u53BB\u9664\u65E0\u610F\u4E49\u7684\u5355\u8BCDunUseWords=>",e);const u=s.reduce(function(i,a){return a.length===1||e.includes(a)?(i[a]=0,i):(i[a]=i.hasOwnProperty(a)?parseInt(i[a])+1:1,i)},{}),o=Object.keys(u).sort(function(i,a){return u[a]-u[i]});return ue.debug("\u6587\u672C\u6E05\u6D17\u7ED3\u675Fwordarr=>",o),!t||t===0?o:o.slice(0,t)}function ti(s,t){let e;const u=se.DEFAULT_JIEBA_WORD_LENGTH;return t?e=He(s,t):e=He(s,u),ue.debug("jiebaToHotWords=>",e),e}const ve=s=>s?Object.getPrototypeOf(s)===Object.prototype&&Object.getOwnPropertyNames(s).length===0&&Object.getOwnPropertySymbols(s).length===0:!0,w=s=>!s||typeof s!="string"?!0:s.trim().length===0,Y=(s,t)=>{let e=s;const u=s.lastIndexOf("/");return u+1===s.length&&(e=s.substring(0,u)),t.indexOf("/")>0?e=e+"/"+t:e=e+t,e},U=s=>(s||(s="false"),s.toString().toLowerCase()==="true");class at{constructor(t,e,u){r(this,"baseUrl");r(this,"token");r(this,"middlewareUrl");this.baseUrl=t,this.token=e,this.middlewareUrl=u}}const nt=()=>{let s=H("VITE_SIYUAN_API_URL"),t=H("VITE_SIYUAN_CONFIG_TOKEN"),e=H("VITE_MIDDLEWARE_URL");const u=x(it.SIYUAN_CFG_KEY);return w(u.baseUrl)||(s=u.baseUrl),w(u.token)||(t=u.token),w(u.middlewareUrl)?e="/api/middleware":e=u.middlewareUrl,new at(s,t,e)};class rt{constructor(){r(this,"logger",b.getLogger("utils/platform/siyuan/siYuanApi.ts"))}async getRootBlocksCount(t){const e=`SELECT COUNT(DISTINCT b1.root_id) as count
        FROM blocks b1
        WHERE 1 = 1
        AND ((b1.content LIKE '%${t}%') OR (b1.tag LIKE '%${t}%')
    )`,u=await this.sql(e);return this.logger.debug("getRootBlocksCount data=>",u[0].count),u[0].count}async getRootBlocks(t,e,u){const o=`select DISTINCT b2.root_id,b2.parent_id,b2.content from blocks b2 
        WHERE 1==1
        AND b2.id IN (
             SELECT DISTINCT b1.root_id
                FROM blocks b1
                WHERE 1 = 1
                AND ((b1.content LIKE '%${u}%') OR (b1.tag LIKE '%${u}%'))
                ORDER BY b1.updated DESC,b1.created DESC LIMIT ${t*e},${e}
        )
        ORDER BY b2.updated DESC,b2.created DESC`;return await this.sql(o)}async getSubdocCount(t){const e=`SELECT COUNT(DISTINCT b1.root_id) AS count
        FROM blocks b1
        WHERE b1.path LIKE '%/${t}%'`;return(await this.sql(e))[0].count}async getSubdocs(t,e,u,o){const i=`SELECT DISTINCT b2.root_id,b2.content,b2.path FROM blocks b2
        WHERE b2.id IN (
          SELECT DISTINCT b1.root_id
             FROM blocks b1
             WHERE b1.path like '%/${t}%'
             AND ((b1.content LIKE '%${o}%') OR (b1.tag LIKE '%${o}%'))
             ORDER BY b1.updated DESC,b1.created DESC LIMIT ${e*u},${u}
        )
        ORDER BY b2.content,b2.updated DESC,b2.created DESC,id`;return this.logger.debug("siyuanApi getSubdocs sql=>",i),await this.sql(i)}async getBlockByID(t){const e=`select *
                from blocks
                where id = '${t}'`,u=await this.sql(e);if(!u||u.length===0)throw new Error("\u901A\u8FC7ID\u67E5\u8BE2\u5757\u4FE1\u606F\u5931\u8D25");return u[0]}async getBlockBySlug(t){const e=`select root_id from attributes 
               where name='custom-slug' and value='${t}' 
               limit 1`;return(await this.sql(e))[0]}async exportMdContent(t){const e={id:t},u="/api/export/exportMdContent";return await this.siyuanRequest(u,e)}async getBlockAttrs(t){const e={id:t},u="/api/attr/getBlockAttrs";return await this.siyuanRequest(u,e)}async setBlockAttrs(t,e){const u="/api/attr/setBlockAttrs";return await this.siyuanRequest(u,{id:t,attrs:e})}async getDoc(t){const e={id:t,k:"",mode:2,size:36},u="/api/filetree/getDoc";return await this.siyuanRequest(u,e)}async sql(t){const e={stmt:t},u="/api/query/sql";return await this.siyuanRequest(u,e)}async siyuanRequest(t,e,u,o){const i=nt();i.baseUrl!==""&&(t=v(i.baseUrl,t));let a="POST";u!=null&&(a=u);const n={body:JSON.stringify(e),method:a};o&&Object.assign(n,{headers:{Authorization:`Token ${i.token}`}}),this.logger.debug("\u5F00\u59CB\u5411\u601D\u6E90\u8BF7\u6C42\u6570\u636E\uFF0Curl=>",t),this.logger.debug("\u5F00\u59CB\u5411\u601D\u6E90\u8BF7\u6C42\u6570\u636E\uFF0CfetchOps=>",n);const c=await(await fetch(t,n)).json();if(this.logger.debug("\u601D\u6E90\u8BF7\u6C42\u6570\u636E\u8FD4\u56DE\uFF0CresJson=>",c),c.code===-1)throw new Error(c.msg);return c.code===0?c.data:null}}const ee=b.getLogger("utils/platform/siyuan/siyuanUtil.ts"),W=()=>{if(window.frameElement==null||window.frameElement.parentElement==null||window.frameElement.parentElement.parentElement==null)return{isInSiyuan:!1,widgetId:""};const s=window.frameElement.parentElement.parentElement;if(!s)return{isInSiyuan:!1,widgetId:""};const t=s.getAttribute("data-node-id");return t?{isInSiyuan:!0,widgetId:t}:{isInSiyuan:!1,widgetId:""}},ye=()=>W().isInSiyuan,ku=async s=>{const t=W();if(!t.isInSiyuan)return;const e=t.widgetId;ee.debug("\u83B7\u53D6\u6302\u4EF6\u7684widgetId=>",e);const u=x(e);if(!s&&u)return ee.debug("\u83B7\u53D6\u672C\u5730\u7F13\u5B58\u7684\u601D\u6E90\u7B14\u8BB0\u9875\u9762\u4FE1\u606F\uFF08\u4E0D\u662F\u5B9E\u65F6\u7684\uFF09=>",u),u;const i=await new rt().getBlockByID(e);return i&&(ge(e,i),ee.debug("\u8C03\u7528API\u8BBE\u7F6E\u67E5\u8BE2\u601D\u6E90\u9875\u9762\u4FE1\u606F\u5E76\u66F4\u65B0\u672C\u5730\u7F13\u5B58",i)),i},Ou=async s=>{const t=await ku(s);if(!t)return;const e=t.root_id;return ee.debug("\u83B7\u53D6\u601D\u6E90\u7B14\u8BB0\u9875\u9762ID=>",e),e},ui=async(s,t)=>{let e;if(t&&(ee.debug("\u663E\u793A\u6307\u5B9ApageId=>",t),e=t),e||W().isInSiyuan&&(e=await Ou(s)),!e){if(L()){const u=ut("id");u!==""&&(e=u)}if(!e){const u=H("VITE_SIYUAN_DEV_PAGE_ID");u&&(e=u)}}return e};function Uu(){return typeof InstallTrigger<"u"}const We=b.getLogger();function lt(s,t){let e=s;if(e.startsWith("http")||e.startsWith("https"))return We.info("\u5F53\u524D\u662F\u5916\u90E8\u94FE\u63A5\uFF0C\u76F4\u63A5\u8DF3\u8F6C"),e;if(typeof chrome.runtime<"u")e=chrome.runtime.getURL(e);else{const u=ut("from");(ye()||u==="siyuan")&&(e="/widgets/sy-post-publisher"+e,e=fu(e,"from","siyuan"));let o=window.location.protocol+"//"+window.location.host;t&&t!==""&&(o=window.location.protocol+"//"+window.location.host+t),e=Y(o,e)}return We.warn("\u5C06\u8981\u6253\u5F00\u9875\u9762=>",e),e}function ct(s){const t=lt(s,"");window.open(t)}function Lu(s,t,e){const u=lt(s,e);t==="_self"?window.location.href=u:window.open(u)}function _(){return!L()||Uu()?!1:!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime)}async function gt(s){return await new Promise(t=>{chrome.runtime.sendMessage(s,t)})}const Nu=async()=>{const s=await Cu(),t=new FileReader;t.addEventListener("load",()=>{const e=JSON.parse(t.result);console.log("\u51C6\u5907\u5BFC\u5165\u914D\u7F6E\uFF0C\u8BFB\u53D6\u5230\u7684\u914D\u7F6E\u6570\u636E\u4E3A=>",e);for(const[u,o]of Object.entries(e))localStorage.setItem(u,o)}),t.readAsText(s[0])},pt={};pt.install=s=>{A.registerLanguage("javascript",xe),A.registerLanguage("js",xe),A.registerLanguage("typescript",Me),A.registerLanguage("ts",Me),A.registerLanguage("c",qt),A.registerLanguage("cpp",jt),A.registerLanguage("java",he),A.registerLanguage("csharp",he),A.registerLanguage("cs",he),A.registerLanguage("bash",Ye),A.registerLanguage("shell",Ye),A.registerLanguage("xml",Ve),A.registerLanguage("html",Ve),A.registerLanguage("css",Kt),A.registerLanguage("plaintext",Xt),A.addPlugin(new su({callback:(t,e)=>console.log("Copied to clipboard",t)})),s.directive("highlight",t=>{const e=t.querySelectorAll("pre code");Array.prototype.forEach.call(e,A.highlightBlock),t.querySelectorAll("code-group").forEach(n=>{var l;if(n.getElementsByTagName("ul").length===0){const c=document.createElement("ul");c.setAttribute("class","code-tab");const g=n.querySelectorAll("code-block");g.forEach(d=>{var ae,ne;const f=(ae=d.attributes.getNamedItem("title"))==null?void 0:ae.value,pe=((ne=d.attributes.getNamedItem("active"))==null?void 0:ne.value)!==void 0,j=document.createElement("li");j.setAttribute("class",pe?"code-tab-item current":"code-tab-item"),j.innerHTML=f||"",j.addEventListener("click",function(de){const Q=de.target;Q.parentElement.querySelectorAll("li").forEach(G=>{G.setAttribute("class","code-tab-item")}),Q.setAttribute("class","code-tab-item current"),g.forEach(G=>{var F;((F=G.attributes.getNamedItem("title"))==null?void 0:F.value)===Q.innerHTML?G.setAttribute("active",""):G.removeAttribute("active")})}),c.append(j)});const p=g[0];(l=p==null?void 0:p.parentNode)==null||l.insertBefore(c,p)}}),t.querySelectorAll("div.language-plantuml").forEach(n=>{var f;const l=ru(n.innerHTML),c=$t.encode(l),p=({VITE_LOG_INFO_ENABLED:"false",VITE_SIYUAN_API_URL:"http://127.0.0.1:6806",VITE_SIYUAN_CONFIG_TOKEN:"",VITE_MIDDLEWARE_URL:"https://publish.terwer.space/api/middleware"}.PLANT_UML_SERVR||"https://www.plantuml.com/plantuml/svg/")+c,d=document.createElement("img");d.setAttribute("src",p),(f=n==null?void 0:n.parentNode)==null||f.insertBefore(d,n),n.remove()}),t.querySelectorAll("span.language-math").forEach(n=>{if(_()){let l=n.innerHTML;l=l.replace(/，/g,","),l=l.replace(/。/g,"."),l=l.replace(/并且/g,"AND"),l=l.replace(/或者/g,"OR"),l=encodeURIComponent(l);const c='<img src="https://latex.codecogs.com/svg.image?'+l+'" />';n.innerHTML=c}else{const l="$"+n.innerHTML+"$";n.innerHTML=l}}),t.querySelectorAll("div.language-math").forEach(n=>{if(_()){let l=n.innerHTML;l=l.replace(/，/g,","),l=l.replace(/。/g,"."),l=l.replace(/并且/g,"AND"),l=l.replace(/或者/g,"OR"),l=encodeURIComponent(l);const c='<img src="https://latex.codecogs.com/svg.image?'+l+'" />';n.innerHTML=c}else{const l="$$"+n.innerHTML+"$$";n.innerHTML=l}}),_()||MathJax.typeset()})};const Ru=b.getLogger("plugins/page-beauty/page-beauty.ts"),xu={install(s){s.directive("beauty",t=>{Ru.info("PageBeauty is rendering ..."),t.querySelectorAll("a").forEach(u=>{u.addEventListener("click",function(o){o.preventDefault();const i=u.getAttribute("href");w(i)||ct(i)})})})}},Mu=s=>{const t=wt({render:()=>At(s)}),e=Lt();return t.use(e),t.use(uu),t.use(pt),t.use(xu),t.directive("focus",{mounted(u){u.focus()}}),t},si={createPage:Mu};const Ie=(s,t)=>{const e=s.__vccOpts||s;for(const[u,o]of t)e[u]=o;return e},Yu={},Vu={class:"header-default"},Gu={class:"header-title-default"};function Hu(s,t){const e=Xe,u=Rt;return T(),I("div",Vu,[E(u,null,{default:C(()=>[D("h1",Gu,[E(e,{class:"header-title-btn disabled-click"},{default:C(()=>[be(" \u601D\u6E90\u7B14\u8BB0\u53D1\u5E03\u5DE5\u5177 ")]),_:1})])]),_:1})])}const Wu=Ie(Yu,[["render",Hu],["__scopeId","data-v-f818a539"]]),qu="0.3.0",ju="vuepress",Ku="hugo",Xu="hexo",$u="jekyll",Ju="jvue",zu="confluence",Qu="cnblogs",Zu="wordpress",es="liandi",ts="yuque",us="kms",ss="wechat",os="siyuan",m={API_TYPE_VUEPRESS:ju,API_TYPE_HUGO:Ku,API_TYPE_HEXO:Xu,API_TYPE_JEKYLL:$u,API_TYPE_CNBLOGS:Qu,API_TYPE_WORDPRESS:Zu,API_TYPE_CONFLUENCE:zu,API_TYPE_JVUE:Ju,API_TYPE_YUQUE:ts,API_TYPE_WECHAT:ss,API_TYPE_LIANDI:es,API_TYPE_SIYUAN:os,API_TYPE_KMS:us};function is(){const s=new Date().toISOString();return zt(s).toLowerCase()}class oi{constructor(t,e,u){r(this,"posid");r(this,"modelValue");r(this,"platformType");r(this,"subPlatformType");r(this,"platformKey");r(this,"platformName");this.platformType=t,this.platformKey=e,this.platformName=u}}var le=(s=>(s.Metaweblog="Metaweblog",s.Wordpress="Wordpress",s.Github="Github",s.Custom="Custom",s))(le||{}),dt=(s=>(s.Github_Hugo="Hugo",s.Github_Hexo="Hexo",s.Github_Jekyll="Jekyll",s.Github_Vuepress="Vuepress",s.Github_Vitepress="Vitepress",s.Github_Nuxt="Nuxt",s.Github_Next="Next",s.NONE="none",s))(dt||{});function ii(s){const t=[];switch(s){case"Github":t.push("Hugo"),t.push("Hexo"),t.push("Jekyll"),t.push("Vuepress"),t.push("Vitepress"),t.push("Nuxt"),t.push("Next");break}return t}function as(){return x(se.DYNAMIC_CONFIG_KEY)}function ai(s){const t=s,e=[],u=[],o=[];t.forEach(a=>{switch(a.platformType){case"Github":e.push(a);break;case"Metaweblog":u.push(a);break;case"Wordpress":o.push(a);break}});const i={totalCfg:t,githubCfg:e,metaweblogCfg:u,wordpressCfg:o};ge(se.DYNAMIC_CONFIG_KEY,i)}function ni(s,t){let e;const u=is();return e=s.toLowerCase(),!w(t)&&t!=="none"&&(e=v(e,lu(t))),v(e,"-",u)}function ri(s,t){let e=!1;for(let u=0;u<s.length;u++)if(s[u].platformKey===t){e=!0;break}return e}function li(s,t,e){if(s==="Github"&&t==="none")return"";let u=s;return e&&(u=t),u=u+"-1",u}function ce(s){return"switch-"+s}function ci(s){return s+"_true"}function gi(s){return s+"_false"}function pi(s){return s.switchKey+"_"+s.switchValue.toString()}function di(s){const t=s.split("_"),e=ce(t[0]),u=t[1]==="true";return{switchKey:e,switchValue:u}}function hi(s){return"custom-"+s+"-post-id"}class ns{constructor(){r(this,"editMode");r(this,"contentShowType");r(this,"fixTitle");r(this,"useGoogleTranslate");r(this,"removeH1");r(this,"autoTag");r(this,"renderSiyuanVirtualLink");r(this,"makeAttrOnFirstLoad");r(this,"newWin")}}var ht=(s=>(s[s.EditMode_simple=0]="EditMode_simple",s[s.EditMode_complex=1]="EditMode_complex",s[s.EditMode_source=2]="EditMode_source",s))(ht||{}),mt=(s=>(s[s.YAML=0]="YAML",s[s.CONTENT=1]="CONTENT",s[s.YAML_CONTENT=2]="YAML_CONTENT",s[s.HTML_CONTENT=3]="HTML_CONTENT",s))(mt||{});const S=b.getLogger("utils/publishUtil.ts");function Ee(s){return x(s)}const mi=(s,t)=>{const e=[m.API_TYPE_VUEPRESS,m.API_TYPE_HUGO,m.API_TYPE_HEXO,m.API_TYPE_JEKYLL],u=[m.API_TYPE_JVUE,m.API_TYPE_CONFLUENCE,m.API_TYPE_CNBLOGS,m.API_TYPE_WORDPRESS],o=[m.API_TYPE_LIANDI,m.API_TYPE_YUQUE,m.API_TYPE_KMS],i=as(),a=i.githubCfg||[],n=i.metaweblogCfg||[],l=i.wordpressCfg||[];if(a.forEach(c=>{const g=c.platformKey,p=ce(c.platformKey);me(p)&&e.push(g)}),n.forEach(c=>{const g=c.platformKey,p=ce(c.platformKey);me(p)&&u.push(g)}),l.forEach(c=>{const g=c.platformKey,p=ce(c.platformKey);me(p)&&u.push(g)}),e.includes(s)){const c=Ee(s).posidKey,g=t[c]||"";return S.debug("\u5E73\u53F0=>",s),S.debug("meta=>",t),S.debug("postidKey=>",c),S.debug("postidKey\u7684\u503C=>",g),g!==""}else if(u.includes(s)){const c=Ee(s).posidKey,g=t[c]||"";return S.debug("\u5E73\u53F0=>",s),S.debug("meta=>",t),S.debug("postidKey=>",c),S.debug("postidKey\u7684\u503C=>",g),g!==""}else if(o.includes(s)){const c=Ee(s).posidKey,g=t[c!=null?c:""]||"";return S.debug("\u5E73\u53F0=>",s),S.debug("meta=>",t),S.debug("postidKey=>",c),S.debug("postidKey\u7684\u503C=>",g),g!==""}return!1},we=()=>{let s=x(se.PUBLISH_PREFERENCE_CONFIG_KEY);return ve(s)?(s=new ns,s.fixTitle=!1,s.useGoogleTranslate=!0,s.editMode=ht.EditMode_simple,s.contentShowType=mt.YAML_CONTENT,s.removeH1=!1,s.autoTag=!1,s.renderSiyuanVirtualLink=!0,s.makeAttrOnFirstLoad=!1,s.newWin=!0):(s.fixTitle=U(s.fixTitle),s.removeH1=U(s.removeH1),s.newWin=U(s.newWin)),s},rs={class:"locale-changer"},ls=z({__name:"ChangeLocal",setup(s){const{locale:t}=De(),e=[{value:"zh_CN",label:"\u7B80\u4F53\u4E2D\u6587"},{value:"en_US",label:"English"}],u=o=>{localStorage.Lang=o,t.value=o};return Ae(()=>{localStorage.Lang!=null&&(t.value=localStorage.Lang)}),(o,i)=>{const a=xt,n=Mt,l=Be,c=_e;return T(),I("div",rs,[E(c,{"label-width":"100px"},{default:C(()=>[E(l,{label:o.$t("lang.choose")},{default:C(()=>[E(n,{modelValue:o.$i18n.locale,"onUpdate:modelValue":i[0]||(i[0]=g=>o.$i18n.locale=g),placeholder:o.$t("lang.choose.placeholder"),onChange:u},{default:C(()=>[(T(),I(Dt,null,Bt(e,(g,p)=>E(a,{key:p,label:g.label,value:g.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})])}}}),cs={class:"preference-setting"},gs=z({__name:"PreferenceSetting",props:{isReload:{type:Boolean,default:!1}},setup(s){const t=s,e=b.getLogger("components/publish/tab/preference/PreferenceSetting.vue"),u=fe({fixTitle:!1,removeH1:!1,newWin:!0}),o={onTitleChange:n=>{e.debug("onTitleChange=>",n),u.fixTitle=n,i()},onH1Change:n=>{e.debug("onH1Change=>",n),u.removeH1=n,i()},onNewWinChange:n=>{e.debug("onNewWinChange=>",n),u.newWin=n,i()}},i=()=>{const n=we();n.fixTitle=U(u.fixTitle),n.removeH1=U(u.removeH1),n.newWin=U(u.newWin),ge(se.PUBLISH_PREFERENCE_CONFIG_KEY,n),e.debug("\u504F\u597D\u8BBE\u7F6E\u5DF2\u4FDD\u5B58"),L()&&setTimeout(function(){Te()},500)},a=()=>{const n=we();u.fixTitle=U(n.fixTitle),u.removeH1=U(n.removeH1),u.newWin=U(n.newWin)};return Ae(()=>{a()}),_t(()=>t.isReload,async()=>{a(),e.debug("preference-setting\u5237\u65B0")}),(n,l)=>{const c=Yt,g=Be,p=_e;return T(),I("div",cs,[E(p,{"label-width":"100px"},{default:C(()=>[E(g,{label:n.$t("preference.setting.fixTitle")},{default:C(()=>[E(c,{modelValue:u.fixTitle,"onUpdate:modelValue":l[0]||(l[0]=d=>u.fixTitle=d),onChange:o.onTitleChange},null,8,["modelValue","onChange"])]),_:1},8,["label"]),E(g,{label:n.$t("preference.setting.removeH1")},{default:C(()=>[E(c,{modelValue:u.removeH1,"onUpdate:modelValue":l[1]||(l[1]=d=>u.removeH1=d),onChange:o.onH1Change},null,8,["modelValue","onChange"])]),_:1},8,["label"]),E(g,{label:n.$t("preference.setting.newWin")},{default:C(()=>[E(c,{modelValue:u.newWin,"onUpdate:modelValue":l[2]||(l[2]=d=>u.newWin=d),onChange:o.onNewWinChange},null,8,["modelValue","onChange"])]),_:1},8,["label"])]),_:1})])}}}),ps={class:"general-setting"},ds=z({__name:"GeneralSetting",props:{isReload:{type:Boolean,default:!1}},setup(s){const t=s;return(e,u)=>(T(),I("div",ps,[E(ls),E(gs,{"is-reload":t.isReload},null,8,["is-reload"])]))}}),oe=s=>(Tt("data-v-2112a252"),s=s(),vt(),s),hs={class:"footer"},ms=oe(()=>D("span",{class:"text"}," \xA92011-2022 ",-1)),Es={class:"text"},Fs={key:0,class:"text"},bs=oe(()=>D("span",{class:"text"},".",-1)),fs=oe(()=>D("span",{class:"text"},".",-1)),Cs=oe(()=>D("span",{class:"text"},".",-1)),ys={key:2,class:"text"},ws=oe(()=>D("span",{class:"text"},".",-1)),As={class:"dialog-footer"},Ds=z({__name:"DefaultFooter",setup(s){const t=b.getLogger("layouts/default/DefaultFooter"),{t:e}=De(),u=Pt(),o=St(u),i=X(!1),a=X("0.0.3"),n=X(!0),l="140px",c=X(!1),g=X(),p=fe({apiUrl:"http://127.0.0.1:6806",pwd:"",middlewareUrl:""}),d=fe({apiUrl:[{required:!0,message:()=>e("form.validate.name.required")}],pwd:[{required:!1,message:()=>e("form.validate.name.required")}]}),f=X(!1),N=()=>{window.open("https://github.com/terwer/src-sy-post-publisher")},pe=()=>{f.value=!0},j=()=>{ct("/blog/index.html")},ae=()=>{wu()},ne=async()=>{await Au()},de=()=>{Gt.confirm(e("main.opt.warning.tip"),e("main.opt.warning"),{confirmButtonText:e("main.opt.ok"),cancelButtonText:e("main.opt.cancel"),type:"warning"}).then(async()=>{Du(),Te(),$.success(e("main.opt.success"))}).catch(()=>{})},Q=()=>{c.value=!0},Le=async F=>{if(!(!F||!await F.validate((k,K)=>{k?t.debug("\u6821\u9A8C\u6210\u529F"):(t.error(e("main.opt.failure"),K),$.error(e("main.opt.failure")))})))try{const k=new at(p.apiUrl,p.pwd,p.middlewareUrl);ge(it.SIYUAN_CFG_KEY,k),t.debug("\u4FDD\u5B58\u601D\u6E90\u914D\u7F6E",k),$.success(e("main.opt.success")),setTimeout(function(){c.value=!1,Lu("/blog/index.html","_self","")},500)}catch(k){c.value=!1,$.error(e("main.opt.failure")),t.error(e("main.opt.failure"),k)}},G=()=>{i.value=ye(),a.value=qu;const F=we();n.value=U(F.newWin);const h=nt();p.apiUrl=h.baseUrl,p.pwd=h.token,p.middlewareUrl=h.middlewareUrl,t.debug("\u521D\u59CB\u5316\u601D\u6E90\u914D\u7F6E",h)};return Ae(()=>{ye()?t.info("\u606D\u559C\u4F60\uFF0C\u6B63\u5728\u4EE5\u6302\u4EF6\u6A21\u5F0F\u8FD0\u884C"):t.info("\u6B63\u5728\u4EE5\u975E\u6302\u4EF6\u6A21\u5F0F\u8FD0\u884C\uFF0C\u90E8\u5206\u529F\u80FD\u5C06\u901A\u8FC7\u8BF7\u6C42\u4EE3\u7406\u7684\u65B9\u5F0F\u8FDB\u884C\u6A21\u62DF\uFF0C\u8BF7\u77E5\u6089"),G(),L()&&document.body.clientWidth>660&&(document.getElementById("app").style.minHeight="100%")}),(F,h)=>{const k=Ht,K=Be,bt=Wt,ft=_e,Ne=Xe,Re=Vt;return T(),I("div",null,[D("div",hs,[D("div",null,[ms,D("span",{class:"s-dark",onClick:h[0]||(h[0]=y=>N())}," sy-post-publisher "),D("span",Es," v"+O(a.value)+" . ",1),D("span",{class:"text s-dark",onClick:h[1]||(h[1]=y=>Ce(o)())},O(Ce(u)?F.$t("theme.mode.light"):F.$t("theme.mode.dark")),1),i.value?re("",!0):(T(),I("span",Fs,".")),i.value?re("",!0):(T(),I("span",{key:1,class:"text s-dark",onClick:h[2]||(h[2]=y=>Q())},O(F.$t("blog.change.siyuan.api")),1)),bs,D("span",{class:"text s-dark",onClick:h[3]||(h[3]=y=>ae())},O(F.$t("setting.conf.export")),1),fs,D("span",{class:"text s-dark",onClick:h[4]||(h[4]=y=>ne())},O(F.$t("setting.conf.import")),1),Cs,D("span",{class:"text s-dark",onClick:h[5]||(h[5]=y=>de())},O(F.$t("setting.conf.clear")),1),n.value?(T(),I("span",ys,".")):re("",!0),n.value?(T(),I("span",{key:3,class:"text s-dark",onClick:h[6]||(h[6]=y=>j())},O(F.$t("blog.newwin.open")),1)):re("",!0),ws,D("span",{class:"text s-dark",onClick:h[7]||(h[7]=y=>pe())},O(F.$t("service.tab.change.local")),1),E(Re,{modelValue:c.value,"onUpdate:modelValue":h[13]||(h[13]=y=>c.value=y),title:F.$t("blog.change.siyuan.api")},{footer:C(()=>[D("span",As,[E(Ne,{onClick:h[11]||(h[11]=y=>c.value=!1)},{default:C(()=>[be(O(F.$t("main.opt.cancel")),1)]),_:1}),E(Ne,{type:"primary",onClick:h[12]||(h[12]=y=>Le(g.value))},{default:C(()=>[be(O(F.$t("main.opt.ok")),1)]),_:1})])]),default:C(()=>[E(ft,{ref_key:"siyuanApiSettingFormRef",ref:g,model:p,rules:d},{default:C(()=>[E(K,{label:F.$t("setting.blog.apiurl"),"label-width":l,prop:"apiUrl"},{default:C(()=>[E(k,{modelValue:p.apiUrl,"onUpdate:modelValue":h[8]||(h[8]=y=>p.apiUrl=y),autocomplete:"off",placeholder:F.$t("setting.blog.siyuan.apiurl")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),E(K,{label:F.$t("setting.blog.password"),"label-width":l,prop:"pwd"},{default:C(()=>[E(k,{modelValue:p.pwd,"onUpdate:modelValue":h[9]||(h[9]=y=>p.pwd=y),type:"password",autocomplete:"off",placeholder:F.$t("setting.blog.siyuan.password"),"show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),E(K,{label:F.$t("setting.blog.middlewareUrl"),"label-width":l,prop:"middlewareUrl"},{default:C(()=>[E(k,{modelValue:p.middlewareUrl,"onUpdate:modelValue":h[10]||(h[10]=y=>p.middlewareUrl=y),autocomplete:"off",placeholder:F.$t("setting.blog.middlewareUrl.tip")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),E(K,null,{default:C(()=>[E(bt,{class:"top-data-tip middleware-tip",title:F.$t("setting.blog.middlewareUrl.my.tip"),type:"success",closable:!1},null,8,["title"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),E(Re,{modelValue:f.value,"onUpdate:modelValue":h[14]||(h[14]=y=>f.value=y)},{default:C(()=>[E(ds)]),_:1},8,["modelValue"])])])])}}});const Bs=Ie(Ds,[["__scopeId","data-v-2112a252"]]),_s={id:"app-layout-default"},Ps={class:"default-main"},Ss=z({__name:"AppLayoutDefault",setup(s){return(t,e)=>(T(),I("div",_s,[E(Wu),D("div",Ps,[Ke(t.$slots,"default",{},void 0,!0)]),E(Bs)]))}});const Ts=Ie(Ss,[["__scopeId","data-v-daa4119e"]]),Ei=z({__name:"AppLayout",setup(s){const t=It(Ts);return(e,u)=>(T(),kt(Ot(Ce(t)),null,{default:C(()=>[Ke(e.$slots,"default")]),_:3}))}}),vs="publish",Is="draft",ks="inherit",R={POST_STATUS_PUBLISH:vs,POST_TYPE_DRAFT:Is,POST_TYPE_INHERIT:ks};class V{constructor(){r(this,"postid");r(this,"title");r(this,"mt_keywords");r(this,"link");r(this,"permalink");r(this,"shortDesc");r(this,"description");r(this,"mt_excerpt");r(this,"wp_slug");r(this,"dateCreated");r(this,"categories");r(this,"cate_slugs");r(this,"mt_text_more");r(this,"post_status");r(this,"wp_password");this.postid="",this.title="",this.mt_keywords="",this.permalink="",this.description="",this.wp_slug="",this.dateCreated=new Date,this.categories=[],this.cate_slugs=[],this.post_status=R.POST_STATUS_PUBLISH,this.wp_password=""}}class q{constructor(){r(this,"blogid");r(this,"url");r(this,"blogName");r(this,"isAdmin");r(this,"xmlrpc");this.blogid="",this.url="",this.blogName=""}}class Os{constructor(){r(this,"logger",b.getLogger("utils/platform/siyuan/siYuanApiAdaptor.ts"));r(this,"siyuanApi");this.siyuanApi=new rt}async getUsersBlogs(){var u;const t=[],e=new q;return e.blogid=m.API_TYPE_SIYUAN,e.blogName=m.API_TYPE_SIYUAN,e.url=(u={VITE_LOG_INFO_ENABLED:"false",VITE_SIYUAN_API_URL:"http://127.0.0.1:6806",VITE_SIYUAN_CONFIG_TOKEN:"",VITE_MIDDLEWARE_URL:"https://publish.terwer.space/api/middleware"}.SIYUAN_API_URL)!=null?u:"",t.push(e),t}async getRecentPostsCount(t){return await this.siyuanApi.getRootBlocksCount(t!=null?t:"")}async getRecentPosts(t,e,u){const o=[];let i=0;e&&(i=e);const a=u!=null?u:"",n=await this.siyuanApi.getRootBlocks(i,t,a);for(let l=0;l<n.length;l++){const c=n[l],g=await this.siyuanApi.getBlockAttrs(c.root_id),p=await this.getPost(c.root_id),d=g["custom-slug"]||"",f=new V;f.postid=c.root_id,f.title=c.content,f.permalink=d===""?v("/post/",c.root_id):v("/post/",d,".html"),f.mt_keywords=p.mt_keywords,f.description=p.description,o.push(f)}return o}async getPost(t,e){let u=t;if(e){const f=await this.siyuanApi.getBlockBySlug(t);f&&(u=f.root_id)}const o=await this.siyuanApi.getBlockByID(u);if(!o)throw new Error("\u6587\u7AE0\u4E0D\u5B58\u5B58\u5728\uFF0Cpostid=>"+u);const i=await this.siyuanApi.getBlockAttrs(u),a=await this.siyuanApi.exportMdContent(u);let n=!0;(i["custom-publish-status"]||"draft")==="secret"&&(n=!1);const c=i["custom-post-password"]||"",g=i["custom-desc"]||"";let p=ze(a.content);p=Se(p);const d=new V;return d.postid=o.root_id||"",d.title=o.content||"",d.description=p||"",d.shortDesc=g||"",d.mt_keywords=i.tags||"",d.post_status=n?R.POST_STATUS_PUBLISH:R.POST_TYPE_DRAFT,d.wp_password=c,d}async editPost(t,e,u){return!1}async newPost(t,e){return""}async deletePost(t){return!1}async getCategories(){return[]}async getPreviewUrl(t){return""}async getSubPostCount(t){return await this.siyuanApi.getSubdocCount(t)}async getSubPosts(t,e,u,o){const i=[];let a=0;u!==0&&(a=u);const n=o!=null?o:"",l=await this.siyuanApi.getSubdocs(t,a,e,n);this.logger.debug("siyuanPosts=>",l);for(let c=0;c<l.length;c++){const g=l[c],p=await this.siyuanApi.getBlockAttrs(g.root_id),d=await this.getPost(g.root_id),f=p["custom-slug"]||"",N=new V;N.postid=g.root_id,N.title=g.content,N.permalink=f===""?v("/post/",g.root_id):v("/post/",f,".html"),N.mt_keywords=d.mt_keywords,N.description=d.description,i.push(N)}return i}}class Et{constructor(t){r(this,"logger");r(this,"githubCfg");r(this,"octokit");this.logger=b.getLogger("utils/platform/github/githubApi.ts"),this.githubCfg=t,this.octokit=new Ut({auth:t.githubToken})}async getPageSha(t){let e;const u=await this.getPageData(t);return u&&(e=u.sha),e}async getPageData(t){let e;if(w(this.githubCfg.githubUser)||w(this.githubCfg.githubRepo))throw new Error("\u5206\u7C7B\u83B7\u53D6\u5931\u8D25");const u="GET /repos/"+this.githubCfg.githubUser+"/"+this.githubCfg.githubRepo+"/contents/"+t;this.logger.debug("getPage route=>",u);const o=await this.octokit.request(u,{owner:this.githubCfg.githubUser,repo:this.githubCfg.githubRepo,path:t});return this.logger.debug("getPage res=>",o),o&&(e=o.data),e}async createOrUpdatePage(t,e,u){let o;const i=Pe.toBase64(e),a="PUT /repos/"+this.githubCfg.githubUser+"/"+this.githubCfg.githubRepo+"/contents/"+t,n={owner:this.githubCfg.githubUser,repo:this.githubCfg.githubRepo,path:t,message:this.githubCfg.defaultMsg,committer:{name:this.githubCfg.author,email:this.githubCfg.email},content:i};u&&Object.assign(n,{sha:u});const l=await this.octokit.request(a,n);return this.logger.debug("createOrUpdatePage res=>",l),l&&(o=l.data),o}async deletePage(t,e){let u;const o="DELETE /repos/"+this.githubCfg.githubUser+"/"+this.githubCfg.githubRepo+"/contents/"+t,i={owner:this.githubCfg.githubUser,repo:this.githubCfg.githubRepo,path:t,message:this.githubCfg.defaultMsg,committer:{name:this.githubCfg.author,email:this.githubCfg.email},sha:e},a=await this.octokit.request(o,i);return this.logger.debug("deletePage res=>",a),a&&(u=a.data),u}async publishGithubPage(t,e){const o=await this.createOrUpdatePage(t,e,void 0);return this.logger.debug("Github publishPage,res=>",o),o}async updateGithubPage(t,e){const u=await this.getPageSha(t),o=await this.createOrUpdatePage(t,e,u);return this.logger.debug("Github updatePage,res=>",o),o}async deleteGithubPage(t){const e=await this.getPageSha(t),u=await this.deletePage(t,e);return this.logger.debug("Github deletePage,res=>",u),u}async getGithubPageTreeNode(t){const e=await this.getPageData(t),u=[];if(e&&e.length>0){for(let o=0;o<e.length;o++){const i=e[o],a={value:i.path,label:i.name,isLeaf:i.name.indexOf(".md")>-1};u.push(a)}this.logger.debug("getPageTreeNode,data=>",e)}return u}}class ie{constructor(t){r(this,"logger");r(this,"apiType");r(this,"cfg");r(this,"githubApi");this.logger=b.getLogger("utils/platform/github/githubApiAdaptor.ts"),this.apiType=t;const e=x(t);this.cfg=e,this.githubApi=new Et(e)}async getUsersBlogs(){const t=[],e=new q;return e.blogid=this.apiType,e.blogName=Y(this.cfg.githubUser,"/"+this.cfg.githubRepo),e.url=Y("https://github.com/"+this.cfg.githubUser,"/"+this.cfg.githubRepo),t.push(e),t}async getPost(t,e){const u=new V,o=await this.githubApi.getPageData(t);return u.postid=o.path,u.title=o.path,u.description=Pe.fromBase64(o.content),u.link=o.path,u.permalink=o.html_url,this.logger.debug("page=>",o),u}async newPost(t,e){var o;const u=await this.githubApi.publishGithubPage(t.postid,t.description);if(!((o=u==null?void 0:u.content)!=null&&o.path))throw new Error("Hugo\u8C03\u7528API\u5F02\u5E38");return u.content.path}async editPost(t,e,u){var i;const o=await this.githubApi.updateGithubPage(e.postid,e.description);if(!((i=o==null?void 0:o.content)!=null&&i.path))throw new Error("Hugo\u8C03\u7528API\u5F02\u5E38");return!0}async deletePost(t){var u;const e=await this.githubApi.deleteGithubPage(t);if(!((u=e==null?void 0:e.commit)!=null&&u.sha))throw new Error("Hugo\u8C03\u7528API\u5F02\u5E38");return!0}async getCategories(){return await Promise.resolve([])}async getPreviewUrl(t){var o;let e;const u=t.substring(t.lastIndexOf("/")+1).replace(".md","");return e=this.cfg.previewUrl.replace("[postid]",u),e=Y((o=this.cfg.home)!=null?o:"",e),e}async getRecentPosts(t,e,u){return[]}async getRecentPostsCount(t){return 0}}const Us={serializeMethodCall:Zt},Fe=b.getLogger("utils/platform/metaweblog/customXmlrpc.ts"),Ls=Us,{XMLParser:Ns}=Qt,Rs={ignoreAttributes:!1},xs=new Ns(Rs);async function Ms(s,t,e){try{const u=Ls.serializeMethodCall(t,e,"utf8"),i=await gt({type:"fetchChromeXmlrpc",apiUrl:s,fetchCORSParams:{method:"POST",headers:{"content-type":"text/xml"},body:u}});Fe.debug("fetchChromeXmlrpc resXml=>",i);let a;if(i){const n=xs.parse(i);Fe.debug("parseResult=>",n),a=n.methodResponse||{},Fe.debug("resJson=>",JSON.stringify(a))}else a={};return a}catch(u){throw new Error(u)}}const Ys={createSecureClient:Ge.createSecureClient,createClient:Ge.createClient},Z=b.getLogger("utils/platform/metaweblog/nodeXmlrpc.ts"),qe=Ys;async function Vs(s,t,e){let u;s.includes("https:")?u=qe.createSecureClient(s):u=qe.createClient(s);try{Z.debug("methodCallDirectNode\u5F00\u59CB"),Z.debug("xmlrpcNodeParams.reqMethod=>",t),Z.debug("xmlrpcNodeParams.reqParams=>",e);const i=await Gs(u,t,e);return JSON.stringify(i)}catch(i){throw Z.error(i),new Error("\u8BF7\u6C42\u5904\u7406\u5F02\u5E38")}}async function Gs(s,t,e){return await new Promise(function(u,o){s.methodCall(t,e,function(i,a){i?o(i):(Z.debug("resolve=>",a),u(a))})})}class Ft{constructor(t,e,u,o){r(this,"logger");r(this,"apiType");r(this,"apiUrl");r(this,"username");r(this,"password");this.logger=b.getLogger("utils/platform/metaweblog/xmlrpc.ts"),this.apiType=t,this.apiUrl=e,this.username=u,this.password=o}async fetchCORS(t,e,u){const i=Ze("VITE_MIDDLEWARE_URL","/api/middleware")+"/xmlrpc";this.logger.debug("apiUrl=>",t);const a={reqMethod:e,reqParams:u};this.logger.debug("fetchCORSParams=>",a);const n={fetchParams:{apiUrl:t,fetchCORSParams:a}},l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};return this.logger.debug("middleApiUrl=>",i),this.logger.debug("middleFetchOption=>",l),await(await fetch(i,l)).text()}async fetchChromeCORS(t,e,u){this.logger.debug("fetchChrome apiUrl=>",t);const o={reqMethod:e,reqParams:u};this.logger.debug("fetchChrome fetchCORSParams=>",o);const i=await Ms(t,e,u);if(!i||i==="")throw new Error("\u8BF7\u6C42\u9519\u8BEF\u6216\u8005\u8FD4\u56DE\u7ED3\u679C\u4E3A\u7A7A");return this.logger.debug("fetchCustom result=>",i),i}async fetchXmlrpc(t,e,u){let o;if(W().isInSiyuan?(this.logger.info("\u5F53\u524D\u5904\u4E8E\u6302\u4EF6\u6A21\u5F0F\uFF0C\u4F7F\u7528electron\u7684fetch\u83B7\u53D6\u6570\u636E"),o=await Vs(t,e,u)):_()?(this.logger.info("\u5F53\u524D\u5904\u4E8EChrome\u63D2\u4EF6\u4E2D\uFF0C\u9700\u8981\u6A21\u62DFfetch\u89E3\u51B3CORS\u8DE8\u57DF\u95EE\u9898"),o=await this.fetchChromeCORS(t,e,u)):(this.logger.info("\u5F53\u524D\u5904\u4E8E\u975E\u6302\u4EF6\u6A21\u5F0F\uFF0C\u5DF2\u5F00\u542F\u8BF7\u6C42\u4EE3\u7406\u89E3\u51B3CORS\u8DE8\u57DF\u95EE\u9898"),o=await this.fetchCORS(t,e,u)),o==="")throw new Error("\u8BF7\u6C42\u9519\u8BEF\u6216\u8005\u8FD4\u56DE\u7ED3\u679C\u4E3A\u7A7A");return this.logger.debug("\u6700\u7EC8\u8FD4\u56DE\u7ED9\u524D\u7AEF\u7684\u6570\u636E=>",o),o}async methodCallEntry(t,e){const u=await this.fetchXmlrpc(this.apiUrl,t,e);return this.logger.debug("\u8BF7\u6C42\u7ED3\u679C\uFF0Cresult=>",u),u}}const Hs="blogger.getUsersBlogs",Ws="metaWeblog.newPost",qs="metaWeblog.editPost",js="blogger.deletePost",Ks="metaWeblog.getRecentPosts",Xs="metaWeblog.getPost",$s="metaWeblog.getCategories",P={GET_USERS_BLOGS:Hs,NEW_POST:Ws,EDIT_POST:qs,DELETE_POST:js,GET_RECENT_POSTS:Ks,GET_POST:Xs,GET_CATEGORIES:$s};class ke{constructor(){r(this,"categoryId");r(this,"parentId");r(this,"description");r(this,"categoryDescription");r(this,"categoryName");r(this,"htmlUrl");r(this,"rssUrl");this.categoryId="",this.parentId="0",this.description="",this.categoryDescription="",this.categoryName="",this.htmlUrl="",this.rssUrl=""}}class Js{constructor(t){r(this,"logger");r(this,"apiType");r(this,"cfg");r(this,"xmlrpcClient");this.logger=b.getLogger("utils/platform/metaweblog/metaWeblogApi.ts"),this.apiType=t,this.cfg=x(t),this.xmlrpcClient=new Ft(this.apiType,this.cfg.apiUrl,this.cfg.username,this.cfg.password)}async getUsersBlogs(t,e,u){const o=[],i=await this.xmlrpcClient.methodCallEntry(P.GET_USERS_BLOGS,[this.apiType,e,u]);this.logger.debug("ret=>",i);const a=JSON.parse(i)||[];if(a.faultCode)throw new Error(a.faultString);const n=JSON.parse(i)||[];for(let l=0;l<n.length;l++){const c=new q,g=n[l];c.blogid=g.blogid||"",c.url=g.url,c.blogName=g.blogName,o.push(c)}return o}async getRecentPosts(t,e,u,o){return[]}async getPost(t,e,u){const o=new V;try{const i=await this.xmlrpcClient.methodCallEntry(P.GET_POST,[t,e,u]);this.logger.debug("getCategories ret=>",i);const a=JSON.parse(i)||[];a.faultCode&&this.logger.error("\u8BF7\u6C42\u5206\u7C7B\u5F02\u5E38\uFF0C\u9519\u8BEF\u4FE1\u606F\u5982\u4E0B\uFF1A",a.faultString),this.logger.debug("\u83B7\u53D6\u7684\u6587\u7AE0\u4FE1\u606F\uFF0CdataObj=>",a),o.categories=a.categories}catch(i){this.logger.error("\u6587\u7AE0\u4FE1\u606F\u83B7\u53D6\u5931\u8D25",i)}return o}async newPost(t,e,u,o,i){i||(o.post_status=R.POST_TYPE_DRAFT);const a=this.createPostStruct(o);this.logger.debug("postStruct=>",a);let n=await this.xmlrpcClient.methodCallEntry(P.NEW_POST,[this.apiType,e,u,a,i]);return n=n.replace(/"/g,""),this.logger.debug("ret=>",n),n}async editPost(t,e,u,o,i){i||(o.post_status=R.POST_TYPE_DRAFT);const a=this.createPostStruct(o);this.logger.debug("postStruct=>",a);const n=await this.xmlrpcClient.methodCallEntry(P.EDIT_POST,[t,e,u,a,i]);return this.logger.debug("ret=>",n),n}async deletePost(t,e,u,o,i){const a=await this.xmlrpcClient.methodCallEntry(P.DELETE_POST,[t,e,u,o,i]);return this.logger.debug("ret=>",a),a}createPostStruct(t){var u;const e={};return w(t.title)||Object.assign(e,{title:t.title}),w(t.mt_keywords)||Object.assign(e,{mt_keywords:t.mt_keywords}),w(t.description)||Object.assign(e,{description:t.description}),w(t.wp_slug)||Object.assign(e,{wp_slug:t.wp_slug}),L()||Object.assign(e,{dateCreated:t.dateCreated||new Date}),Object.assign(e,{categories:t.categories||[]}),Object.assign(e,{post_status:(u=t.post_status)!=null?u:R.POST_STATUS_PUBLISH}),w(t.wp_password)||Object.assign(e,{wp_password:t.wp_password}),e}async getCategories(t,e,u){const o=[];try{const i=await this.xmlrpcClient.methodCallEntry(P.GET_CATEGORIES,[this.apiType,e,u]);this.logger.debug("getCategories ret=>",i);const a=JSON.parse(i)||[];a.faultCode&&this.logger.error("\u8BF7\u6C42\u5206\u7C7B\u5F02\u5E38\uFF0C\u9519\u8BEF\u4FE1\u606F\u5982\u4E0B\uFF1A",a.faultString);const n=JSON.parse(i)||[];this.logger.debug("\u83B7\u53D6\u7684\u5206\u7C7B\u4FE1\u606F\uFF0CdataArr=>",n),n.forEach(l=>{const c=new ke;c.description=l.description,c.categoryId=l.categoryId,o.push(c)})}catch(i){De(),this.logger.error("\u5206\u7C7B\u83B7\u53D6\u5931\u8D25",i)}return o}}class zs{constructor(t,e,u,o){r(this,"logger");r(this,"apiType");r(this,"apiUrl");r(this,"username");r(this,"password");r(this,"xmlrpcClient");this.logger=b.getLogger("utils/platform/metaweblog/CustomMetaweblogApi.ts"),this.apiType=t,this.apiUrl=e,this.username=u,this.password=o,this.xmlrpcClient=new Ft(this.apiType,this.apiUrl,this.username,this.password)}doFault(t){const e=t.fault;if(e){const u=e.value.struct.member,o=this.parseFieldValue(u,"faultCode"),i=this.parseFieldValue(u,"faultString");throw new Error(v("\u53D1\u751F\u5F02\u5E38\uFF0C\u9519\u8BEF\u7801=>",o,"\uFF0C\u9519\u8BEF\u4FE1\u606F=>",i))}if(!(t!=null&&t.params))throw new Error("\u53D1\u751F\u5F02\u5E38=>\u6570\u636E\u4E3A\u7A7A")}async getUsersBlogs(t,e,u){const o=[],i=await this.xmlrpcClient.methodCallEntry(P.GET_USERS_BLOGS,[this.apiType,e,u]);this.logger.debug("getUsersBlogs ret=>",i),this.doFault(i);const a=i.params.param.value.array.data.value.struct.member||[],n=new q;return n.blogid=this.parseFieldValue(a,"blogid"),n.url=this.parseFieldValue(a,"url"),n.blogName=this.parseFieldValue(a,"blogName"),o.push(n),o}parseFieldValue(t,e){let u;for(let o=0;o<t.length;o++){const i=t[o];if(i.name===e)if(typeof i.value=="string"){u=i.value;break}else{u=i.value.string||i.value.int||i.value.i4||i.value;break}}return u}async getRecentPosts(t,e,u,o,i,a){const n=[],l=[this.apiType,e,u,o];if(i!=null?i:a){const p=i!=null?i:1,d=a!=null?a:"";l.push(p),l.push(d)}const c=await this.xmlrpcClient.methodCallEntry(P.GET_RECENT_POSTS,l);this.logger.debug("getRecentPosts ret=>",c),this.doFault(c);const g=c.params.param.value.array.data.value||[];if(c.params.param.value.array.data.value instanceof Array)g.forEach(p=>{const d=this.parsePost(p);n.push(d)});else{const p=c.params.param.value.array.data.value;if(p){const d=this.parsePost(p);n.push(d)}}return this.logger.debug("result=>",n),n}parsePost(t){var n,l,c;const e=new V,u=t.struct.member;e.mt_keywords=this.parseFieldValue(u,"mt_keywords"),e.title=this.parseFieldValue(u,"title"),e.link=this.parseFieldValue(u,"link"),e.permalink=this.parseFieldValue(u,"permalink"),e.postid=this.parseFieldValue(u,"postid"),e.description=this.parseFieldValue(u,"description"),e.mt_excerpt=this.parseFieldValue(u,"mt_excerpt"),e.wp_slug=this.parseFieldValue(u,"wp_slug"),e.dateCreated=this.parseFieldValue(u,"dateCreated");const o=[],i=((c=(l=(n=this.parseFieldValue(u,"categories"))==null?void 0:n.array)==null?void 0:l.data)==null?void 0:c.value)||[],a=(i==null?void 0:i.string)||i;return typeof a=="string"?o.push(a):i&&i.length>0&&i.forEach(g=>{const p=g.string;o.push(p)}),e.categories=o,e.mt_text_more=this.parseFieldValue(u,"mt_text_more"),e}async getPost(t,e,u){const o=await this.xmlrpcClient.methodCallEntry(P.GET_POST,[t,e,u]);this.logger.debug("getPost ret=>",o),this.doFault(o);const i=o.params.param.value||[],a=this.parsePost(i);return this.logger.debug("getPost post=>",a),a}async newPost(t,e,u,o,i){i||(o.post_status=R.POST_TYPE_DRAFT);const a=this.createPostStruct(o);this.logger.debug("postStruct=>",a);const n=await this.xmlrpcClient.methodCallEntry(P.NEW_POST,[this.apiType,e,u,a,i]);this.logger.debug("newPost ret=>",n),this.doFault(n);const l=n.params.param.value.string||n.params.param.value||"";return this.logger.debug("newPost retStr=>",l.toString()),l.toString()}async editPost(t,e,u,o,i){i||(o.post_status=R.POST_TYPE_DRAFT);const a=this.createPostStruct(o);this.logger.debug("postStruct=>",a);const n=await this.xmlrpcClient.methodCallEntry(P.EDIT_POST,[t,e,u,a,i]);this.doFault(n);const l=n.params.param.value.boolean||n.params.param.value||0;return this.logger.debug("editPost retBool=>",l),l}async deletePost(t,e,u,o,i){const a=await this.xmlrpcClient.methodCallEntry(P.DELETE_POST,[t,e,u,o,i]);this.doFault(a);const n=a.params.param.value.boolean||a.params.param.value||0;return this.logger.debug("deletePost retBool=>",n),n}createPostStruct(t){var u;const e={};return w(t.title)||Object.assign(e,{title:t.title}),w(t.mt_keywords)||Object.assign(e,{mt_keywords:t.mt_keywords}),w(t.description)||Object.assign(e,{description:t.description}),w(t.wp_slug)||Object.assign(e,{wp_slug:t.wp_slug}),L()||Object.assign(e,{dateCreated:t.dateCreated||new Date}),Object.assign(e,{categories:t.categories||[]}),Object.assign(e,{post_status:(u=t.post_status)!=null?u:R.POST_STATUS_PUBLISH}),w(t.wp_password)||Object.assign(e,{wp_password:t.wp_password}),e}async getCategories(t,e,u){const o=[],i=await this.xmlrpcClient.methodCallEntry(P.GET_CATEGORIES,[this.apiType,e,u]);return this.logger.debug("getCategories ret=>",i),this.doFault(i),(i.params.param.value.array.data.value||[]).forEach(n=>{const l=this.parseCat(n);o.push(l)}),this.logger.debug("getCategories result=>",o),o}parseCat(t){const e=new ke,u=t.struct.member;return e.categoryId=this.parseFieldValue(u,"categoryId"),e.parentId=this.parseFieldValue(u,"parentId"),e.description=this.parseFieldValue(u,"description"),e.categoryDescription=this.parseFieldValue(u,"categoryDescription"),e.categoryName=this.parseFieldValue(u,"categoryName"),e.htmlUrl=this.parseFieldValue(u,"htmlUrl"),e.rssUrl=this.parseFieldValue(u,"rssUrl"),e}}class J{constructor(t){r(this,"metaWeblogApi");r(this,"username");r(this,"logger");r(this,"cfg");r(this,"password");r(this,"appkey");r(this,"customMetaWeblogApi");this.logger=b.getLogger("utils/platform/metaweblog/metaWeblogApiAdaptor.ts"),this.cfg=x(t),this.metaWeblogApi=new Js(t),this.username=this.cfg.username,this.password=this.cfg.password,this.appkey=t,this.customMetaWeblogApi=new zs(t,this.cfg.apiUrl,this.cfg.username,this.cfg.password)}async getUsersBlogs(){let t=[];return _()?t=await this.customMetaWeblogApi.getUsersBlogs(this.appkey,this.username,this.password):t=await this.metaWeblogApi.getUsersBlogs(this.appkey,this.username,this.password),this.logger.debug("getUsersBlogs=>",t),t}async getRecentPostsCount(t){return await Promise.resolve(0)}async getRecentPosts(t){const e=[];let u;_()?u=await this.customMetaWeblogApi.getRecentPosts(this.appkey,this.username,this.password,t):u=await this.metaWeblogApi.getRecentPosts(this.appkey,this.username,this.password,t);for(let o=0;o<u.length;o++){const i=u[o],a=new V;a.postid=i.postid,a.title=i.title,a.mt_keywords=i.mt_keywords,a.permalink=i.permalink,a.description=i.description,a.wp_slug=i.wp_slug,a.dateCreated=i.dateCreated,a.categories=i.categories,e.push(a)}return e}async getPost(t){let e;return _()?e=await this.customMetaWeblogApi.getPost(t,this.username,this.password):e=await this.metaWeblogApi.getPost(t,this.username,this.password),e}async editPost(t,e,u){let o;return _()?o=await this.customMetaWeblogApi.editPost(t,this.username,this.password,e,u!=null?u:!0):o=await this.metaWeblogApi.editPost(t,this.username,this.password,e,u!=null?u:!0),o}async newPost(t,e){let u;return _()?u=await this.customMetaWeblogApi.newPost(this.appkey,this.username,this.password,t,e!=null?e:!0):u=await this.metaWeblogApi.newPost(this.appkey,this.username,this.password,t,e!=null?e:!0),u}async deletePost(t){let e;return _()?e=await this.customMetaWeblogApi.deletePost(this.appkey,t,this.username,this.password,!0):e=await this.metaWeblogApi.deletePost(this.appkey,t,this.username,this.password,!0),e}async getCategories(){let t;return _()?t=await this.customMetaWeblogApi.getCategories(this.appkey,this.username,this.password):t=await this.metaWeblogApi.getCategories(this.appkey,this.username,this.password),this.logger.debug("\u83B7\u53D6\u5206\u7C7B\u5217\u8868=>",t),t}async getPreviewUrl(t){var o;const e=this.cfg.previewUrl.replace("[postid]",t),u=Y((o=this.cfg.home)!=null?o:"",e);return this.logger.debug("previewUrl",u),u}}class Qs extends Et{constructor(e){super(e);r(this,"vuepressCfg");this.logger=b.getLogger("utils/platform/github/vuepress/vuepressApiV1.ts"),this.vuepressCfg=e}async getGithubPageTreeNode(e){const u=await this.getPageData(e),o=[];if(u&&u.length>0){for(let i=0;i<u.length;i++){const a=u[i];if(a.name.indexOf(".vuepress")>-1||a.name.indexOf("@pages")>-1||a.name.indexOf("_posts")>-1)continue;const n={value:a.path,label:a.name,isLeaf:a.name.indexOf(".md")>-1};o.push(n)}this.logger.debug("getPageTreeNode,data=>",u)}return o}}const Zs="custom-vuepress-slug",eo="custom-hugo-slug",to="custom-hexo-slug",uo="custom-jekyll-slug",so="custom-jvue-post-id",oo="custom-conf-post-id",io="custom-cnblogs-post-id",ao="custom-wordpress-post-id",no="custom-liandi-post-id",ro="custom-yuque-post-id",lo="custom-kms-post-id",co="custom-wechat-post-id",go={VUEPRESS_POSTID_KEY:Zs,HUGO_POSTID_KEY:eo,HEXO_POSTID_KEY:to,JEKYLL_POSTID_KEY:uo,JVUE_POSTID_KEY:so,CONFLUENCE_POSTID_KEY:oo,CNBLOGS_POSTID_KEY:io,WORDPRESS_POSTID_KEY:ao,LIANDI_POSTID_KEY:no,YUQUE_POSTID_KEY:ro,KMS_POSTID_KEY:lo,WECHAT_POSTID_KEY:co};class po{constructor(t,e,u,o,i){r(this,"githubUser");r(this,"githubRepo");r(this,"githubToken");r(this,"defaultBranch");r(this,"defaultPath");r(this,"defaultMsg");r(this,"author");r(this,"email");r(this,"posidKey");r(this,"home");r(this,"blogName");r(this,"previewMdUrl");r(this,"previewUrl");r(this,"baseUrl");r(this,"mdFilenameRule");r(this,"useMetaJson");r(this,"apiStatus");this.home=t,this.blogName=e,this.githubUser=u,this.githubRepo=o,this.githubToken=i,this.defaultBranch="main",this.defaultPath="docs/_posts",this.defaultMsg="auto published by sy-post-publisher",this.author="terwer",this.email="youweics@163.com",this.previewMdUrl="",this.previewUrl="",this.baseUrl="https://github.com",this.mdFilenameRule="[filename].md",this.useMetaJson=!1,this.apiStatus=!1}}class ho extends po{constructor(){super("",dt.Github_Vuepress,"","",""),this.defaultPath="docs",this.posidKey=go.VUEPRESS_POSTID_KEY,this.previewMdUrl="/[user]/[repo]/blob/[branch]/[docpath]",this.previewUrl="/post/[postid].html",this.mdFilenameRule="[filename].md"}}class mo extends ie{constructor(){super(m.API_TYPE_VUEPRESS);r(this,"vuepressApi");const e=new ho;this.vuepressApi=new Qs(e)}}class Eo extends ie{constructor(){super(m.API_TYPE_HUGO)}}class Fo extends ie{constructor(){super(m.API_TYPE_HEXO)}}class bo extends ie{constructor(){super(m.API_TYPE_JEKYLL)}}class fo extends J{constructor(){super(m.API_TYPE_JVUE)}}class Co extends J{constructor(){super(m.API_TYPE_CONFLUENCE)}}class yo extends J{constructor(){super(m.API_TYPE_CNBLOGS)}}class wo extends J{constructor(){super(m.API_TYPE_WORDPRESS)}}class Oe{constructor(t){r(this,"apiType");r(this,"cfg");this.apiType=t,this.cfg=x(t)}async deletePost(t){throw new Error("\u8BE5\u529F\u80FD\u672A\u5B9E\u73B0\uFF0C\u8BF7\u5728\u5B50\u7C7B\u91CD\u5199\u8BE5\u65B9\u6CD5")}async editPost(t,e,u){throw new Error("\u8BE5\u529F\u80FD\u672A\u5B9E\u73B0\uFF0C\u8BF7\u5728\u5B50\u7C7B\u91CD\u5199\u8BE5\u65B9\u6CD5")}async getPost(t,e){throw new Error("\u8BE5\u529F\u80FD\u672A\u5B9E\u73B0\uFF0C\u8BF7\u5728\u5B50\u7C7B\u91CD\u5199\u8BE5\u65B9\u6CD5")}async getRecentPosts(t,e,u){throw new Error("\u8BE5\u529F\u80FD\u672A\u5B9E\u73B0\uFF0C\u8BF7\u5728\u5B50\u7C7B\u91CD\u5199\u8BE5\u65B9\u6CD5")}async getUsersBlogs(){throw new Error("\u8BE5\u529F\u80FD\u672A\u5B9E\u73B0\uFF0C\u8BF7\u5728\u5B50\u7C7B\u91CD\u5199\u8BE5\u65B9\u6CD5")}async newPost(t,e){throw new Error("\u8BE5\u529F\u80FD\u672A\u5B9E\u73B0\uFF0C\u8BF7\u5728\u5B50\u7C7B\u91CD\u5199\u8BE5\u65B9\u6CD5")}async getCategories(){return[]}async getRecentPostsCount(t){return 0}async getPreviewUrl(t){return""}}class Ue{constructor(){r(this,"logger");this.logger=b.getLogger("utils/platform/commonblog/commonblogApi.ts")}async fetchCORS(t,e,u){const i=Ze("VITE_MIDDLEWARE_URL","/api/middleware")+"/fetch";this.logger.debug("apiUrl=>",t),this.logger.debug("fetchOptions=>",e);const a={apiUrl:t,fetchOptions:e};u!=null&&Object.assign(a,{formJson:u});const n={fetchParams:a},l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};return this.logger.debug("middleApiUrl=>",i),this.logger.debug("middleFetchOption=>",l),await fetch(i,l)}async fetchChromeCORS(t,e,u){try{const o={type:"fetchChromeJson",apiUrl:t,fetchCORSOptions:e};u!=null&&Object.assign(o,{formJson:JSON.stringify(u)}),this.logger.debug("fetchChrome reqOps=>",o);const i=await gt(o);return this.logger.debug("fetchChromeJson resJson=>",i),i}catch(o){throw new Error("\u8BF7\u6C42\u5F02\u5E38",o)}}async fetchCall(t,e,u){let o;if(W().isInSiyuan?(this.logger.warn("\u5F53\u524D\u5904\u4E8E\u6302\u4EF6\u6A21\u5F0F\uFF0C\u4F7F\u7528electron\u7684fetch\u83B7\u53D6\u6570\u636E"),o=await fetch(t,e)):_()?(this.logger.warn("\u5F53\u524D\u5904\u4E8EChrome\u63D2\u4EF6\u4E2D\uFF0C\u9700\u8981\u6A21\u62DFfetch\u89E3\u51B3CORS\u8DE8\u57DF\u95EE\u9898"),o=await this.fetchChromeCORS(t,e,u)):(this.logger.warn("\u5F53\u524D\u5904\u4E8E\u975E\u6302\u4EF6\u6A21\u5F0F\uFF0C\u5DF2\u5F00\u542F\u8BF7\u6C42\u4EE3\u7406\u89E3\u51B3CORS\u8DE8\u57DF\u95EE\u9898"),this.logger.warn("formJson=>",u),o=await this.fetchCORS(t,e,u)),!o)throw new Error("\u8BF7\u6C42\u9519\u8BEF\u6216\u8005\u8FD4\u56DE\u7ED3\u679C\u4E3A\u7A7A");return this.logger.debug("\u6700\u7EC8\u8FD4\u56DE\u7ED9\u524D\u7AEF\u7684\u6570\u636E=>",o),o}async fetchEntry(t,e,u){const o=await this.fetchCall(t,e,u);return this.logger.debug("\u8BF7\u6C42\u7ED3\u679C\uFF0Cresult=>",o),o}parseCORSBody(t){return t.body}async doFetch(t,e,u){const o=await this.fetchEntry(t,e,u);if(!o)throw new Error("\u8BF7\u6C42\u5F02\u5E38");let i;if({VITE_LOG_INFO_ENABLED:"false",VITE_SIYUAN_API_URL:"http://127.0.0.1:6806",VITE_SIYUAN_CONFIG_TOKEN:"",VITE_MIDDLEWARE_URL:"https://publish.terwer.space/api/middleware"}.TEST==="true"||typeof o<"u"&&o instanceof Response){const n=o.status;if(n!==200){if(n===401)throw new Error("\u56E0\u6743\u9650\u4E0D\u8DB3\u64CD\u4F5C\u5DF2\u88AB\u7981\u6B62");if(n>401){if(n===413)throw new Error("\u8BF7\u6C42\u5185\u5BB9\u8FC7\u591A\uFF0C\u8BF7\u5220\u51CF\u6587\u7AE0\u6B63\u6587\u4E4B\u540E\u518D\u8BD5");const c=o.statusText;throw new Error(c)}else throw new Error("fetch\u8BF7\u6C42\u9519\u8BEF")}if(W().isInSiyuan)i=await o.json();else{const c=await o.json();i=this.parseCORSBody(c)}}else i=o;return i}async doFormFetch(t,e,u){if(W().isInSiyuan){const i=new URLSearchParams;return u.forEach(a=>{i.append(a.key,a.value)}),e.body=i,await this.doFetch(t,e)}return _()?await this.doFetch(t,e,u):await this.doFetch(t,e,u)}}class Ao extends Ue{constructor(e,u,o){super();r(this,"baseUrl");r(this,"username");r(this,"token");this.logger=b.getLogger("utils/platform/commonblog/liandi/liandiApi.ts"),this.baseUrl=e,this.username=u,this.token=o}async getUser(){const e="/user",u={};return await this.liandiRequest(e,u,"GET",!0)}async addArticle(e,u,o){const i="/article",a={articleTitle:e,articleTags:o,articleContent:u};await this.liandiRequest(i,a,"POST",!0);const n=await this.getFirstArticleId();return this.logger.debug("liandi addArticle postid=>",n),n}async getFirstArticleId(){const e="/user/"+this.username+"/articles?p=1",u={},i=(await this.liandiRequest(e,u,"GET",!0)).articles;if(i.length===0)throw new Error("\u672A\u83B7\u53D6\u5230\u5E16\u5B50");return i[0].oId}async updateArticle(e,u,o,i){const a="/article/"+e,n={articleTitle:u,articleTags:i,articleContent:o};return await this.liandiRequest(a,n,"PUT",!0),!0}async liandiRequest(e,u,o,i){const a=this.baseUrl+e;let n="POST";o!=null&&(n=o);const l={method:n};ve(u)||Object.assign(l,{body:JSON.stringify(u)}),i&&Object.assign(l,{headers:{Authorization:`token ${this.token}`,"User-Agent":"Terwer/0.1.0"}}),this.logger.debug("\u5411\u94FE\u6EF4\u8BF7\u6C42\u6570\u636E\uFF0CapiUrl=>",a),this.logger.debug("\u5411\u94FE\u6EF4\u8BF7\u6C42\u6570\u636E\uFF0CfetchOps=>",l);const c=await this.doFetch(a,l);if(this.logger.debug("\u5411\u94FE\u6EF4\u8BF7\u6C42\u6570\u636E\uFF0CresJson=>",c),c.code===0)return c.data;if(c.code===-1)throw new Error(c.msg);{const g=c.msg;throw w(g)?new Error("\u53D1\u5E03\u5E16\u5B50\u53D7\u9650\u6216\u8005\u7CFB\u7EDF\u5F02\u5E38"):new Error(g)}}}class Do extends Oe{constructor(){var e,u;super(m.API_TYPE_LIANDI);r(this,"logger");r(this,"liandiApi");this.logger=b.getLogger("utils/platform/commonblog/liandi/liandiApiAdaptor.ts"),this.liandiApi=new Ao(this.cfg.apiUrl,(e=this.cfg.username)!=null?e:"",(u=this.cfg.token)!=null?u:"")}async getUsersBlogs(){var i,a;const e=[],u=await this.liandiApi.getUser();this.logger.debug("user=>",u);const o=new q;return o.blogid=this.apiType,o.blogName=(a=(i=u.user.userName)!=null?i:this.cfg.blogName)!=null?a:"\u94FE\u6EF4",o.url=this.cfg.apiUrl,e.push(o),e}async getRecentPostsCount(e){return 0}async deletePost(e){throw new Error("\u94FE\u6EF4\u793E\u533AAPI\u4E0D\u652F\u6301\u5220\u9664\u5E16\u5B50")}async editPost(e,u,o){const i=await this.liandiApi.updateArticle(e,u.title,u.description,u.mt_keywords);return this.logger.debug("liandi newPost=>",i),i}async newPost(e,u){const o=await this.liandiApi.addArticle(e.title,e.description,e.mt_keywords);return this.logger.warn("liandi newPost=>",o),o!=null?o:""}async getPreviewUrl(e){var i,a;const o=((i=this.cfg.previewUrl)!=null?i:"").replace("[postid]",e);return Y((a=this.cfg.home)!=null?a:"",o)}}class Bo extends Ue{constructor(e,u,o,i){super();r(this,"baseUrl");r(this,"blogid");r(this,"username");r(this,"token");this.logger=b.getLogger("utils/platform/commonblog/yuque/yuqueApi.ts"),this.baseUrl=e,this.blogid=u,this.username=o,this.token=i}async repos(){const e="/users/"+this.username+"/repos",u={};return await this.yuqueRequest(e,u,"GET")}async addDoc(e,u,o,i){let a="/repos/"+this.blogid+"/docs";i&&(a="/repos/"+i+"/docs",this.logger.warn("yuque addDoc with repo",i));const n={title:e,slug:u,format:"markdown",body:o},l=await this.yuqueRequest(a,n,"POST");if(this.logger.debug("yuqueRequest addDoc=>",l),!l)throw new Error("\u8BF7\u6C42\u8BED\u96C0API\u5F02\u5E38");return v(l.id,"")}async updateDoc(e,u,o,i,a){let n="/repos/"+this.blogid+"/docs/"+e;a&&(n="/repos/"+a+"/docs/"+e,this.logger.warn("yuque updateDoc with repo",a));const l={title:u,slug:o,body:i,_force_asl:1};if(!await this.yuqueRequest(n,l,"PUT"))throw new Error("\u8BF7\u6C42\u8BED\u96C0API\u5F02\u5E38");return!0}async delDoc(e,u){let o="/repos/"+this.blogid+"/docs/"+e;u&&(o="/repos/"+u+"/docs/"+e,this.logger.warn("yuque delDoc with repo",u));const i={};if(!await this.yuqueRequest(o,i,"DELETE"))throw new Error("\u8BF7\u6C42\u8BED\u96C0API\u5F02\u5E38");return!0}async getDoc(e,u){let o="/repos/"+this.blogid+"/docs/"+e;u&&(o="/repos/"+u+"/docs/"+e,this.logger.warn("yuque getDoc with repo",u));const i={},a=await this.yuqueRequest(o,i,"GET");if(!a)throw new Error("\u8BF7\u6C42\u8BED\u96C0API\u5F02\u5E38");return a}async yuqueRequest(e,u,o){const i=this.baseUrl+e;let a="POST";o&&(a=o);const n={method:a};ve(u)||Object.assign(n,{body:JSON.stringify(u)}),Object.assign(n,{headers:{"Content-Type":"application/json","X-Auth-Token":this.token,"User-Agent":"Terwer/0.1.0"}}),this.logger.debug("\u5411\u8BED\u96C0\u8BF7\u6C42\u6570\u636E\uFF0CapiUrl=>",i),this.logger.debug("\u5411\u8BED\u96C0\u8BF7\u6C42\u6570\u636E\uFF0CfetchOps=>",n);const l=await this.doFetch(i,n);return this.logger.debug("\u5411\u8BED\u96C0\u8BF7\u6C42\u6570\u636E\uFF0CresJson=>",l),l.data?l.data:null}}class _o extends Oe{constructor(){var e,u,o;super(m.API_TYPE_YUQUE);r(this,"logger");r(this,"yuqueApi");this.logger=b.getLogger("utils/platform/commonblog/yuque/yuqueApiAdaptor.ts"),this.yuqueApi=new Bo(this.cfg.apiUrl,(e=this.cfg.blogid)!=null?e:"",(u=this.cfg.username)!=null?u:"",(o=this.cfg.token)!=null?o:"")}async getUsersBlogs(){const e=[],u=await this.yuqueApi.repos();return this.logger.debug("repos=>",u),u.forEach(o=>{const i=new q;i.blogid=o.namespace,i.blogName=o.name,i.url=o.namespace,e.push(i)}),e}async deletePost(e){const u=this.getYuquePostKey(e);return await this.yuqueApi.delDoc(u.docId,u.docRepo)}async editPost(e,u,o){const i=this.getYuquePostKey(e);return await this.yuqueApi.updateDoc(i.docId,u.title,u.wp_slug,u.description,i.docRepo)}async newPost(e,u){if(e.cate_slugs!=null&&e.cate_slugs.length>0){const o=e.cate_slugs[0];return await this.yuqueApi.addDoc(e.title,e.wp_slug,e.description,o)}else return await this.yuqueApi.addDoc(e.title,e.wp_slug,e.description)}async getPost(e,u){const o=this.getYuquePostKey(e),i=await this.yuqueApi.getDoc(o.docId,o.docRepo);this.logger.debug("yuqueDoc=>",i);const a=new V;a.title=i.title,a.description=i.body;const n=i.book,l=[],c=[];return l.push(n.name),a.categories=l,c.push(n.namespace),a.cate_slugs=c,a}async getCategories(){const e=[],u=await this.yuqueApi.repos();return this.logger.debug("yuque repos=>",u),u&&u.length>0&&u.forEach(o=>{if(o.type==="Book"){const i=new ke;i.categoryId=o.slug,i.categoryName=o.name,i.description=o.name,i.categoryDescription=o.name,e.push(i)}}),e}async getPreviewUrl(e){var l,c,g,p;const u=(l=this.cfg.previewUrl)!=null?l:"",o=this.getYuquePostKey(e),i=o.docId,a=(g=(c=o.docRepo)!=null?c:this.cfg.blogid)!=null?g:"",n=u.replace("[postid]",i).replace("[notebook]",a);return Y((p=this.cfg.home)!=null?p:"",n)}getYuquePostKey(e){let u,o;if(e.indexOf("_")>0){const i=e.split("_");u=i[0],o=i[1]}else u=e;return{docId:u,docRepo:o}}}class Po extends Ue{constructor(e,u){super();r(this,"baseUrl");r(this,"basicToken");this.baseUrl=e,this.basicToken=u}async addDoc(e,u){const o="/addDoc",i=[{key:"fdDocTemplateId",value:"181f20dcfc5744e90b0b8254499b4af0"},{key:"docSubject",value:e},{key:"docContent",value:u},{key:"fdDocCreator",value:"180f58069509ef61dd964994e4591dab"},{key:"authorType",value:"1"},{key:"docAuthor",value:"180f58069509ef61dd964994e4591dab"}];return(await this.kmsRequestForm(o,i)).fdId}async updateDoc(e,u,o){const i="/updateDoc",a=[{key:"fdId",value:e},{key:"docSubject",value:u},{key:"docContent",value:o}];return await this.kmsRequestForm(i,a),!0}async delDoc(e){const u="/delDoc",o={fdId:e};return await this.kmsRequestJson(u,o),!0}async kmsRequestForm(e,u){const o=this.baseUrl+e,i={headers:{Authorization:`Basic ${this.basicToken}`},method:"POST"},a=await this.doFormFetch(o,i,u),n=a.code,l=a.msg;if(n!==200)throw n===401?new Error(v("\u56E0\u6743\u9650\u4E0D\u8DB3\u64CD\u4F5C\u5DF2\u88AB\u7981\u6B62\uFF1A",l)):new Error("\u8BF7\u6C42\u9519\u8BEF");return a.data}async kmsRequestJson(e,u){const o=this.baseUrl+e,i={body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:`Basic ${this.basicToken}`},method:"POST"},a=await this.doFetch(o,i),n=a.code,l=a.msg;if(n!==200)throw n===401?new Error(v("\u56E0\u6743\u9650\u4E0D\u8DB3\u64CD\u4F5C\u5DF2\u88AB\u7981\u6B62\uFF1A",l)):new Error("\u8BF7\u6C42\u9519\u8BEF");return a.data}}class So extends Oe{constructor(){var i,a;super(m.API_TYPE_KMS);r(this,"kmsApi");const e=(i=this.cfg.username)!=null?i:"",u=(a=this.cfg.password)!=null?a:"",o=Pe.toBase64(`${e}:${u}`);this.kmsApi=new Po(this.cfg.apiUrl,o)}async getUsersBlogs(){const e=[],u=new q;return u.blogid=this.apiType,u.blogName="KMS",u.url=this.cfg.apiUrl,e.push(u),e}async deletePost(e){return await this.kmsApi.delDoc(e)}async editPost(e,u,o){return await this.kmsApi.updateDoc(e,u.title,u.description)}async newPost(e,u){return await this.kmsApi.addDoc(e.title,e.description)}async getPreviewUrl(e){var i,a;const o=((i=this.cfg.previewUrl)!=null?i:"").replace("[postid]",e);return Y((a=this.cfg.home)!=null?a:"",o)}}class Fi{constructor(t){r(this,"type");r(this,"apiAdaptor");if(this.type=t,t.includes("-")){const e=t.split("-");if(e.length>0){const u=e[0];if(u.includes(le.Github.toLowerCase())){this.apiAdaptor=new ie(t);return}else if(u===le.Metaweblog.toLowerCase()){this.apiAdaptor=new J(t);return}else if(u===le.Wordpress.toLowerCase()){this.apiAdaptor=new J(t);return}}}switch(this.type){case m.API_TYPE_SIYUAN:this.apiAdaptor=new Os;break;case m.API_TYPE_VUEPRESS:this.apiAdaptor=new mo;break;case m.API_TYPE_HUGO:this.apiAdaptor=new Eo;break;case m.API_TYPE_HEXO:this.apiAdaptor=new Fo;break;case m.API_TYPE_JEKYLL:this.apiAdaptor=new bo;break;case m.API_TYPE_JVUE:this.apiAdaptor=new fo;break;case m.API_TYPE_CONFLUENCE:this.apiAdaptor=new Co;break;case m.API_TYPE_CNBLOGS:this.apiAdaptor=new yo;break;case m.API_TYPE_WORDPRESS:this.apiAdaptor=new wo;break;case m.API_TYPE_LIANDI:this.apiAdaptor=new Do;break;case m.API_TYPE_YUQUE:this.apiAdaptor=new _o;break;case m.API_TYPE_KMS:this.apiAdaptor=new So;break;default:throw new Error("\u672A\u627E\u5230\u63A5\u53E3\u9002\u914D\u5668\uFF0C\u8BF7\u68C0\u67E5\u53C2\u6570")}}async getRecentPostsCount(t){return await this.apiAdaptor.getRecentPostsCount(t)}async getRecentPosts(t,e,u){return await this.apiAdaptor.getRecentPosts(t,e,u)}async getUsersBlogs(){return await this.apiAdaptor.getUsersBlogs()}async getPost(t,e){return await this.apiAdaptor.getPost(t,e)}async editPost(t,e,u){return await this.apiAdaptor.editPost(t,e,u)}async newPost(t,e){return await this.apiAdaptor.newPost(t,e)}async deletePost(t){return await this.apiAdaptor.deletePost(t)}async getCategories(){return await this.apiAdaptor.getCategories()}async getPreviewUrl(t){return await this.apiAdaptor.getPreviewUrl(t)}}export{Et as $,Jo as A,ci as B,se as C,oi as D,gi as E,di as F,go as G,hi as H,rt as I,w as J,po as K,b as L,x as M,Fi as N,ge as O,V as P,ve as Q,m as R,Os as S,st as T,Zo as U,ho as V,Qo as W,v as X,$o as Y,L as Z,Ei as _,ui as a,jo as a0,qo as a1,ei as a2,ti as a3,Ee as a4,Y as a5,ht as a6,mt as a7,Ko as a8,mi as a9,lu as aa,nu as ab,Se as ac,Wo as ad,Ze as ae,ot as af,ds as ag,Xo as b,we as c,U as d,ct as e,Ie as f,W as g,ye as h,_ as i,it as j,H as k,dt as l,au as m,le as n,ni as o,si as p,ii as q,iu as r,li as s,ai as t,as as u,ri as v,zo as w,me as x,ce as y,pi as z};
